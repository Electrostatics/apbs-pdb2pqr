This directory contains a Python interface for modifying dx files
generated from APBS. 

README updated 8/12/2004 by Todd Dolinsky (todd@ccb.wustl.edu)


Before compiling the wrappers, you will want to change a few variables
in the Makefile:

    CC          - The C compiler
    LDSHARED    - The linker (with any flags)
    PYTHONPATH  - The path to Python's include files 
                  (i.e. /usr/include/python2.2)
    CFLAGS      - Any desired C flags
    LIBPATH     - The path to the directory where APBS libraries have been
                  installed - this directory should contain libapbs.a and
                  libapbsmainroutines.a

Next simply type 

    make

    This will convert the SWIG-wrapped vgrid.c (vgridlib.c) to the 
    shared object file vgridc.so, which is accessed by vgrid.py.
    
    You may also need to edit the Makefile to include machine specific
    compilers and libraries - one known problem is if you would like 
    to use Intel's Fortran compiler (ifc), you might need to link to two 
    additional libraries, libg2c and lstdc++ .

	These may be found (on this machine, at least) at
		/usr/lib/gcc-lib/i386-redhat-linux/3.2.3/

    If installation was successful, you should see the vgridc.so shared
    object file.


Scripts in this directory:

    mergedx.py - merges multiple dx files generated from parallel
        APBS runs into one merged dx file. Users may also resample the
        grid size if desired.  Default output is written to mergedgrid.dx
 
        Usage: mergedx.py [options] <input-file> <dx-stem>
 
        Required Arguments:
            <input-file>   : The path to an APBS input file used to
                             generate the dx file.  If the APBS run was
                             asynchronous, any of the input files may be used
            <dx-stem>      : The stem of the dx filenames.  This script will
                             add the digit and the .dx extension -  note that
                             the dx files MUST be trailed by the form *.dx
 
                             Example: given dx files 2PHKB-PE0.dx and 
                                      2PHKB-PE1.dx, the stem would be 2PHKB-PE
 
        Optional Arguments:
            --help   (-h)  : Display the usage information
            --out=<outpath>: Save merged dx file into filename <outpath>
            --nx=<xsize>   : Resample to the <xsize> gridpoints in the x dir
            --ny=<ysize>   : Resample to the <ysize> gridpoints in the z dir
            --nz=<zsize>   : Resample to the <zsize> gridpoints in the z dir
                             Note: If resampling, nx, ny, and nz all must be 
                                   specified.
 


    read.py    
    average.py


