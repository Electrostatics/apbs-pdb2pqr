%!PS-Adobe-2.0
%%Creator: dvips(k) 5.95a Copyright 2005 Radical Eye Software
%%Title: zsi.dvi
%%Pages: 71
%%PageOrder: Ascend
%%BoundingBox: 0 0 612 792
%%DocumentFonts: Helvetica Helvetica-Oblique Times-Roman Times-Bold
%%+ CMSY10 Courier Times-Italic Courier-Bold Helvetica-Bold
%%+ Courier-BoldOblique
%%DocumentPaperSizes: Letter
%%EndComments
%DVIPSWebPage: (www.radicaleye.com)
%DVIPSCommandLine: dvips -N0 -t letter -o zsi.ps zsi.dvi
%DVIPSParameters: dpi=600
%DVIPSSource:  TeX output 2007.11.01:2259
%%BeginProcSet: tex.pro 0 0
%!
/TeXDict 300 dict def TeXDict begin/N{def}def/B{bind def}N/S{exch}N/X{S
N}B/A{dup}B/TR{translate}N/isls false N/vsize 11 72 mul N/hsize 8.5 72
mul N/landplus90{false}def/@rigin{isls{[0 landplus90{1 -1}{-1 1}ifelse 0
0 0]concat}if 72 Resolution div 72 VResolution div neg scale isls{
landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div hsize
mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul TR[
matrix currentmatrix{A A round sub abs 0.00001 lt{round}if}forall round
exch round exch]setmatrix}N/@landscape{/isls true N}B/@manualfeed{
statusdict/manualfeed true put}B/@copies{/#copies X}B/FMat[1 0 0 -1 0 0]
N/FBB[0 0 0 0]N/nn 0 N/IEn 0 N/ctr 0 N/df-tail{/nn 8 dict N nn begin
/FontType 3 N/FontMatrix fntrx N/FontBBox FBB N string/base X array
/BitMaps X/BuildChar{CharBuilder}N/Encoding IEn N end A{/foo setfont}2
array copy cvx N load 0 nn put/ctr 0 N[}B/sf 0 N/df{/sf 1 N/fntrx FMat N
df-tail}B/dfs{div/sf X/fntrx[sf 0 0 sf neg 0 0]N df-tail}B/E{pop nn A
definefont setfont}B/Cw{Cd A length 5 sub get}B/Ch{Cd A length 4 sub get
}B/Cx{128 Cd A length 3 sub get sub}B/Cy{Cd A length 2 sub get 127 sub}
B/Cdx{Cd A length 1 sub get}B/Ci{Cd A type/stringtype ne{ctr get/ctr ctr
1 add N}if}B/CharBuilder{save 3 1 roll S A/base get 2 index get S
/BitMaps get S get/Cd X pop/ctr 0 N Cdx 0 Cx Cy Ch sub Cx Cw add Cy
setcachedevice Cw Ch true[1 0 0 -1 -.1 Cx sub Cy .1 sub]{Ci}imagemask
restore}B/D{/cc X A type/stringtype ne{]}if nn/base get cc ctr put nn
/BitMaps get S ctr S sf 1 ne{A A length 1 sub A 2 index S get sf div put
}if put/ctr ctr 1 add N}B/I{cc 1 add D}B/bop{userdict/bop-hook known{
bop-hook}if/SI save N @rigin 0 0 moveto/V matrix currentmatrix A 1 get A
mul exch 0 get A mul add .99 lt{/QV}{/RV}ifelse load def pop pop}N/eop{
SI restore userdict/eop-hook known{eop-hook}if showpage}N/@start{
userdict/start-hook known{start-hook}if pop/VResolution X/Resolution X
1000 div/DVImag X/IEn 256 array N 2 string 0 1 255{IEn S A 360 add 36 4
index cvrs cvn put}for pop 65781.76 div/vsize X 65781.76 div/hsize X}N
/p{show}N/RMat[1 0 0 -1 0 0]N/BDot 260 string N/Rx 0 N/Ry 0 N/V{}B/RV/v{
/Ry X/Rx X V}B statusdict begin/product where{pop false[(Display)(NeXT)
(LaserWriter 16/600)]{A length product length le{A length product exch 0
exch getinterval eq{pop true exit}if}{pop}ifelse}forall}{false}ifelse
end{{gsave TR -.1 .1 TR 1 1 scale Rx Ry false RMat{BDot}imagemask
grestore}}{{gsave TR -.1 .1 TR Rx Ry scale 1 1 false RMat{BDot}
imagemask grestore}}ifelse B/QV{gsave newpath transform round exch round
exch itransform moveto Rx 0 rlineto 0 Ry neg rlineto Rx neg 0 rlineto
fill grestore}B/a{moveto}B/delta 0 N/tail{A/delta X 0 rmoveto}B/M{S p
delta add tail}B/b{S p tail}B/c{-4 M}B/d{-3 M}B/e{-2 M}B/f{-1 M}B/g{0 M}
B/h{1 M}B/i{2 M}B/j{3 M}B/k{4 M}B/w{0 rmoveto}B/l{p -4 w}B/m{p -3 w}B/n{
p -2 w}B/o{p -1 w}B/q{p 1 w}B/r{p 2 w}B/s{p 3 w}B/t{p 4 w}B/x{0 S
rmoveto}B/y{3 2 roll p a}B/bos{/SS save N}B/eos{SS restore}B end

%%EndProcSet
%%BeginProcSet: 8r.enc 0 0
% File 8r.enc  TeX Base 1 Encoding  Revision 2.0  2002-10-30
%
% @@psencodingfile@{
%   author    = "S. Rahtz, P. MacKay, Alan Jeffrey, B. Horn, K. Berry,
%                W. Schmidt, P. Lehman",
%   version   = "2.0",
%   date      = "30 October 2002",
%   filename  = "8r.enc",
%   email     = "tex-fonts@@tug.org",
%   docstring = "This is the encoding vector for Type1 and TrueType
%                fonts to be used with TeX.  This file is part of the
%                PSNFSS bundle, version 9"
% @}
% 
% The idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard encoding, ISO Latin 1, Windows ANSI including the euro symbol,
% MacRoman, and some extra characters from Lucida.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are almost all in their Windows ANSI
% positions, because some Windows users cannot easily reencode the
% fonts, and it makes no difference on other systems. The only Windows
% ANSI characters not available are those that make no sense for
% typesetting -- rubout (127 decimal), nobreakspace (160), softhyphen
% (173). quotesingle and grave are moved just because it's such an
% irritation not having them in TeX positions.
% 
% (2) Remaining characters are assigned arbitrarily to the lower part
% of the range, avoiding 0, 10 and 13 in case we meet dumb software.
% 
% (3) Y&Y Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x12.
% These are /dotlessj /ff /ffi /ffl.
% 
% (4) hyphen appears twice for compatibility with both ASCII and Windows.
%
% (5) /Euro was assigned to 128, as in Windows ANSI
%
% (6) Missing characters from MacRoman encoding incorporated as follows:
%
%     PostScript      MacRoman        TeXBase1
%     --------------  --------------  --------------
%     /notequal       173             0x16
%     /infinity       176             0x17
%     /lessequal      178             0x18
%     /greaterequal   179             0x19
%     /partialdiff    182             0x1A
%     /summation      183             0x1B
%     /product        184             0x1C
%     /pi             185             0x1D
%     /integral       186             0x81
%     /Omega          189             0x8D
%     /radical        195             0x8E
%     /approxequal    197             0x8F
%     /Delta          198             0x9D
%     /lozenge        215             0x9E
%
/TeXBase1Encoding [
% 0x00
 /.notdef /dotaccent /fi /fl
 /fraction /hungarumlaut /Lslash /lslash
 /ogonek /ring /.notdef /breve
 /minus /.notdef /Zcaron /zcaron
% 0x10
 /caron /dotlessi /dotlessj /ff
 /ffi /ffl /notequal /infinity
 /lessequal /greaterequal /partialdiff /summation
 /product /pi /grave /quotesingle
% 0x20
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quoteright
 /parenleft /parenright /asterisk /plus
 /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three
 /four /five /six /seven
 /eight /nine /colon /semicolon
 /less /equal /greater /question
% 0x40
 /at /A /B /C
 /D /E /F /G
 /H /I /J /K
 /L /M /N /O
% 0x50
 /P /Q /R /S
 /T /U /V /W
 /X /Y /Z /bracketleft
 /backslash /bracketright /asciicircum /underscore
% 0x60
 /quoteleft /a /b /c
 /d /e /f /g
 /h /i /j /k
 /l /m /n /o
% 0x70
 /p /q /r /s
 /t /u /v /w
 /x /y /z /braceleft
 /bar /braceright /asciitilde /.notdef
% 0x80
 /Euro /integral /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE /Omega /radical /approxequal
% 0x90
 /.notdef /.notdef /.notdef /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tilde /trademark /scaron /guilsinglright
 /oe /Delta /lozenge /Ydieresis
% 0xA0
 /.notdef /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot /hyphen /registered /macron
% 0xD0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde
 /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def


%%EndProcSet
%%BeginProcSet: texps.pro 0 0
%!
TeXDict begin/rf{findfont dup length 1 add dict begin{1 index/FID ne 2
index/UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]FontType 0
ne{/Metrics exch def dict begin Encoding{exch dup type/integertype ne{
pop pop 1 sub dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get
div def}ifelse}forall Metrics/Metrics currentdict end def}{{1 index type
/nametype eq{exit}if exch pop}loop}ifelse[2 index currentdict end
definefont 3 -1 roll makefont/setfont cvx]cvx def}def/ObliqueSlant{dup
sin S cos div neg}B/SlantFont{4 index mul add}def/ExtendFont{3 -1 roll
mul exch}def/ReEncodeFont{CharStrings rcheck{/Encoding false def dup[
exch{dup CharStrings exch known not{pop/.notdef/Encoding true def}if}
forall Encoding{]exch pop}{cleartomark}ifelse}if/Encoding exch def}def
end

%%EndProcSet
%%BeginFont: CMSY10
%!PS-AdobeFont-1.1: CMSY10 1.0
%%CreationDate: 1991 Aug 15 07:20:57
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (1.0) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMSY10) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Medium) readonly def
/ItalicAngle -14.035 def
/isFixedPitch false def
end readonly def
/FontName /CMSY10 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 13 /circlecopyrt put
dup 102 /braceleft put
dup 103 /braceright put
dup 110 /backslash put
readonly def
/FontBBox{-29 -960 1116 775}readonly def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA052F09F9C8ADE9D907C058B87E9B6964
7D53359E51216774A4EAA1E2B58EC3176BD1184A633B951372B4198D4E8C5EF4
A213ACB58AA0A658908035BF2ED8531779838A960DFE2B27EA49C37156989C85
E21B3ABF72E39A89232CD9F4237FC80C9E64E8425AA3BEF7DED60B122A52922A
221A37D9A807DD01161779DDE7D31FF2B87F97C73D63EECDDA4C49501773468A
27D1663E0B62F461F6E40A5D6676D1D12B51E641C1D4E8E2771864FC104F8CBF
5B78EC1D88228725F1C453A678F58A7E1B7BD7CA700717D288EB8DA1F57C4F09
0ABF1D42C5DDD0C384C7E22F8F8047BE1D4C1CC8E33368FB1AC82B4E96146730
DE3302B2E6B819CB6AE455B1AF3187FFE8071AA57EF8A6616B9CB7941D44EC7A
71A7BB3DF755178D7D2E4BB69859EFA4BBC30BD6BB1531133FD4D9438FF99F09
4ECC068A324D75B5F696B8688EEB2F17E5ED34CCD6D047A4E3806D000C199D7C
515DB70A8D4F6146FE068DC1E5DE8BC57030ACE57A0A31C99BEDB251A0ECAD78
253AB320C099669BFED2878A6C4038A5BCEB5B4C28040BB8B4AC2C167BB2C999
ED93E2F4AE3E4B44B7B6B469C36A24080D4BEDB5523D202E920D8898DEBD5EB0
CAC3C5D5F01A87F7B15BD1C197B344F7D94E965CBFE73E8A65A2AA6A6F93B878
03E30E60F1390C2FB671C8D36E7D6E516A20079B48CA9BE632F5A8D1250F01EE
6809D6C5B51AE3D1B4C5F2F0273F59A8B6996BAC5E80E1D3465231006F548460
8FAF92EC9040848022ACFB9FDCF92DB3C3BFCC5ECB83DF8FDF612FFA0143E790
8BF3F08C9CFB528D9F148285297C422C3453AC567C162F9AF67A8C04A9C6EF24
F22EAA0E1E3C019E87D4EE91AD20B46B9D0AA009258729F27189AC5CE11652D3
D333BB22D9FA5C9493F0A0BD7535C830DC8B0DA576488CC641C193FE7CC27697
A90351F201AA029742EC530597B0CC5F862A5DBB24A7C6D75B4A116E0B6A285C
04A42215D39D5109AE37295051AF25C4A8317D461D4E67DF4E855356479B6F84
DC5A56370F1B73CE160EF1D35C0C95598363456BAB251BB783EC8D0517B7D82E
F6B8E6ECA69FC7DBD1A64E08A9AF313E04C3B00B4FE18D75E1229C7A482494F8
A78672EFF2E156CC8052A5C44FE7A7DBC97E493C6519CEDE5B0B22461390B8B0
363289D7F2AC693256A3943D6A0854C3CA39F7E7FAE5E36B0B9CA0A8C47BF5FC
2CF48FD8F139786D179CF88ED2F083C1513BAB7963DCF8947184D707A37FE528
61EB53D581AF2B61470F29AEE070A2E97F1425A4C8BBAE7B5AA8D9C59130F6BB
AEF0C4B2B0AF4E9C145EBBA4EC69144632C9E3CF7F7DBB2E9D554CFCB784D942
3081E604D1ACE9F686BA4F27240E4F1DBEFBF506685E4AEB0FF4B5D89A6EFE8F
6043C819750B5720EAE0FE0227A34DA5D92B1BADF2AE24F673B1B2B02580F8D5
AE65D4CFFBC195EFF321DF9D72F98B0516B5D141AA315F2362450C7F398DA68E
170D12D7423F8E43DCBD5DCF8EF74BDE161BB620F43FAD0D106C6C3404C92611
0CEAD737CDA74A1A328CBCEB4B47A9F01AB1EB00BF135902A187EE
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
TeXDict begin 40258431 52099146 1000 600 600 (zsi.dvi)
@start /Fa 166[50 1[50 2[50 3[50 50 50 8[50 50 50 67[{
TeXBase1Encoding ReEncodeFont}9 83.022 /Courier-BoldOblique
rf /Fb 134[72 4[72 3[72 72 72 72 72 2[72 3[72 72 72 14[72
72 15[72 1[72 18[72 46[{TeXBase1Encoding ReEncodeFont}16
119.552 /Courier rf /Fc 162[40 1[40 91[{TeXBase1Encoding ReEncodeFont}2
119.552 /Times-Roman rf /Fd 134[124 2[124 124 124 124
124 1[124 124 2[124 2[124 3[124 124 2[124 9[124 2[124
124 2[124 9[124 2[124 67[{TeXBase1Encoding ReEncodeFont}19
206.559 /Courier rf /Fe 130[45 1[45 45 45 45 45 45 45
45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45
45 45 45 45 1[45 1[45 45 45 45 45 45 45 45 45 45 45 45
45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 1[45 45
45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45
45 45 45 45 45 45 45 45 45 45 45 33[{TeXBase1Encoding ReEncodeFont}89
74.7198 /Courier rf /Ff 134[50 50 72 50 55 28 50 33 1[55
55 55 83 22 50 1[22 55 55 28 55 55 50 1[55 13[66 2[66
78 72 83 5[78 1[66 72 72 66 66 6[28 3[55 55 55 55 55
55 55 1[28 46[{TeXBase1Encoding ReEncodeFont}42 99.6264
/Helvetica rf /Fg 104[120 29[60 60 86 60 66 33 60 40
1[66 66 66 100 27 2[27 66 66 33 66 66 60 66 66 8[80 2[86
73 80 86 1[80 93 86 100 66 2[33 86 93 73 80 86 86 80
80 7[66 66 66 66 66 66 66 66 66 66 1[33 40 45[{
TeXBase1Encoding ReEncodeFont}54 119.552 /Helvetica rf
/Fh 167[80 113 80 86 73 80 86 2[93 86 1[73 2[33 86 93
73 80 86 86 86 86 65[{TeXBase1Encoding ReEncodeFont}19
119.552 /Helvetica-Bold rf /Fi 104[83 28[42 42 42 60
42 46 23 42 28 1[46 46 46 69 18 42 1[18 46 46 23 46 46
42 46 46 8[55 2[60 51 55 60 1[55 65 60 69 46 2[23 60
65 51 55 60 60 55 55 7[46 46 46 46 46 46 46 46 46 46
1[23 28 45[{TeXBase1Encoding ReEncodeFont}56 83.022 /Helvetica
rf /Fj 133[50 50 50 50 50 50 50 50 50 50 50 50 50 50
50 50 1[50 50 50 50 50 50 50 50 50 1[50 4[50 50 50 50
50 50 50 50 50 1[50 50 50 50 50 50 50 50 50 50 50 50
50 50 50 50 10[50 1[50 5[50 4[50 50 40[{TeXBase1Encoding ReEncodeFont}
56 83.022 /Courier-Bold rf /Fk 133[32 37 37 55 37 42
23 32 32 42 42 42 42 60 23 37 23 23 42 42 23 37 42 37
42 42 8[51 69 1[60 46 42 51 1[51 60 55 69 46 2[28 1[60
51 1[60 55 51 51 3[56 11[42 42 1[21 28 21 1[42 39[42
2[{TeXBase1Encoding ReEncodeFont}52 83.022 /Times-Italic
rf /Fl 130[50 1[50 50 50 50 50 50 50 50 50 50 50 50 50
50 50 50 50 50 50 50 50 50 50 50 50 50 50 1[50 1[50 1[50
50 1[50 50 50 50 50 50 50 1[50 50 50 50 50 2[50 50 50
50 50 50 50 50 50 3[50 2[50 1[50 1[50 1[50 50 50 50 50
50 50 50 50 2[50 50 50 1[50 1[50 50 34[{TeXBase1Encoding ReEncodeFont}
72 83.022 /Courier rf /Fm 145[42 6[42 42 88[83 13[{}4
83.022 /CMSY10 rf /Fn 64[37 39[83 42 1[37 37 24[37 42
42 60 42 42 23 32 28 42 42 42 42 65 23 42 23 23 42 42
28 37 42 37 42 37 28 2[28 1[28 51 60 60 78 60 60 51 46
55 60 46 60 60 74 51 60 32 28 60 60 46 51 60 55 55 60
5[23 23 42 42 42 42 42 42 42 42 42 42 23 21 28 21 2[28
28 28 35[46 46 2[{TeXBase1Encoding ReEncodeFont}81 83.022
/Times-Roman rf /Fo 104[83 28[37 42 42 60 42 46 28 32
37 1[46 42 46 69 23 46 1[23 46 42 28 37 46 37 46 42 7[60
3[60 55 46 60 1[51 65 2[55 65 1[32 65 65 1[55 60 60 55
60 7[42 42 42 42 42 42 42 42 42 42 1[21 28 42[46 2[{
TeXBase1Encoding ReEncodeFont}55 83.022 /Times-Bold rf
/Fp 133[37 37 1[54 1[42 21 37 25 1[42 42 42 62 17 37
2[42 42 1[42 42 37 42 42 32[76 17[21 46[{TeXBase1Encoding ReEncodeFont}
22 74.7198 /Helvetica rf /Fq 137[50 3[33 2[50 1[78 7[44
2[50 19[72 22[50 4[50 50 50 3[25 44[{TeXBase1Encoding ReEncodeFont}12
99.6264 /Times-Roman rf /Fr 133[72 4[80 40 72 48 1[80
80 80 1[32 72 1[32 80 2[80 1[72 1[80 13[96 104 14[104
96 21[40 44[{TeXBase1Encoding ReEncodeFont}20 143.462
/Helvetica rf /Fs 140[72 6[32 6[80 3[80 14[104 31[80
80 80 1[40 46[{TeXBase1Encoding ReEncodeFont}9 143.462
/Helvetica-Oblique rf /Ft 104[207 28[103 103 103 149
103 115 57 103 69 1[115 115 115 172 46 103 1[46 115 115
57 115 115 103 115 115 6[126 138 3[149 126 138 149 1[138
161 149 1[115 2[57 149 161 1[138 149 149 138 138 6[57
18[46 39[{TeXBase1Encoding ReEncodeFont}45 206.559 /Helvetica
rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin
%%BeginPaperSize: Letter
letter
%%EndPaperSize
 end
%%EndSetup
%%Page: 1 1
TeXDict begin 1 0 bop 0 83 3901 9 v 652 446 a Ft(ZSI:)58
b(The)g(Zoler)n(a)e(Soap)h(Infr)n(astr)s(ucture)2223
695 y(De)-6 b(v)h(eloper')-10 b(s)56 b(Guide)3015 925
y Fs(Release)38 b(2.1.0)3254 2045 y Fr(Rich)h(Salz,)2689
2228 y(Chr)r(istopher)e(Blunc)m(k)3109 4172 y Fq(No)o(v)o(ember)23
b(01,)i(2007)3161 5201 y Fp(rsalz@datapo)o(w)o(er)l(.com)3260
5317 y(b)o(lunc)o(k@p)n(ython.org)p eop end
%%Page: 2 2
TeXDict begin 2 1 bop 1694 83 a Fo(COPYRIGHT)0 230 y
Fn(Cop)o(yright)380 227 y(c)357 230 y Fm(\015)20 b Fn(2001,)f(Zolera)g
(Systems,)i(Inc.)0 330 y(All)g(Rights)f(Reserv)o(ed.)0
476 y(Cop)o(yright)380 473 y(c)357 476 y Fm(\015)g Fn(2002-2003,)d
(Rich)j(Salz.)0 576 y(All)h(Rights)f(Reserv)o(ed.)0 723
y(Permission)27 b(is)h(hereby)d(granted,)i(free)g(of)g(char)o(ge,)g(to)
g(an)o(y)f(person)g(obtaining)g(a)h(cop)o(y)f(of)h(this)h(softw)o(are)f
(and)f(associated)h(docu-)0 823 y(mentation)20 b(\002les)j(\(the)e
(\224Softw)o(are\224\),)g(to)g(deal)h(in)f(the)h(Softw)o(are)f(without)
g(restriction,)g(including)f(without)g(limitation)i(the)f(rights)g(to)0
922 y(use,)k(cop)o(y)-5 b(,)24 b(modify)-5 b(,)23 b(mer)o(ge,)h
(publish,)g(distrib)n(ute,)h(and/or)d(sell)k(copies)e(of)g(the)g(Softw)
o(are,)g(and)g(to)h(permit)e(persons)h(to)g(whom)g(the)0
1022 y(Softw)o(are)i(is)i(furnished)c(to)j(do)f(so,)j(pro)o(vided)24
b(that)i(the)h(abo)o(v)o(e)e(cop)o(yright)f(notice\(s\))i(and)g(this)h
(permission)f(notice)g(appear)f(in)i(all)0 1121 y(copies)g(of)g(the)g
(Softw)o(are)g(and)g(that)g(both)f(the)i(abo)o(v)o(e)d(cop)o(yright)h
(notice\(s\))g(and)h(this)g(permission)g(notice)f(appear)g(in)i
(supporting)0 1221 y(documentation.)0 1368 y(THE)e(SOFTW)-10
b(ARE)26 b(IS)g(PR)m(O)l(VIDED)g(\224AS)g(IS\224,)h(WITHOUT)e(W)-10
b(ARRANTY)27 b(OF)f(ANY)g(KIND,)g(EXPRESS)g(OR)h(IMPLIED,)0
1468 y(INCLUDING)f(B)o(UT)h(NO)m(T)g(LIMITED)e(T)o(O)h(THE)g(W)-10
b(ARRANTIES)27 b(OF)h(MERCHANT)-8 b(ABILITY)d(,)26 b(FITNESS)g(FOR)i(A)
f(P)-8 b(AR-)0 1567 y(TICULAR)29 b(PURPOSE)g(AND)f(NONINFRINGEMENT)g
(OF)g(THIRD)h(P)-8 b(AR)j(TY)29 b(RIGHTS.)f(IN)h(NO)f(EVENT)g(SHALL)h
(THE)0 1667 y(COPYRIGHT)19 b(HOLDER)g(OR)g(HOLDERS)g(INCLUDED)f(IN)h
(THIS)g(NO)m(TICE)f(BE)h(LIABLE)f(FOR)i(ANY)e(CLAIM,)h(OR)g(ANY)0
1766 y(SPECIAL)25 b(INDIRECT)g(OR)h(CONSEQ)o(UENTIAL)f(D)m(AMA)m(GES,)f
(OR)i(ANY)f(D)m(AMA)m(GES)f(WHA)-9 b(TSOEVER)25 b(RESUL)-8
b(TING)0 1866 y(FR)m(OM)27 b(LOSS)g(OF)g(USE,)f(D)m(A)-9
b(T)h(A)27 b(OR)g(PR)m(OFITS,)f(WHETHER)h(IN)f(AN)h(A)m(CTION)f(OF)h
(CONTRA)m(CT)-6 b(,)27 b(NEGLIGENCE)f(OR)0 1966 y(O)m(THER)20
b(T)o(OR)-5 b(TIOUS)20 b(A)m(CTION,)g(ARISING)h(OUT)f(OF)h(OR)h(IN)e
(CONNECTION)h(WITH)f(THE)g(USE)h(OR)g(PERFORMANCE)0 2065
y(OF)g(THIS)f(SOFTW)-10 b(ARE.)0 2212 y(Except)27 b(as)i(contained)d
(in)i(this)g(notice,)h(the)f(name)f(of)h(a)g(cop)o(yright)e(holder)g
(shall)j(not)e(be)h(used)g(in)g(adv)o(ertising)e(or)h(otherwise)g(to)0
2312 y(promote)18 b(the)j(sale,)f(use)h(or)f(other)f(dealings)g(in)i
(this)g(Softw)o(are)e(without)h(prior)f(written)h(authorization)e(of)h
(the)i(cop)o(yright)d(holder)-5 b(.)1625 2766 y Fo(Ackno)o(wledgments)0
2913 y Fn(W)e(e)60 b(are)e(grateful)f(to)i(the)f(members)g(of)g(the)g
Fl(soapbuilders)f Fn(mailing)h(list)h(\(see)g Fl(http://groups.yahoo.)0
3012 y(com/soapbuilders)p Fn(\),)45 b(Fredrik)d(Lundh)e(for)i(his)h
Fl(soaplib)f Fn(package)f(\(see)i Fl(http://www.secretlabs.com/)0
3112 y(downloads/index.htm)p Fm(n)p Fl(#soap)p Fn(\),)20
b(Cayce)25 b(Ullman)f(and)g(Brian)g(Matthe)n(ws)h(for)e(their)i
Fl(SOAP.py)e Fn(package)g(\(see)i Fl(http:)0 3211 y
(//sourceforge.net/projects/pywebsvc)o(s)p Fn(\).)0 3358
y(W)-7 b(e)31 b(are)f(particularly)e(grateful)g(to)i(Brian)g(Llo)o(yd)f
(and)g(the)h(Zope)f(Corporation)e(\()p Fl(http://www.zope.com)p
Fn(\))g(for)i(letting)g(us)0 3458 y(incorporate)18 b(his)i(ZOPE)h(W)-7
b(ebServices)20 b(package)f(and)g(documentation)f(into)h
Fl(ZSI)p Fn(.)p eop end
%%Page: 1 3
TeXDict begin 1 2 bop 1796 2336 a Fo(Abstract)0 2566
y Fl(ZSI)p Fn(,)24 b(the)h(Zolera)e(SO)m(AP)j(Infrastructure,)c(is)k(a)
f(Python)e(package)g(that)i(pro)o(vides)d(an)j(implementation)d(of)i
(SO)m(AP)h(messaging,)g(as)0 2666 y(described)d(in)i
Fk(The)g(SO)-5 b(AP)23 b(1.1)g(Speci\002cation)p Fn(.)33
b(In)23 b(particular)m(,)f Fl(ZSI)i Fn(parses)g(and)f(generates)f(SO)m
(AP)j(messages,)f(and)f(con)m(v)o(erts)f(be-)0 2766 y(tween)29
b(nati)n(v)o(e)f(Python)f(datatypes)h(and)h(SO)m(AP)g(syntax.)50
b(It)30 b(can)e(also)h(be)g(used)g(to)g(b)n(uild)f(applications)g
(using)g Fk(SO)-5 b(AP)29 b(Messa)o(g)o(es)0 2865 y(with)24
b(Attac)o(hments)p Fn(.)33 b Fl(ZSI)24 b Fn(is)g(\223transport)e
(neutral\224,)h(and)g(pro)o(vides)f(only)g(a)i(simple)g(I/O)f(and)g
(dispatch)g(frame)n(w)o(ork;)g(a)h(more)e(com-)0 2965
y(plete)h(solution)g(is)h(the)g(responsibility)e(of)h(the)h
(application)e(using)h Fl(ZSI)p Fn(.)g(As)h(usage)f(patterns)g(emer)o
(ge,)g(and)f(common)g(application)0 3065 y(frame)n(w)o(orks)c(are)i
(more)g(understood,)d(this)k(may)f(change.)0 3211 y Fl(ZSI)g
Fn(requires)f(Python)g(2.3)h(or)g(later)-5 b(.)0 3358
y(The)20 b Fl(ZSI)g Fn(homepage)e(is)j(at)g Fl
(http://pywebsvcs.sf.net/)p Fn(.)p eop end
%%Page: 2 4
TeXDict begin 2 3 bop eop end
%%Page: 1 5
TeXDict begin 1 4 bop 2764 747 a Ft(CONTENTS)0 1594 y
Fo(1)83 b(Intr)o(oduction)3281 b(1)125 1694 y Fn(1.1)110
b(Ho)n(w)20 b(to)h(Read)f(this)h(Document)42 b(.)g(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)143
b(2)0 1876 y Fo(2)83 b(Examples)3387 b(3)125 1976 y Fn(2.1)110
b(Serv)o(er)20 b(Side)g(Examples)68 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)143
b(3)125 2076 y(2.2)110 b(Client)21 b(Side)f(Examples)81
b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)143 b(7)0 2258 y Fo(3)83
b(Exceptions)3304 b(11)0 2441 y(4)83 b(Utilities)3415
b(13)125 2540 y Fn(4.1)110 b(Lo)n(w-Le)n(v)o(el)19 b(Utilities)25
b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)102 b(13)0 2723
y Fo(5)83 b(The)21 b Fj(ParsedSoap)e Fo(module)h(\227)h(basic)g
(message)f(handling)1801 b(15)0 2906 y(6)83 b(The)21
b Fj(TypeCode)e Fo(classes)i(\227)g(data)e(con)m(v)o(ersions)2165
b(19)125 3005 y Fn(6.1)110 b Fl(TC.TypeCode)65 b Fn(.)41
b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)102 b(19)125 3105
y(6.2)110 b Fl(TC.Any)20 b Fn(\227)h(the)f(basis)h(of)f(dynamic)e
(typing)81 b(.)41 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
102 b(21)125 3205 y(6.3)110 b Fl(TC.SimpleType)27 b Fn(.)41
b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)102 b(23)125 3304 y(6.4)110
b(Strings)67 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)102 b(23)125 3404 y(6.5)110 b(Inte)o(gers)35 b(.)42
b(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)102
b(24)125 3504 y(6.6)110 b(Floating-point)18 b(Numbers)62
b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)102 b(25)125 3603 y(6.7)110
b(Dates)21 b(and)f(T)m(imes)59 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)102 b(26)125 3703 y(6.8)110 b(Boolean)25 b(.)42 b(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)102 b(26)125 3802
y(6.9)110 b(XML)56 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)102 b(27)125 3902 y(6.10)68 b(Comple)o(xT)-7
b(ype)20 b(.)41 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)102
b(27)125 4002 y(6.11)68 b(Struct)42 b(.)f(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)102 b(28)125 4101 y(6.12)68
b(Arrays)76 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)102 b(28)125 4201 y(6.13)68 b(Apache)20 b(Datatype)39
b(.)i(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)102 b(29)0 4384
y Fo(7)83 b(The)21 b Fj(SoapWriter)e Fo(module)h(\227)h(serializing)f
(data)2084 b(31)0 4566 y(8)83 b(The)21 b Fj(Fault)f Fo(module)g(\227)h
(r)o(eporting)e(err)o(ors)2299 b(33)0 4749 y(9)83 b(The)21
b Fj(resolvers)e Fo(module)h(\227)h(fetching)f(r)o(emote)f(data)1944
b(35)0 4932 y(10)41 b(Dispatching)20 b(and)g(In)m(v)o(oking)2778
b(37)125 5031 y Fn(10.1)68 b(Dispatching)25 b(.)41 b(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)102 b(37)125 5131 y(10.2)68
b(The)20 b Fl(client)g Fn(module)f(\227)h(sending)g(SO)m(AP)h(messages)
69 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)102 b(40)0
5313 y Fo(11)41 b(Bibliograph)o(y)3226 b(43)p 0 5549
3901 4 v 3882 5649 a Fi(i)p eop end
%%Page: 2 6
TeXDict begin 2 5 bop 0 83 a Fo(A)65 b(CGI)20 b(Script)h(Array)3059
b(47)125 183 y Fn(A.1)92 b(Intro)78 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)102 b(47)125 282 y(A.2)92
b(CGI)21 b(Script)65 b(.)41 b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)102 b(47)125 382 y(A.3)92 b(client)21 b(test)g(script)k(.)42
b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)102 b(48)125
482 y(A.4)92 b(SO)m(AP)21 b(T)m(race)73 b(.)41 b(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)102 b(48)0 664 y Fo(B)70 b(CGI)20
b(Script)h(Struct)3055 b(53)125 764 y Fn(B.1)97 b(Intro)78
b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)102
b(53)125 863 y(B.2)97 b(CGI)21 b(Script)65 b(.)41 b(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)102 b(53)125 963 y(B.3)97
b(client)21 b(test)g(script)k(.)42 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)102 b(54)125 1063 y(B.4)97 b(SO)m(AP)21 b(T)m(race)73
b(.)41 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)102
b(54)0 1245 y Fo(C)65 b(Complete)20 b(Lo)o(w)g(Le)o(v)o(el)h(Example)
2627 b(55)125 1345 y Fn(C.1)97 b(Intro)78 b(.)41 b(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)102 b(55)125 1445
y(C.2)97 b(code)21 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)102 b(55)125 1544 y(C.3)97 b(SO)m(AP)21
b(T)m(race)73 b(.)41 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)102
b(59)0 1727 y Fo(D)65 b(pickler)20 b(example)3127 b(61)125
1826 y Fn(D.1)92 b(Intro)78 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)102 b(61)125 1926 y(D.2)92 b(code)21
b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
102 b(61)p 0 5549 3901 4 v 0 5649 a Fi(ii)p eop end
%%Page: 1 7
TeXDict begin 1 6 bop 0 83 3901 9 v 3503 230 a Fi(CHAPTER)3641
427 y Fh(ONE)p 0 515 V 2821 978 a Ft(Introduction)0 1457
y Fl(ZSI)p Fn(,)18 b(the)g(Zolera)g(SO)m(AP)h(Infrastructure,)d(is)j(a)
f(Python)f(package)g(that)i(pro)o(vides)d(an)i(implementation)e(of)i
(the)g(SO)m(AP)i(speci\002cation,)0 1556 y(as)26 b(described)f(in)g
Fk(The)h(SO)-5 b(AP)25 b(1.1)g(Speci\002cation)p Fn(.)39
b(In)25 b(particular)m(,)g Fl(ZSI)h Fn(parses)f(and)g(generates)g(SO)m
(AP)h(messages,)h(and)e(con)m(v)o(erts)0 1656 y(between)19
b(nati)n(v)o(e)h(Python)f(datatypes)g(and)h(SO)m(AP)h(syntax.)0
1803 y Fl(ZSI)f Fn(requires)f(Python)g(2.3)h(or)g(later)-5
b(.)0 1950 y(The)20 b Fl(ZSI)g Fn(project)f(is)i(maintained)e(at)i
(SourceF)o(or)o(ge,)c(at)j Fl(http://pywebsvcs.sf.net)p
Fn(.)i Fl(ZSI)e Fn(is)h(discussed)f(on)g(the)g(Python)0
2049 y(web)c(services)f(mailing)g(list,)i(visit)g Fl
(http://lists.sourceforge.net/lists)o(/list)o(info/)o(pywebs)o(vcs-)t
(ta)o(lk)0 2149 y Fn(to)j(subscribe.)0 2296 y(F)o(or)j(those)h
(interested)f(in)g(using)h(the)f Fo(wsdl2py)h Fn(tool)f(see)i(the)e
Fk(User)o(s)i(Guide)p Fn(,)f(it)g(contains)f(a)h(detailed)f(e)o(xample)
g(of)g(ho)n(w)g(to)h(use)g(the)0 2395 y(code)c(generation)e(f)o
(acilities)j(in)f Fl(ZSI)p Fn(.)0 2542 y(F)o(or)f(those)g(interested)f
(in)i(a)f(high-le)n(v)o(el)e(tutorial)i(co)o(v)o(ering)e
Fl(ZSI)i Fn(and)f(why)h(Python)f(w)o(as)i(chosen,)e(see)i(the)f
(article)g Fl(http://www.)0 2642 y(xml.com/pub/a/ws/2002/06/12/soap.ht)
o(ml)p Fn(,)c(written)20 b(by)f(Rich)i(Salz)g(for)e(xml.com.)0
2789 y(SO)m(AP-based)j(processing)e(typically)h(in)m(v)n(olv)o(es)g(se)
n(v)o(eral)g(steps.)31 b(The)22 b(follo)n(wing)e(list)k(details)e(the)g
(steps)h(of)e(a)i(common)d(processing)0 2888 y(model)f(naturally)g
(supported)f(by)i Fl(ZSI)g Fn(\(other)f(models)h(are)g(certainly)f
(possible\):)104 3100 y(1.)41 b Fl(ZSI)27 b Fn(tak)o(es)h(data)f(from)f
(an)h(input)g(stream)g(and)g Fk(par)o(ses)h Fn(it,)h(generating)c(a)j
(DOM-based)e(parse)h(tree)h(as)g(part)f(of)g(creating)f(a)208
3200 y Fl(ParsedSoap)i Fn(object.)53 b(At)30 b(this)g(point)f(the)h
(major)e(syntactic)i(elements)f(of)g(a)i(SO)m(AP)f(message)f(\227)i
(the)e Fl(Header)p Fn(,)j(the)208 3299 y Fl(Body)p Fn(,)19
b(etc.)26 b(\227)20 b(are)h(a)n(v)n(ailable.)104 3465
y(2.)41 b(The)23 b(application)f(does)i Fk(header)e(pr)l(ocessing)p
Fn(.)35 b(More)23 b(speci\002cally)-5 b(,)24 b(it)g(does)g(local)g
(dispatch)f(and)g(processing)f(based)h(on)h(the)208 3564
y(elements)d(in)g(the)g(SO)m(AP)i Fl(Header)p Fn(.)k(The)21
b(SO)m(AP)i Fl(actor)d Fn(and)h Fl(mustUnderstand)f Fn(attrib)n(utes)h
(are)g(also)h(handled)d(\(or)i(at)208 3664 y(least)f(recognized\))e
(here.)104 3829 y(3.)41 b Fl(ZSI)24 b Fn(ne)o(xt)f Fk(par)o(ses)i
Fn(the)f Fl(Body)p Fn(,)g(creating)f(local)h(Python)f(objects)h(from)f
(the)h(data)g(in)g(the)g(SO)m(AP)h(message.)37 b(The)24
b(parsing)f(is)208 3929 y(often)e(under)g(the)h(control)f(of)h(a)h
(list)g(of)f(data)g(descriptions,)f(kno)n(wn)g(as)i Fk(typecodes)p
Fn(,)e(de\002ned)h(by)f(the)i(application)d(because)i(it)208
4029 y(kno)n(ws)15 b(what)h(type)f(of)h(data)f(it)i(is)g(e)o(xpecting.)
k(In)16 b(cases)h(where)e(the)h(SO)m(AP)h(data)e(is)i(kno)n(wn)e(to)h
(be)f(completely)g(self-describing,)208 4128 y(the)20
b(parsing)f(can)h(be)g Fk(dynamic)f Fn(through)f(the)i(use)h(of)f(the)g
Fl(TC.Any)f Fn(class.)104 4294 y(4.)41 b(The)16 b(application)f(no)n(w)
i Fk(dispatc)o(hes)e Fn(to)j(the)e(appropriate)f(handler)g(in)i(order)f
(to)h(do)f(its)i(\223real)f(w)o(ork.)-6 b(\224)23 b(As)18
b(part)e(of)h(its)h(processing)208 4393 y(it)i(may)g(create)g
Fk(output)f(objects)104 4559 y Fn(5.)41 b(The)27 b(application)g
(creates)i(a)f Fl(SoapWriter)f Fn(instance)h(and)g(outputs)f(an)h
(initial)h(set)g(of)f(namespace)f(entries)h(and)g(header)208
4658 y(elements.)104 4824 y(6.)41 b(An)o(y)20 b(local)h(data)g(to)g(be)
g(sent)g(back)f(to)h(the)g(client)g(is)h Fk(serialized)p
Fn(.)28 b(As)21 b(with)h Fl(Body)e Fn(parsing,)g(the)h(datatypes)f(can)
h(be)g(described)208 4923 y(through)d(typecodes)g(or)i(determined)f
(dynamically)f(\(here,)h(through)f(introspection\).)104
5089 y(7.)41 b(In)19 b(the)i(e)n(v)o(ent)e(of)h(an)o(y)f(processing)g
(e)o(xceptions,)f(a)j Fl(Fault)f Fn(object)g(can)g(be)g(raised,)f
(created,)h(and/or)e(serialized.)0 5300 y(Note)25 b(that)h
Fl(ZSI)g Fn(is)g(\223transport)e(neutral\224,)i(and)f(pro)o(vides)f
(only)g(a)i(simple)g(I/O)f(and)g(dispatch)g(frame)n(w)o(ork;)h(a)g
(more)f(complete)g(so-)0 5400 y(lution)e(is)i(a)n(v)n(ailable)e
(through)f(the)i(use)g(of)f(included)f(WSDL)j(tools)f(\()p
Fo(wsdl2py)p Fn(\),)g(b)n(ut)g(otherwise)f(this)h(is)h(the)f
(responsibility)e(of)i(the)p 0 5549 3901 4 v 3854 5649
a Fi(1)p eop end
%%Page: 2 8
TeXDict begin 2 7 bop 0 83 a Fn(application)16 b(using)h
Fl(ZSI)p Fn(.)h(As)h(usage)e(patterns)g(emer)o(ge,)f(and)i(common)d
(application)i(frame)n(w)o(orks)f(are)h(more)g(understood,)f(this)i
(may)0 183 y(change.)0 330 y(W)m(ithin)j(this)g(document,)d
Fl(tns)j Fn(is)g(used)g(as)g(the)g(pre\002x)f(for)g(the)g(application')
-5 b(s)20 b(tar)o(get)g(namespace,)f(and)h(the)h(term)f
Fk(element)g Fn(refers)g(to)0 429 y(a)h(DOM)f(element)g(node.\))0
757 y Fg(1.1)121 b(Ho)n(w)34 b(to)g(Read)h(this)e(Document)0
989 y Fn(Readers)27 b(interested)f(in)i(using)e(WSDL)i(and)e(clients)i
(to)f(web)g(services,)h(and)f(those)g(intending)e(on)i(implementing)e
(web)i(services)0 1089 y(based)c(on)g(e)o(xisting)f(WSDL)i(should)e
(refer)h(to)g(the)g Fk(User)o(s)i(Guide)p Fn(.)33 b(Others)23
b(interested)g(in)g(de)n(v)o(eloping)e(the)i(simplest)g(SO)m(AP)h
(appli-)0 1189 y(cations,)d(or)h(spending)e(the)h(least)i(amount)d(of)h
(time)h(on)f(b)n(uilding)g(a)h(web)f(services)h(infrastructure)d
(should)i(read)g(chapters)g(2,)g(3,)h(and)0 1288 y(10)g(of)g(this)g
(document.)29 b(Readers)22 b(who)g(are)g(de)n(v)o(eloping)e(comple)o(x)
g(services,)i(and)g(who)g(are)g(f)o(amiliar)g(with)g(XML)g(Schema)g
(and/or)0 1388 y(WSDL,)17 b(should)f(read)h(this)g(manual)f(in)h(order)
-5 b(.)23 b(This)17 b(will)h(pro)o(vide)c(them)j(with)g(enough)e
(information)f(to)j(implement)f(the)h(processing)0 1488
y(model)i(described)g(abo)o(v)o(e.)k(The)o(y)d(can)g(skip)g(probably)e
(skip)i(chapters)f(2)h(and)g(10.)0 1634 y Fl(ZSI)27 b
Fn(has)f(the)h(capability)e(to)i(process)f(WSDL)h(de\002nitions)f(and)g
(XML)h(Schema)e(documents)g(\(described)g(in)i Fk(The)f(W)-8
b(eb)27 b(Services)0 1734 y(Description)i(Langua)o(g)o(e)f
Fn(and)h Fk(XMLSc)o(hema)g(1.0)p Fn(\))f(and)i(generate)e(typecodes)h
(automatically)-5 b(.)51 b(F)o(or)30 b(more)f(information)e(see)k(the)0
1834 y Fk(User)o(s)22 b(Guide)p Fn(.)p 0 5549 3901 4
v 0 5649 a Fi(2)2981 b(Chapter)23 b(1.)52 b(Introduction)p
eop end
%%Page: 3 9
TeXDict begin 3 8 bop 0 83 3901 9 v 3503 230 a Fi(CHAPTER)3623
427 y Fh(TW)n(O)p 0 515 V 2993 978 a Ft(Examples)0 1465
y Fn(This)25 b(chapter)f(contains)g(a)i(number)d(of)i(e)o(xamples)f(to)
h(sho)n(w)g(of)n(f)f(some)h(of)g Fl(ZSI)p Fn(')-5 b(s)25
b(features.)39 b(It)25 b(is)h(brok)o(en)d(do)n(wn)h(into)h(client-side)
0 1565 y(and)20 b(serv)o(er)n(-side)f(e)o(xamples,)g(and)g(e)o(xplores)
g(dif)n(ferent)f(implementation)g(options)i Fl(ZSI)g
Fn(pro)o(vides.)0 1892 y Fg(2.1)121 b(Ser)t(v)m(er)33
b(Side)g(Examples)0 2141 y Ff(2.1.1)100 b(Simple)29 b(e)m(xample)0
2344 y Fn(Using)18 b(the)f Fl(ZSI.dispatch)f Fn(module,)h(it)h(is)g
(simple)g(to)g(e)o(xpose)e(Python)h(functions)f(as)i(web)g(services.)24
b(Each)17 b(function)f(is)i(in)m(v)n(ok)o(ed)0 2444 y(with)31
b(all)h(the)f(input)g(parameters)e(speci\002ed)i(in)h(the)f(client')-5
b(s)31 b(SO)m(AP)h(request.)57 b(An)o(y)31 b(v)n(alue)f(returned)f(by)i
(the)g(function)f(will)i(be)0 2544 y(serialized)20 b(back)f(to)i(the)f
(client;)g(multiple)g(v)n(alues)g(can)g(be)g(returned)e(by)i(returning)
e(a)j(tuple.)0 2691 y(The)f(follo)n(wing)e(code)i(sho)n(ws)g(some)g
(simple)g(services:)236 2929 y Fe(#!/usr/local/bin/python2.4)236
3020 y(#)45 b(SOAP)f(Array)236 3203 y(def)h(hello\(\):)416
3294 y(return)e(["Hello,)h(world"])236 3477 y(def)h(echo\()641
3490 y(*)686 3477 y(args\):)416 3568 y(return)e(args)236
3751 y(def)i(sum\()596 3764 y(*)641 3751 y(args\):)416
3842 y(sum)f(=)h(0)416 3933 y(for)f(i)h(in)f(args:)g(sum)g(+=)h(i)416
4025 y(return)e([sum])236 4207 y(def)i(average\()776
4220 y(*)821 4207 y(args\):)416 4299 y(return)e([sum\()954
4312 y(*)999 4299 y(args\))g(/)i(len\(args\)])236 4481
y(from)f(ZSI)h(import)f(dispatch)236 4573 y(dispatch.AsCGI\(rpc=True\))
0 4902 y Fn(Each)15 b(function)f(de\002nes)h(a)h(SO)m(AP)g(request,)f
(so)h(if)g(this)f(script)h(is)g(installed)g(as)g(a)f(CGI)h(script,)g(a)
g(SO)m(AP)h(message)e(can)g(be)g(posted)g(to)g(that)0
5002 y(script')-5 b(s)22 b(URL)g(with)g(an)o(y)e(of)i
Fl(hello)p Fn(,)f Fl(echo)p Fn(,)g(or)g Fl(average)g
Fn(as)h(the)g(request)f(element,)g(and)g(the)g(v)n(alue)g(returned)f
(by)h(the)g(function)0 5101 y(will)32 b(be)g(sent)g(back.)58
b(These)31 b(functions)g(e)o(xpect)f(and)h(return)g(SO)m(AP-ENC:arrayT)
-7 b(ype)29 b(instances)j(which)f(are)g(marshalled)g(into)0
5201 y(p)o(ython)17 b Fl(list)i Fn(instances,)g(this)g(script)g
(interoperates)e(with)i(the)g Fl(client.Binding)p Fn(.)j(F)o(or)d(more)
f(information)e(see)k Fk(Appendix)d(A)p Fn(.)0 5348 y(The)26
b Fl(ZSI)h Fn(CGI)g(dispatcher)e(catches)i(e)o(xceptions)e(and)h(sends)
h(back)f(a)h(SO)m(AP)g(f)o(ault.)44 b(F)o(or)27 b(e)o(xample,)f(a)h(f)o
(ault)g(will)g(be)g(sent)g(if)g(the)p 0 5549 3901 4 v
3854 5649 a Fi(3)p eop end
%%Page: 4 10
TeXDict begin 4 9 bop 0 83 a Fl(hello)20 b Fn(function)e(is)j(gi)n(v)o
(en)e(an)o(y)h(ar)o(guments,)e(or)i(if)g(the)g Fl(average)g
Fn(function)e(is)j(gi)n(v)o(en)e(a)i(non-inte)o(ger)-5
b(.)0 230 y(Here)17 b(is)i(another)c(e)o(xample)h(b)n(ut)i(using)f(SO)m
(AP-ENC:Struct)g(instances)g(which)g(are)g(marshalled)f(into)i(p)o
(ython)d Fl(dict)i Fn(instances,)h(this)0 330 y(script)i(interoperates)
f(with)h(the)g Fl(client.NamedParamBinding)p Fn(.)h(F)o(or)f(more)g
(information)d(see)k Fk(Appendix)d(B)p Fn(.)236 476 y
Fe(#!/usr/local/bin/python2.4)236 568 y(#)45 b(SOAP)f(Struct)236
750 y(def)h(hello\(\):)416 842 y(return)e({"value":"Hello,)g(world"})
236 1024 y(def)i(echo\()641 1037 y(**)731 1024 y(kw\):)416
1116 y(return)e(kw)236 1298 y(def)i(sum\()596 1311 y(**)686
1298 y(kw\):)416 1390 y(sum)f(=)h(0)416 1481 y(for)f(i)h(in)f
(kw.values\(\):)f(sum)h(+=)h(i)236 1572 y(return)f({"value":sum})236
1755 y(def)h(average\()776 1768 y(**)866 1755 y(kw\):)236
1846 y(d)g(=)g(sum\()596 1859 y(**)686 1846 y(kw\))416
1938 y(return)e(d["value"])h(=)g(d["value"]/len\(kw\))236
2120 y(from)g(ZSI)h(import)f(dispatch)236 2212 y
(dispatch.AsCGI\(rpc=True\))0 2679 y Ff(2.1.2)100 b(lo)o(w)28
b(le)m(v)n(el)g(soap)h(processing)g(e)m(xample)0 2882
y Fn(W)-7 b(e)21 b(will)f(no)n(w)e(sho)n(w)i(a)f(more)g(complete)f(e)o
(xample)g(of)h(a)h(rob)n(ust)f(web)g(service)g(implemented)f(at)i(the)f
(SO)m(AP)h(layer)-5 b(.)25 b(It)19 b(tak)o(es)h(as)g(input)0
2982 y(a)k(player)f(name)g(and)h(array)f(of)g(inte)o(gers,)h(and)f
(returns)g(the)h(a)n(v)o(erage.)35 b(It)24 b(is)h(presented)d(in)i
(sections,)h(follo)n(wing)d(the)i(steps)g(detailed)0
3081 y(abo)o(v)o(e.)f(A)e(complete)e(w)o(orking)g(e)o(xample)f(of)i
(this)h(service)f(is)h(a)n(v)n(ailable)f(in)g Fk(Appendix)f(C)p
Fn(.)0 3228 y(The)h(\002rst)h(section)f(reads)g(in)g(a)h(request,)e
(and)h(parses)g(the)g(SO)m(AP)h(header)-5 b(.)p 0 5549
3901 4 v 0 5649 a Fi(4)3050 b(Chapter)24 b(2.)52 b(Examples)p
eop end
%%Page: 5 11
TeXDict begin 5 10 bop 236 83 a Fe(from)44 b(ZSI)h(import)954
96 y(*)236 174 y(import)f(sys)236 266 y(IN,)h(OUT)f(=)h(sys.stdin,)e
(sys.stdout)236 357 y(try:)416 448 y(ps)h(=)h(ParsedSoap\(IN\))236
540 y(except)f(ParseException,)e(e:)416 631 y
(OUT.write\(FaultFromZSIException\(e\).A)o(sSOAP\()o(\)\))416
722 y(sys.exit\(1\))236 814 y(except)i(Exception,)f(e:)416
905 y(#)h(Faulted)g(while)g(processing;)f(we)h(assume)g(it's)g(in)h
(the)f(header.)416 996 y(OUT.write\(FaultFromException\(e,)39
b(1\).AsSOAP\(\)\))416 1088 y(sys.exit\(1\))236 1270
y(#)45 b(We)f(are)h(not)f(prepared)g(to)g(handle)g(any)g(actors)g(or)g
(mustUnderstand)f(elements,)236 1362 y(#)i(so)f(we'll)g(arbitrarily)f
(fault)h(back)h(with)f(the)g(first)g(one)g(we)h(found.)236
1453 y(a)g(=)g(ps.WhatActorsArePresent\(\))236 1544 y(if)g(len\(a\):)
416 1636 y(OUT.write\(FaultFromActor\(a[0]\).AsSOA)o(P\(\)\))416
1727 y(sys.exit\(1\))236 1818 y(mu)g(=)f(ps.WhatMustIUnderstand\(\))236
1910 y(if)h(len\(mu\):)416 2001 y(uri,)f(localname)f(=)i(mu[0])416
2092 y(OUT.write\(FaultFromNotUnderstood\(uri)o(,)39
b(localname\).AsSOAP\(\)\))416 2183 y(sys.exit\(1\))0
2470 y Fn(This)18 b(section)f(de\002nes)h(the)f(mappings)g(between)g
(Python)f(objects)i(and)f(the)g(SO)m(AP)i(data)e(being)g(transmitted.)
23 b(Recall)c(that)f(according)0 2570 y(to)i(the)h(SO)m(AP)g
(speci\002cation,)e(RPC)i(input)f(and)g(output)e(are)j(modeled)d(as)j
(a)g(structure.)236 2716 y Fe(class)44 b(Player:)416
2808 y(def)g(__init__\(self,)1267 2821 y(*)1312 2808
y(args\):)595 2899 y(if)g(not)h(len\(args\):)e(return)595
2990 y(self.Name)g(=)i(args[0])595 3082 y(self.Scores)e(=)i(args[1:])
236 3173 y(Player.typecode)e(=)h(TC.Struct\(Player,)e([)1671
3264 y(TC.String\('Name'\),)1671 3356 y(TC.Array\('Integer',)f
(TC.Integer\(\),)i('Scores',)g(undeclared=True\),)1671
3447 y(],)h('GetAverage'\))236 3538 y(class)g(Average:)416
3630 y(def)g(__init__\(self,)e(average=None\):)595 3721
y(self.average)h(=)h(average)236 3812 y(Average.typecode)e(=)j
(TC.Struct\(Average,)d([)1671 3904 y(TC.Integer\('average'\),)1671
3995 y(],)i('GetAverageResponse'\))0 4282 y Fn(This)20
b(section)g(parses)h(the)f(input,)f(performs)f(the)j(application-le)n
(v)o(el)c(acti)n(vity)-5 b(,)19 b(and)h(serializes)g(the)h(response.)p
0 5549 3901 4 v 0 5649 a Fi(2.1.)52 b(Ser)r(v)n(er)23
b(Side)h(Examples)2843 b(5)p eop end
%%Page: 6 12
TeXDict begin 6 11 bop 236 83 a Fe(try:)416 174 y(player)43
b(=)i(ps.Parse\(Player.typecode\))236 266 y(except)f
(EvaluateException,)e(e:)416 357 y
(OUT.write\(FaultFromZSIException\(e\).A)o(sSOAP\()o(\)\))416
448 y(sys.exit\(1\))236 631 y(try:)416 722 y(total)i(=)g(0)416
814 y(for)g(value)g(in)g(player.Scores:)f(total)h(=)g(total)g(+)h
(value)416 905 y(result)e(=)i(Average\(total)e(/)h
(len\(player.Scores\)\))416 996 y(sw)g(=)h(SoapWriter\(\))416
1088 y(sw.serialize\(result,)c(Average.typecode\))416
1179 y(sw.close\(\))416 1270 y(OUT.write\(str\(sw\)\))236
1362 y(except)j(Exception,)f(e:)416 1453 y
(OUT.write\(FaultFromException\(e,)c(0,)45 b
(sys.exc_info\(\)[2]\).AsSOAP\(\)\))416 1544 y(sys.exit\(1\))0
1831 y Fn(In)25 b(the)g Fl(serialize\(\))e Fn(call)j(abo)o(v)o(e,)e
(the)h(second)g(parameter)e(is)j(optional,)f(since)g
Fl(result)g Fn(is)h(an)f(instance)f(of)h(the)g Fl(Average)0
1930 y Fn(class,)c(and)f(the)g Fl(Average.typecode)e
Fn(attrib)n(ute)h(is)i(the)g(typecode)d(for)i(class)h(instances.)0
2215 y Ff(2.1.3)100 b(A)28 b(mod)p 614 2215 30 4 v 37
w(p)m(ython)h(e)m(xample)0 2418 y Fn(The)35 b(Apache)f(module)g
Fl(mod_python)g Fn(\(see)h Fl(http://www.modpython.org)p
Fn(\))c(embeds)j(Python)g(within)h(the)g(Apache)0 2518
y(serv)o(er)-5 b(.)24 b(In)17 b(order)g(to)h(e)o(xpose)f(operations)f
(within)h(a)i(module)d(via)i(mod)p 2046 2518 25 4 v 29
w(p)o(ython,)e(use)i(the)g Fl(dispatch.AsHandler\(\))d
Fn(function.)0 2617 y(The)21 b Fl(dispatch.AsHandler\(\))d
Fn(function)i(will)i(dispatch)f(requests)g(to)g(an)o(y)g(operation)e
(de\002ned)i(in)g(the)h(module)e(you)g(pass)i(it,)0 2717
y(which)h(allo)n(ws)g(for)g(multiple)f(operations)g(to)h(be)g
(de\002ned)g(in)g(a)h(module.)32 b(The)23 b(only)g(trick)f(is)j(to)e
(use)p 2975 2717 V 3005 2717 V 83 w(import)p 3258 2717
V 3287 2717 V 82 w(to)h(load)e(the)i(XML)0 2817 y(encodings)17
b(your)g(service)i(e)o(xpects.)k(This)c(is)h(a)f(required)e(w)o
(orkaround)e(to)k(a)n(v)n(oid)f(the)h(pitf)o(alls)g(of)f(restricted)h
(e)o(x)o(ecution)d(with)j(respect)0 2916 y(to)h(XML)h(parsing.)0
3063 y(The)26 b(follo)n(wing)e(is)j(a)g(complete)e(e)o(xample)f(of)i(a)
h(simple)f(handler)-5 b(.)42 b(The)25 b(soap)h(operations)f(are)h
(implemented)e(in)i(the)g(MyHandler)0 3163 y(module:)236
3401 y Fe(def)45 b(hello\(\):)416 3492 y(return)e({"value":"Hello,)g
(world"})236 3675 y(def)i(echo\()641 3688 y(**)731 3675
y(kw\):)416 3766 y(return)e(kw)236 3949 y(def)i(sum\()596
3962 y(**)686 3949 y(kw\):)416 4040 y(sum)f(=)h(0)416
4132 y(for)f(i)h(in)f(kw.values\(\):)f(sum)h(+=)h(i)236
4223 y(return)f({"value":sum})236 4406 y(def)h(average\()776
4419 y(**)866 4406 y(kw\):)236 4497 y(d)g(=)g(sum\()596
4510 y(**)686 4497 y(kw\))416 4588 y(d["value"])e(=)h
(d["value"]/len\(kw\))236 4680 y(return)g(d)0 4966 y
Fn(Dispatching)62 b(from)g(within)g(mod)p 1119 4966 V
29 w(p)o(ython)f(is)j(achie)n(v)o(ed)d(by)h(passing)h(the)g
(aforementined)d(MyHandler)h(module)g(to)0 5066 y Fl
(dispatch.AsHandler\(\))p Fn(.)22 b(The)e(follo)n(wing)e(code)i(e)o
(xposes)f(the)h(operations)f(de\002ned)g(in)h(MyHandler)f(via)h(SO)m
(AP:)p 0 5549 3901 4 v 0 5649 a Fi(6)3050 b(Chapter)24
b(2.)52 b(Examples)p eop end
%%Page: 7 13
TeXDict begin 7 12 bop 236 83 a Fe(from)44 b(ZSI)h(import)f(dispatch)
236 174 y(from)g(mod_python)g(import)f(apache)236 357
y(import)h(MyHandler)236 448 y(mod)h(=)f
(__import__\('encodings.utf_8',)c(globals\(\),)j(locals\(\),)h(')2837
461 y(*)2882 448 y('\))236 540 y(mod)h(=)f
(__import__\('encodings.utf_16_be',)39 b(globals\(\),)44
b(locals\(\),)f(')3016 553 y(*)3061 540 y('\))236 722
y(def)i(handler\(req\):)416 814 y
(dispatch.AsHandler\(modules=\(MyHandle)o(r,\),)39 b(request=req,)j
(rpc=True\))416 905 y(return)h(apache.OK)0 1354 y Fg(2.2)121
b(Client)34 b(Side)f(Examples)0 1603 y Ff(2.2.1)100 b(Simple)29
b(Example)0 1806 y Fl(ZSI)22 b Fn(pro)o(vides)e(tw)o(o)i(w)o(ays)g(for)
f(a)h(client)g(to)g(interacti)n(v)o(e)e(with)i(a)g(serv)o(er:)28
b(the)22 b Fl(Binding)f Fn(or)g Fl(NamedParamBinding)e
Fn(class)k(and)0 1906 y(the)h Fl(ServiceProxy)d Fn(class.)36
b(The)24 b(\002rst)g(is)g(useful)f(when)g(the)h(operations)e(to)h(be)h
(in)m(v)n(ok)o(ed)e(are)h(not)g(de\002ned)g(in)h(WSDL)g(or)f(when)0
2005 y(only)c(simple)h(Python)f(datatypes)g(are)h(used;)g(the)g
Fl(ServiceProxy)e Fn(class)j(can)e(be)h(used)g(to)g(parse)g(WSDL)h
(de\002nitions)e(in)h(order)e(to)0 2105 y(determine)h(ho)n(w)g(to)i
(serialize)f(and)g(parse)g(the)g(SO)m(AP)h(messages.)0
2252 y(During)k(de)n(v)o(elopment,)f(it)j(is)f(often)g(useful)f(to)h
(record)f(\223pack)o(et)g(traces\224)h(of)f(the)h(SO)m(AP)h(messages)f
(being)f(e)o(xchanged.)40 b(Both)26 b(the)0 2351 y Fl(Binding)17
b Fn(and)h Fl(ServiceProxy)e Fn(classes)j(pro)o(vide)d(a)j
Fl(tracefile)e Fn(parameter)f(to)i(specify)g(an)g(output)f(stream)h
(\(such)f(as)i(a)f(\002le\))0 2451 y(to)i(capture)f(messages.)25
b(It)c(can)f(be)g(particularly)f(useful)g(when)h(deb)n(ugging)d(une)o
(xpected)h(SO)m(AP)j(f)o(aults.)0 2598 y(The)g(\002rst)h(e)o(xample)e
(pro)o(vided)e(belo)n(w)j(demonstrates)f(ho)n(w)g(to)i(use)f(the)g
Fl(NamedParamBinding)e Fn(class)j(to)g(connect)d(to)j(a)f(remote)0
2698 y(service)f(and)g(perform)e(an)i(operation.)236
3027 y Fe(#!/usr/bin/env)43 b(python)236 3118 y(import)h(sys,time)236
3210 y(from)g(ZSI.client)g(import)f(NamedParamBinding)f(as)j(NPBinding)
236 3392 y(b)g(=)g(NPBinding\(url='http://127.0.0.1/cgi-)o(bin/so)o
(apstru)o(ct',)39 b(tracefile=sys.stdout\))236 3484 y(print)44
b("Hello:)g(",)g(b.hello\(\))236 3575 y(print)g("Echo:)g(",)h
(b.echo\(name="josh",)c(year=2006,)i(pi=3.14,)h(time=time.gmtime\(\)\))
236 3666 y(print)g("Sum:)g(",)h(b.sum\(one=1,)e(two=2,)g(three=3\))236
3758 y(print)h("Average:)g(",)g(b.average\(one=100,)e(two=200,)h
(three=300,)g(four=400\))0 4316 y Ff(2.2.2)100 b(Comple)m(x)29
b(Example:)35 b(pic)n(kler)-5 b(.p)m(y)0 4519 y Fn(If)23
b(the)g(operation)e(in)m(v)n(ok)o(ed)g(returns)h(a)h(Comple)o(xT)-7
b(ype,)21 b(typecode)g(information)f(must)j(be)g(pro)o(vided)d(in)j
(order)f(to)h(tell)g Fl(ZSI)g Fn(ho)n(w)f(to)0 4619 y(deserialize)e
(the)g(response.)k(Here)c(is)h(a)g(sample)f(serv)o(er)n(-side)f
(implementation)f(\(for)h(the)h(complete)f(e)o(xample)g(see)i
Fk(Appendix)d(D)p Fn(\):)p 0 5549 3901 4 v 0 5649 a Fi(2.2.)52
b(Client)24 b(Side)h(Examples)2875 b(7)p eop end
%%Page: 8 14
TeXDict begin 8 13 bop 236 174 a Fe(class)44 b(Person:)326
266 y(def)g(__init__\(self,)f(name=None,)g(age=0\):)416
357 y(self.name)g(=)i(name)416 448 y(self.age)e(=)i(age)236
631 y(Person.typecode)e(=)h(TC.Struct\(Person,)416 722
y([TC.String\('name'\),)460 814 y(TC.InonNegativeInteger\('age'\)],)416
905 y('myApp:Person'\))236 1088 y(#)h(my)f(web)h(service)e(that)i
(returns)e(a)i(complex)e(structure)236 1179 y(def)i(getPerson\(name\):)
326 1270 y(fp)f(=)h(open\('\045s.person.pickle',)c(\045)k(name,)e
('r'\))326 1362 y(return)h(pickle.load\(fp\))236 1544
y(#)h(my)f(web)h(service)e(that)i(accepts)e(a)i(complex)e(structure)236
1636 y(def)i(savePerson\(person\):)326 1727 y(fp)f(=)h
(open\('\045s.person.pickle')c(\045)k(person.name,)d('w'\))326
1818 y(pickle\(person,)g(fp\))326 1910 y(fp.close\(\))0
2196 y Fn(In)25 b(order)e(for)i Fl(ZSI)g Fn(to)g(transparently)e
(deserialize)h(the)h(returned)e(comple)o(x)g(type)i(into)g(a)g
Fl(Person)f Fn(instance,)i(a)f(module)f(de\002ning)0
2296 y(the)d(class)g(and)g(its)g(typecode)e(can)i(be)g(passed)f(into)h
(the)g Fl(Binding)p Fn(.)26 b(It)21 b(is)g(also)g(possible)g(to)g(e)o
(xplicitly)e(tell)j Fl(ZSI)f Fn(what)f(typecode)f(to)0
2395 y(use)h(by)g(passing)g(it)h(as)g(a)f(parameter)f(to)h(the)h
Fl(Binding.Receive\(\))c Fn(method.)0 2542 y(The)j(follo)n(wing)e
(fragment)h(sho)n(ws)h(both)f(styles:)236 2780 y Fe(import)44
b(sys)236 2872 y(from)g(ZSI.client)g(import)f(Binding)236
2963 y(from)h(MyComplexTypes)f(import)h(Person)236 3146
y(b)h(=)g(Binding\(url='http://localhost/test3/)o(pickle)o(r.py',)38
b(tracefile=sys.stdout\))236 3237 y(person)44 b(=)h
(Person\('christopher',)c(26\))236 3328 y(rsp)k(=)f
(b.savePerson\(person\))0 3706 y Fn(Because)19 b(the)g(returned)e
(comple)o(x)h(type)g(is)i(de\002ned)e(in)h(a)h(class)g(present)e(in)h
Fk(typesmodule)p Fn(,)f(transparent)f(deserialization)h(is)i(possible.)
0 3806 y(When)g(sending)f(comple)o(x)f(types)i(to)h(the)f(serv)o(er)m
(,)f(it)i(is)g(not)f(necessary)f(to)i(list)g(the)f(module)f(in)h
Fk(typesmodule)p Fn(:)p 0 5549 3901 4 v 0 5649 a Fi(8)3050
b(Chapter)24 b(2.)52 b(Examples)p eop end
%%Page: 9 15
TeXDict begin 9 14 bop 236 174 a Fe(import)44 b(sys)236
266 y(import)g(MyComplexTypes)236 357 y(from)g(ZSI.client)g(import)f
(NamedParamBinding)f(as)j(NPBinding,)e(Binding)236 448
y(from)h(ZSI)h(import)f(TC)236 631 y(kw)h(=)f
({'url':'http://localhost/test3/pickler.py)o(',)39 b
('tracefile':sys.stdout})236 722 y(b)45 b(=)g(NPBinding\()866
735 y(**)956 722 y(kw\))236 814 y(rsp)g(=)f
(b.getPerson\(name='christopher'\))236 905 y(assert)g(type\(rsp\))f(is)
i(dict,)f('expecting)f(a)i(dict')236 996 y(assert)f
(rsp['Person']['name'])d(==)k('christopher',)d('wrong)i(person')236
1179 y(b)h(=)g(NPBinding\(typesmodule=MyComplexTypes)o(,)2119
1192 y(**)2209 1179 y(kw\))236 1270 y(rsp)g(=)f
(b.getPerson\(name='christopher'\))236 1362 y(assert)g
(isinstance\(rsp['Person'],)d(MyComplexTypes.Person\),)g(\()416
1453 y('expecting)i(instance)g(of)i(\045s')f
(\045MyComplexTypes.Person\))236 1636 y(b)h(=)g
(Binding\(typesmodule=MyComplexTypes,)2029 1649 y(**)2119
1636 y(kw\))236 1727 y(class)f(Name\(str\):)416 1818
y(typecode)f(=)i(TC.String\("name"\))236 2001 y(rsp)g(=)f
(b.getPerson\(Name\('christopher'\)\))236 2092 y(assert)g
(isinstance\(rsp['Person'],)d(MyComplexTypes.Person\),)g(\()416
2183 y('expecting)i(instance)g(of)i(\045s')f
(\045MyComplexTypes.Person\))p 0 5549 3901 4 v 0 5649
a Fi(2.2.)52 b(Client)24 b(Side)h(Examples)2875 b(9)p
eop end
%%Page: 10 16
TeXDict begin 10 15 bop 0 5549 3901 4 v 0 5649 a Fi(10)p
eop end
%%Page: 11 17
TeXDict begin 11 16 bop 0 83 3901 9 v 3503 230 a Fi(CHAPTER)3495
427 y Fh(THREE)p 0 515 V 2890 978 a Ft(Exceptions)0 1452
y Fo(exception)19 b Fj(ZSIException)208 1551 y Fn(Base)i(class)g(for)e
(all)i(ZSI)f(Exceptions,)f(it)i(is)g(a)g(subtype)e(of)h(the)g(Python)f
Fl(Exception)g Fn(class.)0 1698 y Fo(exception)g Fj(ParseException)208
1798 y Fl(ZSI)26 b Fn(can)g(raise)h(this)g(e)o(xception)d(while)j
(creating)e(a)i Fl(ParsedSoap)e Fn(object.)43 b(It)27
b(is)h(a)e(subtype)g(of)g(the)g Fl(ZSIException)208 1897
y Fn(class.)e(The)17 b(string)f(form)g(of)g(a)h Fl(ParseException)e
Fn(object)h(consists)h(of)g(a)g(line)g(of)f(human-readable)d(te)o(xt.)
24 b(If)16 b(the)h(backtrace)208 1997 y(is)k(a)n(v)n(ailable,)e(it)i
(will)g(be)f(concatenated)e(as)j(a)g(second)e(line.)0
2144 y(The)h(follo)n(wing)e(attrib)n(utes)j(are)f(read-only:)0
2291 y Fj(inheader)208 2390 y Fn(A)g(boolean)f(that)h(indicates)g(if)h
(the)f(error)f(w)o(as)i(detected)e(in)i(the)f(SO)m(AP)h
Fl(Header)e Fn(element.)0 2537 y Fj(str)208 2637 y Fn(A)h(te)o(xt)g
(string)g(describing)f(the)h(error)-5 b(.)0 2784 y Fj(trace)208
2883 y Fn(A)23 b(te)o(xt)g(string)g(containing)f(a)h(backtrace)f(to)i
(the)f(error)-5 b(.)33 b(This)24 b(may)e(be)i Fl(None)f
Fn(if)g(it)h(w)o(as)g(not)f(possible,)g(such)g(as)h(when)f(there)208
2983 y(w)o(as)e(a)f(general)f(DOM)i(e)o(xception,)d(or)i(when)f(the)h
Fl(str)h Fn(te)o(xt)f(is)h(belie)n(v)o(ed)e(to)h(be)g(suf)n(\002cient.)
0 3130 y Fo(exception)f Fj(EvaluateException)208 3229
y Fn(This)g(e)o(xception)e(is)k(similar)e(to)h Fl(ParseException)p
Fn(,)d(e)o(xcept)h(that)i Fl(ZSI)f Fn(may)g(raise)g(it)h(while)g(con)m
(v)o(erting)c(between)j(SO)m(AP)208 3329 y(and)g(local)h(Python)f
(objects.)0 3476 y(The)h(follo)n(wing)e(attrib)n(utes)j(are)f
(read-only:)0 3623 y Fj(str)208 3722 y Fn(A)g(te)o(xt)g(string)g
(describing)f(the)h(error)-5 b(.)0 3869 y Fj(trace)208
3969 y Fn(A)20 b(te)o(xt)g(backtrace,)f(as)i(described)e(abo)o(v)o(e)f
(for)i Fl(ParseException)p Fn(.)p 0 5549 3901 4 v 3808
5649 a Fi(11)p eop end
%%Page: 12 18
TeXDict begin 12 17 bop 0 5549 3901 4 v 0 5649 a Fi(12)p
eop end
%%Page: 13 19
TeXDict begin 13 18 bop 0 83 3901 9 v 3503 230 a Fi(CHAPTER)3561
427 y Fh(FOUR)p 0 515 V 3234 978 a Ft(Utilities)0 1457
y Fl(ZSI)20 b Fn(de\002nes)g(some)g(utility)g(methods)f(that)i(general)
e(applications)g(may)h(w)o(ant)g(to)g(use.)0 1604 y Fj(Version)p
Fl(\(\))208 1703 y Fn(Returns)f(a)h(three-element)e(tuple)h(containing)
e(the)j(numbers)e(representing)f(the)j(major)m(,)e(minor)m(,)g(and)h
(release)h(identifying)e(the)208 1803 y Fl(ZSI)i Fn(v)o(ersion.)49
b(Ne)n(w)21 b(in)f(v)o(ersion)f(1.1.)0 2130 y Fg(4.1)121
b(Lo)n(w-Le)l(v)m(el)35 b(Utilities)0 2363 y Fl(ZSI)26
b Fn(also)g(de\002nes)g(some)f(lo)n(w-le)n(v)o(el)g(utilities)i(for)e
(its)i(o)n(wn)e(use)h(that)g(start)g(with)g(a)h(leading)e(underscore)e
(and)j(must)f(be)h(imported)0 2463 y(e)o(xplicitly)-5
b(.)24 b(The)o(y)19 b(are)h(documented)d(here)j(because)f(the)o(y)h
(can)g(be)g(useful)g(for)f(de)n(v)o(eloping)f(ne)n(w)i(typecode)e
(classes.)0 2610 y(These)h(functions)e(are)i(mostly)g(used)f(in)h(in)h
Fl(parse)e Fn(methods)g(and)g(the)h Fl(ParsedSoap)f Fn(class.)25
b(The)19 b(serialization)f(routines)g(use)i(the)0 2709
y Fl(ElementProxy)f Fn(class)i(to)f(encapsulate)f(common)f(DOM-le)n(v)o
(el)i(operations.)0 2856 y(Some)f Fl(lambda)p Fn(')-5
b(s)18 b(are)h(de\002ned)f(so)h(that)g(some)g(DOM)g(accessors)f(will)i
(return)e(an)g(empty)g(list)i(rather)e(than)h Fl(None)p
Fn(.)24 b(This)19 b(means)f(that)0 2956 y(rather)h(than)h(writing:)236
3102 y Fe(if)45 b(elt.childNodes:)371 3194 y(for)f(N)h(in)f
(elt.childNodes:)505 3285 y(...)0 3524 y Fn(One)20 b(can)g(write:)236
3671 y Fe(for)45 b(N)f(in)h(_children\(elt\):)371 3763
y(...)0 4049 y Fn(Other)20 b Fl(lambda)p Fn(')-5 b(s)20
b(return)f(SO)m(AP-related)g(attrib)n(utes)i(from)e(an)h(element,)f(or)
h Fl(None)g Fn(if)h(not)e(present.)0 4196 y Fj(_attrs)p
Fl(\()p Fk(element)q Fl(\))208 4296 y Fn(Returns)h(a)g(list)h(of)f(all)
h(attrib)n(utes)f(of)g(the)g(speci\002ed)g Fl(element)p
Fn(.)0 4442 y Fj(_backtrace)p Fl(\()p Fk(elt,)e(dom)p
Fl(\))208 4542 y Fn(This)23 b(function)f(returns)h(a)h(te)o(xt)g
(string)f(that)h(traces)g(a)g(\223path\224)f(from)f Fl(dom)p
Fn(,)j(a)f(DOM)g(root,)f(to)h Fl(elt)p Fn(,)g(an)g(element)f(within)g
(that)208 4642 y(document,)18 b(in)i(XP)o(ath)g(syntax.)0
4789 y Fj(_child_elements)p Fl(\()p Fk(element)q Fl(\))208
4888 y Fn(Returns)g(a)g(list)h(of)f(all)h(children)e(elements)h(of)g
(the)g(speci\002ed)g Fl(element)p Fn(.)0 5035 y Fj(_children)p
Fl(\()p Fk(element)q Fl(\))208 5135 y Fn(Returns)g(a)g(list)h(of)f(all)
h(children)e(of)h(the)g(speci\002ed)g Fl(element)p Fn(.)p
5 5282 25 4 v 30 5282 a(cop)o(yright)p 373 5282 V 48
w(empty)p 612 5282 V 28 w(nsuri)p 807 5282 V 29 w(list)0
5381 y Fj(_find_arraytype)p Fl(\()p Fk(element)q Fl(\))p
0 5549 3901 4 v 3808 5649 a Fi(13)p eop end
%%Page: 14 20
TeXDict begin 14 19 bop 208 83 a Fn(The)19 b(v)n(alue)h(of)g(the)g(SO)m
(AP)h Fl(arrayType)e Fn(attrib)n(ute.)50 b(Ne)n(w)21
b(in)f(v)o(ersion)f(1.2.)0 230 y Fj(_find_attr)p Fl(\()p
Fk(element,)f(name)p Fl(\))208 330 y Fn(The)h(v)n(alue)h(of)g(the)g
(unquali\002ed)e Fl(name)i Fn(attrib)n(ute.)0 476 y Fj(_find_attrNS)p
Fl(\()p Fk(element,)d(namespaceURI,)h(localName)p Fl(\))208
576 y Fn(The)h(v)n(alue)h(of)g(a)g Fl(name)g Fn(attrib)n(ute)g(in)h(a)f
(namespace)f Fl(namespaceURI)p Fn(.)0 723 y Fj(_find_attrNodeNS)p
Fl(\()p Fk(element,)e(namespaceURI,)g(localName)p Fl(\))208
823 y Fn(W)-7 b(orks)20 b(just)h(lik)o(e)g Fl(_find_attrNS)p
Fn(,)d(b)n(ut)i(this)h(function)e(grabs)g(the)i(attrib)n(ute)f(Node)f
(to)i(distinquish)e(between)g(an)i(unspeci-)208 922 y(\002ed)f(attrib)n
(ute\(None\))e(and)h(one)h(set)h(to)f(empty)g(string\(\224\224\).)0
1069 y Fj(_find_default_namespace)p Fl(\()p Fk(element)q
Fl(\))208 1169 y Fn(Returns)g(the)g(v)n(alue)f(of)h(the)g(def)o(ault)g
(namespace.)0 1316 y Fj(_find_encstyle)p Fl(\()p Fk(element)q
Fl(\))208 1415 y Fn(The)f(v)n(alue)h(of)g(the)g(SO)m(AP)h
Fl(encodingStyle)d Fn(attrib)n(ute.)0 1562 y Fj(_find_href)p
Fl(\()p Fk(element)q Fl(\))208 1662 y Fn(The)h(v)n(alue)h(of)g(the)g
(unquali\002ed)e Fl(href)i Fn(attrib)n(ute.)0 1808 y
Fj(_find_type)p Fl(\()p Fk(element)q Fl(\))208 1908 y
Fn(The)f(v)n(alue)h(of)g(the)g(XML)g(Schema)g Fl(type)g
Fn(attrib)n(ute.)0 2055 y Fj(_find_xmlns_prefix)p Fl(\()p
Fk(element,)c(pr)m(e\002x)p Fl(\))208 2155 y Fn(The)j(v)n(alue)h(of)g
(the)g(xmlns:pre\002x)f Fl(type)h Fn(attrib)n(ute.)0
2301 y Fj(_find_xsi_attr)p Fl(\()p Fk(element,)d(attrib)n(ute)p
Fl(\))208 2401 y Fn(Find)j(the)g(attrib)n(ute)g(in)g(an)o(y)f(of)h(the)
g(XMLSchema)g(namespaces.)0 2548 y Fj(_get_element_nsuri_name)p
Fl(\()p Fk(element)q Fl(\))208 2648 y Fn(Returns)g(a)g
Fl(\(namespace,name\))e Fn(tuple)i(representing)e(the)i(element)g(tag.)
0 2794 y Fj(_get_idstr)p Fl(\()p Fk(obj)p Fl(\))208 2894
y Fn(Substitute)g(for)h Fl(id)g Fn(function.)k(Python)20
b(2.3.x)g(generates)g(a)h Fl(FutureWarning)e Fn(for)i(ne)o(gati)n(v)o
(e)e(IDs,)i(so)g(we)h(use)f(a)g(dif)n(ferent)208 2994
y(pre\002x)e(character)g(to)h(ensure)g(uniqueness,)e(and)i(call)g
(abs\(\))g(to)h(a)n(v)n(oid)e(the)i(w)o(arning.)0 3141
y Fj(_get_postvalue_from_absoluteURI)p Fl(\()p Fk(url)p
Fl(\))208 3240 y Fn(Returns)f(POST)g(v)n(alue)g(from)f
Fl(url)p Fn(,)h(and)g(caches)g(these)g(v)n(alues.)0 3387
y Fj(_resolve_prefix)p Fl(\()p Fk(element,)d(pr)m(e\002x)p
Fl(\))208 3487 y Fn(resolv)o(e)h Fl(prefix)h Fn(to)h(a)g(namespaceURI.)
e(If)h Fl(None)g Fn(or)h(empty)e Fl(str)p Fn(,)i(return)e(def)o(ault)h
(namespace)f(or)h Fl(None)h Fn(if)g(not)f(de\002ned.)0
3634 y Fj(_valid_encoding)p Fl(\()p Fk(elt)q Fl(\))208
3733 y Fn(Return)24 b(true)h(if)g(the)g(element)f Fl(elt)h
Fn(has)g(a)h(SO)m(AP)f(encoding)e(that)i(can)g(be)g(handled)e(by)i
Fl(ZSI)g Fn(\(currently)d(Section)j(5)g(of)g(the)208
3833 y(SO)m(AP)c(1.1)e(speci\002cation)h(or)f(an)i(empty)e(encoding)f
(for)i(XML\).)p 0 5549 3901 4 v 0 5649 a Fi(14)3101 b(Chapter)24
b(4.)52 b(Utilities)p eop end
%%Page: 15 21
TeXDict begin 15 20 bop 0 83 3901 9 v 3503 230 a Fi(CHAPTER)3634
427 y Fh(FIVE)p 0 515 V 709 978 a Ft(The)57 b Fd(ParsedSoap)g
Ft(module)g(\227)g(basic)2224 1227 y(message)g(handling)0
1717 y Fn(This)20 b(class)i(represents)d(an)h(input)f(stream)h(that)h
(has)f(been)g(parsed)f(as)i(a)g(SO)m(AP)g(message.)0
1864 y Fo(class)g Fj(ParsedSoap)p Fl(\()p Fk(input)q
Fc([)p Fk(,)c(**k)o(e)n(ywor)m(ds)12 b Fc(])p Fl(\))208
1963 y Fn(Creates)26 b(a)g Fl(ParsedSoap)f Fn(object)g(from)g(the)h
(pro)o(vided)d(input)j(source.)41 b(If)26 b Fl(input)f
Fn(is)i(not)f(a)g(string,)h(then)e(it)i(must)f(be)g(an)208
2063 y(object)19 b(with)i(a)f Fl(read\(\))g Fn(method)f(that)h
(supports)f(the)h(standard)f(Python)g(\223\002le)i(read\224)f
(semantics.)208 2196 y(The)f(follo)n(wing)g(k)o(e)o(yw)o(ord)f(ar)o
(guments)g(may)i(be)g(used:)303 2325 y Fo(K)n(eyw)o(ord)p
900 2355 4 100 v 322 w(Default)p 1262 2355 V 98 w(Description)p
254 2358 3601 4 v 303 2428 a Fl(envelope)p 900 2458 4
100 v 280 w(True)p 1262 2458 V 130 w Fn(e)o(xpect)g(a)g(SO)m(AP)h(En)m
(v)o(elope)303 2528 y Fl(keepdom)p 900 2856 4 399 v 305
w(False)p 1262 2856 V 105 w Fn(Do)54 b(not)g(release)f(the)h(DOM)g
(when)f(this)i(object)e(is)i(destro)o(yed.)124 b(T)-7
b(o)54 b(ac-)1313 2627 y(cess)42 b(the)e(DOM)g(object,)k(use)d(the)f
Fl(GetDomAndReader\(\))e Fn(method.)83 b(The)1313 2727
y(reader)45 b(object)g(is)i(necessary)e(to)g(properly)f(free)h(the)h
(DOM)g(structure)e(using)1313 2827 y Fl(reader.releaseNode\(dom\))p
Fn(.)j(Ne)n(w)21 b(in)f(v)o(ersion)f(1.2.)303 2926 y
Fl(readerclass)p 900 3056 4 200 v 130 w(None)p 1262 3056
V 130 w Fn(Class)26 b(used)d(to)h(create)g(DOM-creating)e(XML)i
(readers;)h(described)e(belo)n(w)-5 b(.)71 b(Ne)n(w)1313
3026 y(in)21 b(v)o(ersion)e(1.2.)303 3125 y Fl(resolver)p
900 3155 4 100 v 280 w(None)p 1262 3155 V 130 w Fn(V)-9
b(alue)20 b(for)g(the)g Fl(resolver)f Fn(attrib)n(ute;)h(see)h(belo)n
(w)-5 b(.)303 3225 y Fl(trailers)p 900 3255 V 255 w(False)p
1262 3255 V 105 w Fn(Allo)n(w)21 b(trailing)e(data)h(elements)g(to)h
(appear)e(after)g(the)i Fl(Body)p Fn(.)0 3367 y(The)f(follo)n(wing)e
(attrib)n(utes)j(of)e(a)i Fl(ParsedSoap)e Fn(are)h(read-only:)0
3514 y Fj(body)208 3614 y Fn(The)27 b(root)h(of)f(the)h(SO)m(AP)h
Fl(Body)f Fn(element.)48 b(Using)28 b(the)g Fl(GetElementNSdict\(\))d
Fn(method)i(on)h(this)g(attrib)n(ute)g(can)g(be)208 3713
y(useful)19 b(to)i(get)f(a)g(dictionary)f(to)h(be)g(used)g(with)h(the)f
Fl(SoapWriter)f Fn(class.)0 3860 y Fj(body_root)208 3960
y Fn(The)j(element)f(that)i(contains)e(the)i(SO)m(AP)g(serialization)e
(root;)i(that)g(is,)g(the)g(element)e(in)i(the)f(SO)m(AP)h
Fl(Body)f Fn(that)h(\223starts)g(of)n(f)5 b(\224)208
4059 y(the)20 b(data.)0 4206 y Fj(data_elements)208 4306
y Fn(A)g(\(possibly)f(empty\))g(list)j(of)e(all)g(child)g(elements)g
(of)g(the)g Fl(Body)g Fn(other)g(than)f(the)h(root.)0
4453 y Fj(header)208 4552 y Fn(The)h(root)h(of)g(the)g(SO)m(AP)h
Fl(Header)f Fn(element.)30 b(Using)22 b(the)g Fl(GetElementNSdict\(\))e
Fn(method)g(on)i(this)h(attrib)n(ute)f(can)g(be)208 4652
y(useful)d(to)i(get)f(a)g(dictionary)f(to)h(be)g(used)g(with)h(the)f
Fl(SoapWriter)f Fn(class.)0 4799 y Fj(header_elements)208
4899 y Fn(A)h(\(possibly)f(empty\))g(list)j(of)e(all)g(elements)g(in)h
(the)f(SO)m(AP)h Fl(Header)p Fn(.)0 5045 y Fj(trailer_elements)208
5145 y Fn(Returns)j(a)h(\(possibly)e(empty\))g(list)j(of)e(all)h
(elements)f(follo)n(wing)e(the)j Fl(Body)p Fn(.)37 b(If)24
b(the)h Fl(trailers)e Fn(k)o(e)o(yw)o(ord)g(w)o(as)i(not)f(used)208
5245 y(when)19 b(the)h(object)g(w)o(as)h(constructed,)d(this)j(attrib)n
(ute)f(will)h(not)f(be)g(instantiated)f(and)h(retrie)n(ving)e(it)j
(will)g(raise)g(an)f(e)o(xception.)0 5392 y(The)g(follo)n(wing)e
(attrib)n(ute)i(may)g(be)g(modi\002ed:)p 0 5549 3901
4 v 3808 5649 a Fi(15)p eop end
%%Page: 16 22
TeXDict begin 16 21 bop 0 83 a Fj(resolver)208 183 y
Fn(If)24 b(not)g Fl(None)p Fn(,)i(this)f(attrib)n(ute)f(can)h(be)f(in)m
(v)n(ok)o(ed)f(to)i(handle)f(absolute)g Fl(href)p Fn(')-5
b(s)25 b(in)f(the)h(SO)m(AP)h(data.)38 b(It)25 b(will)g(be)g(in)m(v)n
(ok)o(ed)e(as)208 282 y(follo)n(ws:)208 415 y Fj(resolver)p
Fl(\()p Fk(uri,)18 b(tc,)j(ps,)f(**k)o(e)n(ywor)m(ds)p
Fl(\))390 515 y Fn(The)i Fl(uri)g Fn(parameter)f(is)i(the)f(URI)h(to)g
(resolv)o(e.)30 b(The)22 b Fl(tc)g Fn(parameter)f(is)i(the)f(typecode)f
(that)h(needs)g(to)g(resolv)o(e)g Fl(href)p Fn(;)390
614 y(this)f(may)e(be)h(needed)f(to)h(properly)e(interpret)g(the)i
(content)f(of)h(a)h(MIME)e(bodypart,)f(for)h(e)o(xample.)k(The)d
Fl(ps)g Fn(parameter)390 714 y(is)h(the)f Fl(ParsedSoap)e
Fn(object)i(that)g(is)g(in)m(v)n(oking)e(the)i(resolution)e(\(this)i
(allo)n(ws)h(a)f(single)g(resolv)o(er)e(instance)i(to)g(handle)390
814 y(multiple)g(SO)m(AP)h(parsers\).)390 930 y(F)o(ailure)g(to)h
(resolv)o(e)f(the)h(URI)g(should)f(result)g(in)h(an)g(e)o(xception)e
(being)g(raised.)30 b(If)21 b(there)g(is)i(no)e(content,)g(return)g
Fl(None)p Fn(;)390 1029 y(this)26 b(is)g(not)f(the)g(same)g(as)h(an)f
(empty)f(string.)40 b(If)25 b(there)f(is)i(content,)f(the)h(data)f
(returned)e(should)h(be)h(in)g(a)h(form)e(under)n(-)390
1129 y(standable)c(by)f(the)i(typecode.)0 1276 y(The)f(follo)n(wing)e
(methods)i(are)g(a)n(v)n(ailable:)0 1423 y Fj(Backtrace)p
Fl(\()p Fk(elt)q Fl(\))208 1522 y Fn(Returns)g(a)g(human-readable)d
(\223trace\224)j(from)f(the)h(document)e(root)i(to)g(the)g(speci\002ed)
g(element.)0 1669 y Fj(FindLocalHREF)p Fl(\()p Fk(hr)m(ef)o(,)e(elt)q
Fl(\))208 1769 y Fn(Returns)28 b(the)g(element)g(that)g(has)h(an)f
Fl(id)h Fn(attrib)n(ute)f(whose)g(v)n(alue)f(is)j(speci\002ed)e(by)g
(the)g Fl(href)g Fn(fragment)f(identi\002er)-5 b(.)49
b(The)208 1869 y Fl(href)37 b Fk(must)g Fn(be)h(a)f(fragment)f
(reference)g(\227)h(that)h(is,)k(it)c(must)g(start)f(with)h(a)g(pound)d
(sign.)76 b(This)38 b(method)e(raises)i(an)208 1968 y
Fl(EvaluateException)28 b Fn(e)o(xception)g(if)j(the)g(element)f(isn')o
(t)g(found.)55 b(It)31 b(is)g(mainly)f(for)g(use)h(by)f(the)h(parsing)f
(methods)208 2068 y(in)20 b(the)g Fl(TypeCode)f Fn(module.)0
2215 y Fj(GetElementNSdict)p Fl(\()p Fk(elt)q Fl(\))208
2314 y Fn(Return)i(a)i(dictionary)e(for)g(all)i(the)g(namespace)e
(entries)h(acti)n(v)o(e)g(at)h(the)f(current)f(element.)31
b(Each)22 b(dictionary)e(k)o(e)o(y)i(will)h(be)g(the)208
2414 y(pre\002x)c(and)h(the)g(v)n(alue)f(will)i(be)f(the)h(namespace)e
(URI.)0 2561 y Fj(GetMyHeaderElements)p Fl(\()p Fc([)p
Fk(actorlist=None)12 b Fc(])p Fl(\))208 2660 y Fn(Returns)31
b(a)h(list)g(of)f(all)i(elements)e(in)g(the)h Fl(Header)f
Fn(that)g(are)h(intended)e(for)g Fk(this)i Fn(SO)m(AP)h(processor)-5
b(.)58 b(This)31 b(includes)g(all)208 2760 y(elements)22
b(that)i(either)f(ha)n(v)o(e)f(no)h(SO)m(AP)h Fl(actor)f
Fn(attrib)n(ute,)g(or)g(whose)g(v)n(alue)g(is)h(either)f(the)g(special)
g(\223ne)o(xt)g(actor\224)f(v)n(alue)h(or)208 2860 y(in)d(the)g
Fl(actorlist)f Fn(list)i(of)f(URI')-5 b(s.)0 3007 y Fj(GetDomAndReader)
p Fl(\(\))208 3106 y Fn(Returns)24 b(a)h(tuple)g(containing)e(the)h
(dom)g(and)g(reader)g(objects,)i Fl(\(dom,)49 b(reader\))p
Fn(.)37 b(Unless)26 b(k)o(eepdom)d(is)i(true,)h(the)e(dom)208
3206 y(and)c(reader)h(objects)g(will)h(go)f(out)g(of)g(scope)g(when)g
(the)h(P)o(arsedSoap)e(instance)h(is)h(deleted.)28 b(If)21
b(k)o(eepdom)f(is)i(true,)f(the)h(reader)208 3305 y(object)d(is)i
(needed)e(to)i(properly)d(clean)i(up)f(the)i(dom)e(tree)h(with)g
Fl(reader.releaseNode\(dom\))p Fn(.)0 3452 y Fj(IsAFault)p
Fl(\(\))208 3552 y Fn(Returns)g(true)f(if)i(the)f(message)g(is)h(a)g
(SO)m(AP)g(f)o(ault.)0 3699 y Fj(Parse)p Fl(\()p Fk(how)p
Fl(\))208 3798 y Fn(P)o(arses)38 b(the)f(SO)m(AP)i Fl(Body)e
Fn(according)e(to)j(the)g Fl(how)f Fn(parameter)m(,)j(and)d(returns)g
(a)h(Python)e(object.)76 b(If)38 b Fl(how)f Fn(is)i(not)e(a)208
3898 y Fl(TC.TypeCode)18 b Fn(object,)i(then)f(it)i(should)e(be)i(a)f
(Python)f(class)i(object)f(that)g(has)h(a)f Fl(typecode)g
Fn(attrib)n(ute.)0 4045 y Fj(ResolveHREF)p Fl(\()p Fk(uri,)e(tc)p
Fc([)p Fk(,)i(**k)o(e)n(ywor)m(ds)12 b Fc(])p Fl(\))208
4145 y Fn(This)24 b(method)f(is)i(in)m(v)n(ok)o(ed)e(to)h(resolv)o(e)f
(an)i(absolute)e(URI.)i(If)f(the)g(typecode)f Fl(tc)h
Fn(has)h(a)f Fl(resolver)g Fn(attrib)n(ute,)g(it)h(will)g(use)208
4244 y(it)30 b(to)h(resolv)o(e)e(the)h(URI)g(speci\002ed)g(in)g(the)h
Fl(uri)f Fn(parameter)m(,)g(otherwise)g(it)g(will)h(use)f(its)i(o)n(wn)
d Fl(resolver)p Fn(,)i(or)f(raise)h(an)208 4344 y Fl(EvaluateException)
17 b Fn(e)o(xception.)208 4477 y(An)o(y)i Fl(keyword)h
Fn(parameters)f(will)i(be)f(passed)g(to)h(the)f(chosen)g(resolv)o(er)-5
b(.)24 b(If)d(no)e(content)h(is)h(a)n(v)n(ailable,)f(it)h(will)g
(return)e Fl(None)p Fn(.)208 4576 y(If)h(unable)f(to)h(resolv)o(e)g
(the)g(URI)h(it)g(will)g(raise)f(an)h Fl(EvaluateException)c
Fn(e)o(xception.)23 b(Otherwise,)d(the)h(resolv)o(er)e(should)208
4676 y(return)25 b(data)i(in)f(a)i(form)d(acceptable)h(to)h(the)f
(speci\002ed)h(typecode,)f Fl(tc)p Fn(.)45 b(\(This)26
b(will)i(almost)e(al)o(w)o(ays)i(be)e(a)h(\002le-lik)o(e)g(object)208
4776 y(holding)18 b(opaque)h(data;)h(for)f(XML,)h(it)h(may)f(be)g(a)h
(DOM)f(tree.\))0 4922 y Fj(WhatActorsArePresent)p Fl(\(\))208
5022 y Fn(Returns)g(a)g(list)h(of)f(the)h(v)n(alues)e(of)h(all)h(the)f
(SO)m(AP)h Fl(actor)f Fn(attrib)n(utes)g(found)f(in)h(child)g(elements)
g(of)g(the)g(SO)m(AP)h Fl(Header)p Fn(.)0 5169 y Fj
(WhatMustIUnderstand)p Fl(\(\))208 5269 y Fn(Returns)26
b(a)h(list)h(of)f(`)p Fl(\(uri,)48 b(localname\))p Fn(')25
b(tuples)i(for)f(all)i(elements)e(in)h(the)g(SO)m(AP)h
Fl(Header)e Fn(that)h(ha)n(v)o(e)f(the)h(SO)m(AP)208
5368 y Fl(mustUnderstand)18 b Fn(attrib)n(ute)h(set)i(to)g(a)f
(non-zero)e(v)n(alue.)p 0 5549 3901 4 v 0 5649 a Fi(16)1389
b(Chapter)24 b(5.)52 b(The)23 b Fl(ParsedSoap)e Fi(module)j(\227)f
(basic)g(message)g(handling)p eop end
%%Page: 17 23
TeXDict begin 17 22 bop 0 83 a Fl(ZSI)16 b Fn(supports)g(multiple)f
(DOM)i(implementations.)22 b(The)16 b Fl(readerclass)f
Fn(parameter)f(speci\002es)j(which)f(one)g(to)g(use.)24
b(The)16 b(def)o(ault)0 183 y(is)21 b(to)f(use)h(minidom,)d(pro)o
(vided)g(through)g(the)i Fl(DefaultReader)f Fn(class)i(in)f(the)g
Fl(ZSI.parse)f Fn(module.)0 330 y(The)h(speci\002ed)g(reader)f(class)i
(must)f(support)f(the)h(follo)n(wing)f(methods:)0 476
y Fj(fromString)p Fl(\()p Fk(string)p Fl(\))208 576 y
Fn(Return)g(a)i(DOM)f(object)g(from)f(a)i(string.)0 723
y Fj(fromStream)p Fl(\()p Fk(str)m(eam)p Fl(\))208 823
y Fn(Return)e(a)i(DOM)f(object)g(from)f(a)i(\002le-lik)o(e)f(stream.)0
969 y Fj(releaseNode)p Fl(\()p Fk(dom)p Fl(\))208 1069
y Fn(Free)g(the)g(speci\002ed)g(DOM)g(object.)0 1216
y(The)k(DOM)g(object)g(must)g(support)e(the)i(standard)f(Python)g
(mapping)f(of)i(the)g(DOM)h(Le)n(v)o(el)e(2)h(speci\002cation.)36
b(While)24 b(only)g(a)g(small)0 1316 y(subset)d(of)g(speci\002cation)g
(is)h(used,)f(the)g(particular)f(methods)g(and)h(attrib)n(utes)g(used)g
(by)f Fl(ZSI)i Fn(are)f(a)n(v)n(ailable)f(only)h(by)f(inspecting)h(the)
0 1415 y(source.)0 1562 y(T)-7 b(o)32 b(use)g(the)g Fl(cDomlette)f
Fn(DOM)h(pro)o(vided)e(by)h(the)h(4Suite)g(package,)h(use)g(the)f
Fl(NonvalidatingReader)c Fn(class)33 b(in)g(the)0 1662
y Fl(Ft.Xml.Domlette)17 b Fn(module.)23 b(Due)c(to)g(name)f(changes)g
(in)h(the)g(1.0)f(v)o(ersion)g(of)h(4Suite,)f(a)i(simple)f(adapter)f
(class)h(is)h(required)d(to)0 1761 y(use)j(this)h(DOM)g
(implementation.)236 1999 y Fe(from)44 b(4Suite.Xml.Domlette)e(import)i
(NonvalidatingReaderBase)236 2182 y(class)g
(4SuiteAdapterReader\(NonvalidatingReaderB)o(ase\):)416
2365 y(def)g(fromString\(self,)e(str\):)595 2456 y(return)i
(self.parseString\(str\))416 2639 y(def)g(fromStream\(self,)e
(stream\):)595 2730 y(return)i(self.parseStream\(stream\))416
2913 y(def)g(releaseNode\(self,)e(node\):)595 3004 y(pass)p
0 5549 3901 4 v 3808 5649 a Fi(17)p eop end
%%Page: 18 24
TeXDict begin 18 23 bop 0 5549 3901 4 v 0 5649 a Fi(18)p
eop end
%%Page: 19 25
TeXDict begin 19 24 bop 0 83 3901 9 v 3503 230 a Fi(CHAPTER)3707
427 y Fh(SIX)p 0 515 V 1026 978 a Ft(The)57 b Fd(TypeCode)g
Ft(classes)h(\227)f(data)2807 1227 y(con)l(v)-5 b(ersions)0
1706 y Fn(The)17 b Fl(TypeCode)f Fn(module)f(de\002nes)i(classes)h
(used)f(for)f(con)m(v)o(erting)e(data)j(between)f(SO)m(AP)i(data)f(and)
f(local)h(Python)f(objects.)24 b(Python)0 1805 y(numeric)j(and)g
(string)h(types,)h(and)f(sequences)f(and)g(dictionaries,)i(are)f
(supported)e(by)i Fl(ZSI)p Fn(.)f(The)h Fl(TC.TypeCode)f
Fn(class)i(is)g(the)0 1905 y(parent)19 b(class)i(of)f(all)h(datatypes)e
(understood)f(by)i Fl(ZSI)p Fn(.)0 2052 y(All)h(typecodes)e(classes)i
(ha)n(v)o(e)f(the)g(pre\002x)f Fl(TC.)p Fn(,)h(to)g(a)n(v)n(oid)g(name)
g(clashes.)0 2199 y Fl(ZSI)27 b Fn(pro)o(vides)e(\002ne-grain)h
(control)f(o)o(v)o(er)h(the)h(names)g(used)f(when)h(parsing)f(and)g
(serializing)h(XML)g(into)f(local)h(Python)f(objects,)0
2298 y(through)g(the)i(use)h(of)f(tw)o(o)h(attrib)n(utes:)41
b(the)28 b Fl(pname)p Fn(,)i(the)e Fl(aname)p Fn(.)49
b(The)28 b Fl(pname)g Fn(speci\002es)h(the)f(name)g(e)o(xpected)e(on)i
(the)h(XML)0 2398 y(element)20 b(being)g(parsed)g(and)g(the)h(name)f
(to)h(use)g(for)f(the)g(output)g(element)g(when)g(serializing.)26
b(The)21 b Fl(aname)f Fn(is)i(the)e(name)g(to)h(use)g(for)0
2498 y(the)f(analogous)f(attrib)n(ute)g(in)i(the)f(local)g(Python)f
(object.)0 2644 y(The)f Fl(pname)f Fn(is)i(the)f(parameter)f(name.)23
b(It)c(speci\002es)f(the)g(incoming)e(XML)i(element)g(name)f(and)g(the)
h(def)o(ault)g(v)n(alues)f(for)h(the)g(Python)0 2744
y(attrib)n(ute)i(and)g(serialized)g(names.)26 b(All)c(typecodes)d(tak)o
(e)h(the)h Fl(pname)f Fn(ar)o(gument.)k(This)d(name)f(can)g(be)g
(speci\002ed)h(as)g(either)f(a)h(list)h(or)0 2844 y(a)d(string.)24
b(When)19 b(speci\002ed)g(as)g(a)g(list,)h(it)g(must)f(ha)n(v)o(e)f(tw)
o(o)h(elements)g(which)f(are)h(interpreted)e(as)j(a)f
(\223\(namespace-URI,)d(localname\)\224)0 2943 y(pair)-5
b(.)24 b(If)17 b(speci\002ed)g(this)h(w)o(ay)-5 b(,)18
b(both)e(the)i(namespace)e(and)h(the)g(local)g(element)g(name)g(must)g
(match)g(for)g(the)h(parse)f(to)g(succeed.)24 b(F)o(or)17
b(the)0 3043 y(Python)j(attrib)n(ute,)g(and)h(when)f(generating)f
(output,)g(only)h(the)h(\223localname\224)f(is)i(used.)k(If)21
b(a)g(namespace-URI)f(is)i(speci\002ed)e(then)h(the)0
3143 y(full)f(quali\002ed)f(name)h(is)h(used)f(for)g(output,)e(and)i
(it)h(is)g(required)d(for)i(input;)f(this)i Fk(r)m(equir)m(es)g
Fn(the)f(namespace)f(pre\002x)g(to)h(be)h(speci\002ed.)0
3289 y(The)h Fl(aname)g Fn(is)h(the)g(attrib)n(ute)f(name.)31
b(This)22 b(parameter)f(o)o(v)o(errides)g(an)o(y)g(v)n(alue)h(implied)g
(by)g(the)g Fl(pname)p Fn(.)31 b(T)-7 b(ypecodes)21 b(nested)i(in)f(a)0
3389 y Fl(TC.Struct)d Fn(or)h Fl(TC.ComplexType)d Fn(can)j(use)g(this)h
(parameter)d(to)j(specify)e(the)h(tag,)g(dictionary)e(k)o(e)o(y)-5
b(,)19 b(or)g(instance)h(attrib)n(ute)f(to)0 3489 y(set.)0
3636 y(The)25 b Fl(nsdict)f Fn(parameter)g(to)h(the)g
Fl(SoapWriter)f Fn(construct)g(can)h(be)g(used)g(to)g(specify)f
(pre\002x)h(to)g(namespace-URI)e(mappings,)0 3735 y(these)d(are)g
(otherwise)g(handled)f(automatically)-5 b(.)0 4063 y
Fg(6.1)121 b Fb(TC.TypeCode)0 4295 y Fn(The)20 b Fl(TypeCode)f
Fn(class)i(is)g(the)g(parent)e(class)i(of)f(all)h(typecodes.)0
4442 y Fo(class)g Fj(TypeCode)p Fl(\()p Fk(**k)o(e)n(ywor)m(ds)p
Fl(\))208 4542 y Fn(The)e(follo)n(wing)g(k)o(e)o(yw)o(ord)f(ar)o
(guments)g(may)i(be)g(used:)p 0 5549 3901 4 v 3808 5649
a Fi(19)p eop end
%%Page: 20 26
TeXDict begin 20 25 bop 257 70 a Fo(K)n(eyw)o(ord)p 853
100 4 100 v 390 w(Default)p 1352 100 V 166 w(Description)p
208 103 3736 4 v 257 173 a Fl(pname)p 853 203 4 100 v
498 w(None)p 1352 203 V 198 w Fn(parameter)19 b(name)g(of)h(the)g
(object)257 272 y Fl(aname)p 853 302 V 498 w(None)p 1352
302 V 198 w Fn(attrib)n(ute)g(name)f(of)h(the)h(object)257
372 y Fl(minOccurs)p 853 402 V 372 w(1)p 1352 402 V 274
w Fn(schema)f(f)o(acet)g(minimum)f(occurances)257 472
y Fl(maxOccurs)p 853 501 V 372 w(1)p 1352 501 V 274 w
Fn(schema)h(f)o(acet)g(maximum)f(occurances)257 571 y
Fl(nillable)p 853 601 V 323 w(False)p 1352 601 V 173
w Fn(schema)h(f)o(acet)g(is)h(this)g(nillable)f(\()p
Fl(xsi:nil="true")p Fn(\))257 671 y Fl(typed)p 853 900
4 299 v 498 w(True)p 1352 900 V 198 w Fn(Output)f(type)g(information)e
(\(in)j(the)f Fl(xsi:type)g Fn(attrib)n(ute\))g(when)g(serializing.)24
b(By)1403 770 y(special)31 b(dispensation,)h(typecodes)e(within)h(a)g
Fl(TC.Struct)f Fn(object)g(inherit)h(this)1403 870 y(from)19
b(the)h(container)-5 b(.)257 970 y Fl(unique)p 853 1099
4 200 v 522 w(0)p 1352 1099 V 274 w Fn(If)20 b(true,)f(the)h(object)g
(is)h(unique)d(and)h(will)i(ne)n(v)o(er)e(be)h(\223aliased\224)f(with)i
(another)d(object,)1403 1069 y(so)j(the)f Fl(id)g Fn(attrib)n(ute)g
(need)g(not)f(be)i(output.)257 1169 y Fl(pyclass)p 853
1298 V 398 w(None)p 1352 1298 V 198 w Fn(when)j(parsing)g(data,)i
(instances)f(of)g(this)g(class)h(can)f(be)g(created)f(to)h(store)g(the)
g(data.)1403 1269 y(Def)o(ault)20 b(beha)n(vior)f(is)i(re\003ecti)n(v)o
(e)e(of)h(speci\002c)g(T)-7 b(ypeCode)19 b(classes.)257
1368 y Fl(attrs_aname)p 853 1498 V 98 w('_attrs')p 1352
1498 V 98 w Fn(attrib)n(ute)31 b(name)g(of)h(the)f(object)g(where)g
(attrib)n(ute)h(v)n(alues)f(are)g(stored.)59 b(Used)32
b(for)1403 1468 y(serialization)20 b(and)f(parsing.)208
1596 y(Optional)24 b(elements)i(are)f(those)h(which)f(do)g(not)g(ha)n
(v)o(e)g(to)h(be)g(an)f(incoming)f(message,)i(or)g(which)f(ha)n(v)o(e)g
(the)h(XML)f(Schema)208 1695 y Fl(nil)e Fn(attrib)n(ute)g(set.)35
b(When)24 b(parsing)e(the)h(message)h(as)g(part)f(of)g(a)h
Fl(Struct)p Fn(,)f(then)g(the)g(Python)g(instance)g(attrib)n(ute)g
(will)h(not)208 1795 y(be)d(set,)h(or)f(the)g(element)g(will)h(not)f
(appear)f(as)i(a)g(dictionary)d(k)o(e)o(y)-5 b(.)27 b(When)21
b(being)g(parsed)f(as)i(a)g(simple)f(type,)g(the)g(v)n(alue)g
Fl(None)208 1895 y Fn(is)g(returned.)k(When)20 b(serializing)g(an)h
(optional)e(element,)h(a)h(non-e)o(xistent)e(attrib)n(ute,)h(or)g(a)i
(v)n(alue)e(of)g Fl(None)g Fn(is)i(tak)o(en)e(to)h(mean)208
1994 y(not)e(present,)h(and)f(the)i(element)e(is)i(skipped.)0
2141 y Fj(typechecks)208 2241 y Fn(This)i(is)g(a)h(class)g(attrib)n
(ute.)32 b(If)23 b(true)g(\(the)f(def)o(ault\))g(then)h(all)g(typecode)
e(constructors)g(do)i(more)f(rigorous)f(type-checking)f(on)208
2340 y(their)f(parameters.)0 2487 y Fj(tag)208 2587 y
Fn(This)35 b(is)h(a)f(class)h(attrib)n(ute.)69 b(Speci\002es)35
b(the)g(global)f(element)g(declaration)g(this)h(typecode)e(represents,)
38 b(the)d(v)n(alue)f(is)i(a)208 2687 y(`)p Fl(\(namespace,)47
b(name\))p Fn(')19 b(tuple.)0 2833 y Fj(type)208 2933
y Fn(This)44 b(is)h(a)g(class)g(attrib)n(ute.)97 b(Speci\002es)45
b(the)f(global)f(type)h(de\002nition)f(this)i(typecode)e(represents,)49
b(the)44 b(v)n(alue)g(is)h(a)208 3033 y(`)p Fl(\(namespace,)i(name\))p
Fn(')19 b(tuple.)0 3180 y Fj(attribute_typecode_dict)208
3279 y Fn(This)h(is)h(a)g(class)g(attrib)n(ute.)26 b(This)20
b(is)h(a)g(dict)g(of)f(`)p Fl(\(URI,)48 b(NCName\))p
Fn(')19 b(tuple)h(k)o(e)o(ys,)g(the)h(v)n(alues)f(of)g(each)g(is)h(a)g
(typecode.)i(This)208 3379 y(is)28 b(ho)n(w)f(attrib)n(ute)h
(declarations)e(other)h(than)g(SO)m(AP)h(and)f(XMLSchema)g(attrib)n
(ute)g(declarations)g(\(e)o(g.)46 b Fl(xsi:type)p Fn(,)29
b Fl(id)p Fn(,)208 3478 y Fl(href)p Fn(,)19 b(etc\))i(are)f
(represented.)0 3625 y Fj(logger)208 3725 y Fn(This)g(is)h(a)g(class)g
(attrib)n(ute.)j(logger)19 b(instance)h(for)g(this)g(class.)0
3872 y(The)29 b(follo)n(wing)f(methods)g(are)i(useful)f(for)f
(de\002ning)h(ne)n(w)g(typecode)e(classes;)36 b(see)30
b(the)f(section)g(on)g(dynamic)f(typing)h(for)f(more)0
3971 y(details.)d(In)20 b(all)h(of)f(the)g(follo)n(wing,)e(the)j
Fl(ps)f Fn(parameter)f(is)i(a)f Fl(ParsedSoap)f Fn(object.)0
4118 y Fj(checkname)p Fl(\()p Fk(elt,)g(ps)p Fl(\))208
4218 y Fn(Checks)d(if)g(the)h(name)e(and)h(type)g(of)g(the)g(element)f
Fl(elt)i Fn(are)f(correct)f(and)h(raises)h(a)f Fl(EvaluateException)e
Fn(if)i(not.)24 b(Returns)208 4318 y(the)c(element')-5
b(s)20 b(type)f(as)i(a)g(`)p Fl(\(uri,)49 b(localname\))p
Fn(')18 b(tuple)i(if)g(so.)0 4464 y Fj(checktype)p Fl(\()p
Fk(elt,)f(ps)p Fl(\))208 4564 y Fn(Lik)o(e)46 b Fl(checkname\(\))f
Fn(e)o(xcept)h(that)h(the)g(element)f(name)g(is)h(ignored.)103
b(This)47 b(method)e(is)j(actually)e(in)m(v)n(ok)o(ed)f(by)208
4664 y Fl(checkname\(\))19 b Fn(to)i(do)f(the)h(second)f(half)h(of)f
(its)i(processing,)e(b)n(ut)g(is)i(useful)e(to)h(in)m(v)n(ok)o(e)f
(directly)-5 b(,)20 b(such)g(as)i(when)e(resolving)208
4763 y(multi-reference)d(data.)0 4910 y Fj(nilled)p Fl(\()p
Fk(elt,)i(ps)p Fl(\))208 5010 y Fn(If)33 b(the)h(element)f
Fl(elt)g Fn(has)h(data,)j(this)d(returns)f Fl(False)p
Fn(.)64 b(If)34 b(it)g(has)g(no)f(data,)k(and)c(the)g(typecode)f(is)j
(not)e(optional,)j(an)208 5109 y Fl(EvaluateException)17
b Fn(is)k(raised;)f(if)h(it)g(is)g(optional,)e(a)h Fl(True)g
Fn(is)h(returned.)0 5256 y Fj(simple_value)p Fl(\()p
Fk(elt,)d(ps,)i(mixed=F)-6 b(alse)p Fl(\))208 5356 y
Fn(Returns)38 b(the)h(te)o(xt)g(content)f(of)h(the)f(element)h
Fl(elt)p Fn(.)81 b(If)39 b(no)f(v)n(alue)g(is)i(present,)j(or)38
b(the)h(element)g(has)g(non-te)o(xt)e(chil-)p 0 5549
3901 4 v 0 5649 a Fi(20)1751 b(Chapter)24 b(6.)51 b(The)24
b Fl(TypeCode)d Fi(classes)h(\227)h(data)h(con)n(v)n(ersions)p
eop end
%%Page: 21 27
TeXDict begin 21 26 bop 208 83 a Fn(dren,)47 b(an)c Fl
(EvaluateException)e Fn(is)j(raised.)93 b(If)43 b Fl(mixed)f
Fn(is)i Fl(False)f Fn(if)g(child)g(elements)g(are)g(disco)o(v)o(ered)e
(an)208 183 y Fl(EvaluateException)17 b Fn(is)k(raised,)f(else)h(join)f
(all)h(te)o(xt)f(nodes)f(and)h(return)f(the)h(result.)0
510 y Fg(6.2)121 b Fb(TC.Any)31 b Fg(\227)i(the)i(basis)e(of)h(dynamic)
f(typing)0 743 y Fn(SO)m(AP)c(pro)o(vides)d(a)i(\003e)o(xible)g(set)g
(of)g(serialization)f(rules,)j(ranging)c(from)h(completely)f
(self-describing)g(to)i(completely)e(opaque,)0 843 y(requiring)18
b(an)i(e)o(xternal)f(schema.)24 b(F)o(or)c(e)o(xample,)e(the)i(follo)n
(wing)f(are)h(all)h(possible)e(w)o(ays)i(of)f(encoding)e(an)i(inte)o
(ger)e(element)i Fl(i)g Fn(with)0 942 y(a)h(v)n(alue)e(of)h
Fl(12)p Fn(:)0 1227 y Ff(6.2.1)100 b(simple)29 b(data)0
1430 y Fn(\226)20 b(requires)f(type)h(information)236
1668 y Fe(<tns:i)44 b(xsi:type="SOAP-ENC:integer">12</tns:i>)236
1759 y(<tns:i)g(xsi:type="xsd:nonNegativeInteger">12</t)o(ns:i>)236
1851 y(<SOAP-ENC:integer>12</SOAP-ENC:integer>)236 1942
y(<tns:i>12</tns:i>)0 2229 y Fn(The)16 b(\002rst)h(three)f(lines)g(are)
h(e)o(xamples)e(of)h Fk(typed)f Fn(elements.)24 b(If)16
b Fl(ZSI)g Fn(is)h(ask)o(ed)f(to)h(parse)f(an)o(y)f(of)h(the)g(abo)o(v)
o(e)f(e)o(xamples,)h(and)f(a)i Fl(TC.Any)0 2328 y Fn(typecode)k(is)i
(gi)n(v)o(en,)f(it)h(will)g(properly)d(create)i(a)h(Python)f(inte)o
(ger)f(for)h(the)g(\002rst)h(three,)g(and)f(raise)g(a)h
Fl(EvaluateException)d Fn(for)0 2428 y(the)g(fourth.)0
2713 y Ff(6.2.2)100 b(compound)30 b(data)0 2916 y Fn(\226)18
b(Struct)g(or)g(Array)f(Compound)f(data,)i(such)g(as)h(a)f
Fl(struct)p Fn(,)g(may)f(also)i(be)f(self-describing)e(\(namespace)g
(are)i(omitted)g(for)f(clarity\):)236 3063 y Fe(<tns:foo>)416
3154 y(<tns:i)43 b(xsi:type="SOAP-ENC:integer">12</tns:i>)416
3245 y(<tns:name)g(xsi:type="SOAP-ENC:string">Hello)c(world</tns:name>)
236 3337 y(</tns:foo>)0 3623 y Fn(If)20 b(this)h(is)g(parsed)e(with)i
(a)f Fl(TC.Any)g Fn(typecode,)e(either)i(a)h(Python)e
Fl(dict)h Fn(is)h(created)e(or)h(if)h Fl(aslist)e Fn(is)i(T)m(rue)f(a)h
Fl(list)p Fn(:)236 3861 y Fe(ps)45 b(=)f(ParsedSoap\(xml,)f
(envelope=False\))236 3953 y(print)h(ps.Parse\(TC.Any\(\)\))236
4044 y({)135 b('name':)43 b(u'Hello)h(world',)178 b('i':)44
b(12)134 b(})236 4227 y(print)44 b(ps.Parse\(TC.Any\(aslist=True\)\))
236 4318 y([)h(12,)f(u'Hello)g(world')g(])0 4557 y Fn(Note)20
b(that)g(one)g(preserv)o(es)f(order)m(,)f(while)j(the)f(other)f
(preserv)o(es)g(the)h(element)g(names.)0 4842 y Ff(6.2.3)100
b(class)28 b(descr)q(iption)0 5040 y Fo(class)21 b Fj(Any)p
Fl(\()p Fk(name)p Fc([)p Fk(,)d(**k)o(e)n(ywor)m(ds)12
b Fc(])p Fl(\))208 5140 y Fn(Used)20 b(for)f(parsing)h(incoming)e(SO)m
(AP)j(data)f(\(that)g(is)h(typed\),)e(and)h(serializing)f(outgoing)f
(Python)h(data.)208 5273 y(The)g(follo)n(wing)g(k)o(e)o(yw)o(ord)f(ar)o
(guments)g(may)i(be)g(used:)p 0 5549 3901 4 v 0 5649
a Fi(6.2.)52 b Fl(TC.Any)22 b Fi(\227)h(the)h(basis)f(of)g(dynamic)g
(typing)2189 b(21)p eop end
%%Page: 22 28
TeXDict begin 22 27 bop 415 70 a Fo(K)n(eyw)o(ord)p 788
100 4 100 v 98 w(Default)p 1150 100 V 99 w(Description)p
365 103 3377 4 v 415 173 a Fl(aslist)p 788 402 4 299
v 131 w(False)p 1150 402 V 106 w Fn(If)30 b(true,)i(then)e(the)g(data)g
(is)h(\(recursi)n(v)o(ely\))d(treated)h(as)i(a)g(list)g(of)f(v)n
(alues.)55 b(The)29 b(de-)1202 272 y(f)o(ault)20 b(is)h(a)g(Python)e
(dictionary)-5 b(,)18 b(which)h(preserv)o(es)g(parameter)g(names)h(b)n
(ut)g(loses)h(the)1202 372 y(ordering.)48 b(Ne)n(w)21
b(in)f(v)o(ersion)f(1.1.)208 500 y(In)f(addition,)f(if)i(the)g(Python)e
(object)i(being)e(serialized)i(with)g(an)f Fl(Any)h Fn(has)g(a)g
Fl(typecode)e Fn(attrib)n(ute,)i(then)f(the)h Fl(serialize)208
600 y Fn(method)29 b(of)i(the)g(typecode)e(will)i(be)g(in)m(v)n(ok)o
(ed)e(to)i(do)g(the)g(serialization.)56 b(This)31 b(allo)n(ws)g
(objects)g(to)g(o)o(v)o(erride)d(the)j(def)o(ault)208
699 y(dynamic)18 b(serialization.)0 846 y(Referring)h(back)h(to)g(the)h
(compound)c(XML)k(data)f(abo)o(v)o(e,)e(it)j(is)h(possible)e(to)g
(create)g(a)h(ne)n(w)f(typecode)f(capable)g(of)i(parsing)e(elements)0
946 y(of)g(type)g Fl(mytype)p Fn(.)25 b(This)19 b(class)i(w)o(ould)e
(kno)n(w)f(that)i(the)f Fl(i)h Fn(element)f(is)i(an)e(inte)o(ger)m(,)f
(so)i(that)g(the)f(e)o(xplicit)g(typing)f(becomes)h(optional,)0
1045 y(rather)g(than)h(required.)0 1330 y Ff(6.2.4)100
b(Adding)30 b(ne)n(w)e(types)0 1533 y Fn(Most)d(of)f(the)h
Fl(TypeCodes)f Fn(classes)i(in)f Fl(TC)g Fn(are)f(re)o(gistered)g(with)
h Fl(Any)p Fn(,)g(making)f(an)g(instance)h(of)f(itself)i(a)n(v)n
(ailable)e(for)g(dynamic)0 1633 y(typing.)50 b(Ne)n(w)29
b Fl(TypeCode)f Fn(classes)i(can)f(be)g(created)f(and)g(re)o(gistered)g
(with)h Fl(Any)g Fn(by)f(using)h Fl(RegisterType)p Fn(.)49
b(In)29 b(order)e(to)0 1732 y(o)o(v)o(erride)22 b(an)i(e)o(xisting)f
(entry)g(in)h(the)g(re)o(gistry)f(call)h Fl(RegisterType)e
Fn(with)i Fl(clobber=True)p Fn(.)35 b(The)24 b(serialization)f(entries)
h(are)0 1832 y(mappings)c(between)h(b)n(uiltin)g(Python)g(types)g(and)h
(a)g Fl(TypeCode)e Fn(instance,)i(it)g(is)h(not)e(possible)g(to)h(ha)n
(v)o(e)f(one)g(Python)g(type)g(map)g(to)0 1932 y(multiple)j(typecodes.)
38 b(The)25 b(parsing)f(entries)h(are)g(mappings)e(between)i
Fl(\(namespaceURI,name\))d Fn(tuples,)k(representing)d(the)0
2031 y Fl(xsi:type)17 b Fn(attrib)n(ute,)h(and)g(a)g
Fl(TypeCode)f Fn(instance.)24 b(Thus,)18 b(only)f(one)h(instance)g(of)f
(a)i Fl(TypeCode)e Fn(class)i(can)f(represent)f(a)i(XML)0
2131 y(Schema)h(type.)k(So)c(this)h(mechanism)e(is)i(not)f(appropriate)
e(for)h(representing)g(XML)h(Schema)f(element)h(information.)0
2278 y Fo(class)h Fa(NEWTYPECODE)p Fj(\(TypeCode\))p
Fl(\()p Fk(...)p Fl(\))208 2377 y Fn(The)f(ne)n(w)h(typecode)f(should)g
(be)h(deri)n(v)o(ed)e(from)i(the)g Fl(TC.TypeCode)e Fn(class,)k(and)d
Fl(TypeCode.__init__\(\))e Fn(must)k(be)208 2477 y(in)m(v)n(ok)o(ed)c
(in)i(the)h(ne)n(w)f(class')-5 b(s)21 b(constructor)-5
b(.)0 2624 y Fj(parselist)208 2724 y Fn(This)38 b(is)h(a)f(class)h
(attrib)n(ute,)j(used)37 b(when)h(parsing)e(incoming)h(SO)m(AP)h(data.)
78 b(It)39 b(should)e(be)g(a)i(sequence)e(of)g(`)p Fl(\(uri,)208
2823 y(localname\))p Fn(')24 b(tuples)i(to)g(identify)f(the)i
(datatype.)41 b(If)26 b Fl(uri)g Fn(is)h Fl(None)p Fn(,)h(it)e(is)i
(tak)o(en)d(to)i(mean)e(either)h(the)g(XML)g(Schema)208
2923 y(namespace)15 b(or)i(the)g(SO)m(AP)h(encoding)d(namespace;)i
(this)g(should)f(only)g(be)h(used)g(if)g(adding)e(support)h(for)g
(additional)g(primiti)n(v)o(e)208 3022 y(types.)24 b(If)d(this)f(list)i
(is)f(empty)-5 b(,)19 b(then)g(the)i(type)e(of)h(the)h(incoming)d(SO)m
(AP)j(data)f(is)i(assumed)d(to)i(be)f(correct;)f(an)i(empty)e(list)i
(also)208 3122 y(means)e(that)i(incoming)d(typed)h(data)h(cannot)g(by)f
(dynamically)g(parsed.)0 3269 y Fj(errorlist)208 3369
y Fn(This)26 b(is)i(a)f(class)g(attrib)n(ute,)g(used)g(when)f
(reporting)e(a)j(parsing)e(error)-5 b(.)44 b(It)26 b(is)i(a)f(te)o(xt)f
(string)g(naming)f(the)i(datatype)e(that)i(w)o(as)208
3468 y(e)o(xpected.)c(If)d(not)g(de\002ned,)f Fl(ZSI)h
Fn(will)h(create)f(this)g(attrib)n(ute)g(from)f(the)i
Fl(parselist)e Fn(attrib)n(ute)h(when)f(it)i(is)g(needed.)0
3615 y Fj(seriallist)208 3715 y Fn(This)28 b(is)g(a)g(class)h(attrib)n
(ute,)g(used)f(when)f(serializing)g(Python)g(objects)g(dynamically)-5
b(.)46 b(It)28 b(speci\002es)g(what)g(types)g(of)f(object)208
3814 y(instances)19 b(\(or)f(Python)h(types\))f(this)i(typecode)e(can)h
(serialize.)25 b(It)19 b(should)f(be)i(a)f(sequence,)f(where)h(each)g
(element)g(is)h(a)g(Python)208 3914 y(class)25 b(object,)f(a)h(string)f
(naming)f(the)i(class,)h(or)e(a)h(type)f(object)f(from)h(Python')-5
b(s)23 b Fl(types)h Fn(module)f(\(if)h(the)h(ne)n(w)f(typecode)f(is)208
4014 y(serializing)c(a)i(b)n(uilt-in)e(Python)g(type\).)0
4160 y Fj(parse)p Fl(\()p Fk(elt,)g(ps)p Fl(\))208 4260
y(ZSI)32 b Fn(in)m(v)n(ok)o(es)f(this)i(method)e(to)h(parse)g(the)h
Fl(elt)f Fn(element)f(and)h(return)f(its)j(Python)d(v)n(alue.)60
b(The)32 b Fl(ps)h Fn(parameter)d(is)k(the)208 4360 y
Fl(ParsedSoap)18 b Fn(object,)i(and)f(can)h(be)h(used)f(for)f
(dereferencing)e Fl(href)p Fn(')-5 b(s,)20 b(calling)g
Fl(Backtrace\(\))f Fn(to)h(report)f(errors,)g(etc.)0
4507 y Fj(serialize)p Fl(\()p Fk(sw)-6 b(,)19 b(pyobj)p
Fc([)p Fk(,)g(**k)o(e)n(ywor)m(ds)12 b Fc(])p Fl(\))208
4606 y(ZSI)j Fn(in)m(v)n(ok)o(es)g(this)h(method)e(to)h(output)g(a)h
(Python)e(object)h(to)h(a)g(SO)m(AP)g(stream.)23 b(The)16
b Fl(sw)f Fn(parameter)f(will)i(be)g(a)g Fl(SoapWriter)208
4706 y Fn(object,)j(and)h(the)g Fl(pyobj)g Fn(parameter)e(is)j(the)g
(Python)e(object)g(to)i(serialize.)208 4839 y(The)e(follo)n(wing)g(k)o
(e)o(yw)o(ord)f(ar)o(guments)g(may)i(be)g(used:)p 0 5549
3901 4 v 0 5649 a Fi(22)1751 b(Chapter)24 b(6.)51 b(The)24
b Fl(TypeCode)d Fi(classes)h(\227)h(data)h(con)n(v)n(ersions)p
eop end
%%Page: 23 29
TeXDict begin 23 28 bop 294 70 a Fo(K)n(eyw)o(ord)p 740
100 4 100 v 256 w(Default)p 1272 100 V 183 w(Description)p
244 103 3620 4 v 294 173 a Fl(attrtext)p 740 302 4 200
v 214 w(None)p 1272 302 V 215 w Fn(T)-6 b(e)o(xt)21 b(\(with)g(leading)
f(space\))g(to)i(output)d(as)j(an)f(attrib)n(ute;)g(this)h(is)g
(normally)d(used)i(by)1323 272 y(the)f Fl(TC.Array)g
Fn(class)h(to)f(pass)h(do)n(wn)e(inde)o(xing)f(information.)294
372 y Fl(name)p 740 501 V 414 w(None)p 1272 501 V 215
w Fn(Name)e(to)g(use)h(for)e(serialization;)i(def)o(aults)f(to)g(the)h
(name)e(speci\002ed)h(in)g(the)g(typecode,)1323 472 y(or)k(a)h
(generated)d(name.)294 571 y Fl(typed)p 740 701 V 248
w Fk(per)n(-typecode)p 1272 701 V 97 w Fn(Whether)i(or)f(not)h(to)g
(output)f(type)h(information;)e(the)i(def)o(ault)f(is)i(to)f(use)h(the)
f(v)n(alue)f(in)1323 671 y(the)h(typecode.)0 813 y(Once)j(the)h(ne)n(w)
f(typecode)f(class)j(has)f(been)f(de\002ned,)g(it)h(should)f(be)g(re)o
(gistered)g(with)g Fl(ZSI)p Fn(')-5 b(s)24 b(dynamic)f(type)g(system)h
(by)f(in)m(v)n(oking)0 912 y(the)d(follo)n(wing)f(function:)0
1059 y Fj(RegisterType)p Fl(\()p Fk(class)p Fc([)p Fk(,)f(clobber=0)p
Fc([)p Fk(,)g(**k)o(e)n(ywor)m(ds)12 b Fc(])g(])p Fl(\))208
1159 y Fn(By)20 b(def)o(ault,)f(it)i(is)g(an)e(error)g(to)h(replace)f
(an)h(e)o(xisting)g(type)f(re)o(gistration,)f(and)i(an)f(e)o(xception)f
(will)j(be)f(raised.)25 b(The)19 b Fl(clobber)208 1259
y Fn(parameter)i(may)i(be)h(gi)n(v)o(en)e(to)h(allo)n(w)g(replacement.)
33 b(A)24 b(single)f(instance)g(of)g(the)g Fl(class)g
Fn(object)g(will)h(be)g(created,)f(and)g(the)208 1358
y Fl(keyword)c Fn(parameters)g(are)h(passed)g(to)h(the)f(constructor)-5
b(.)0 1505 y(If)19 b(the)g(class)h(is)g(not)e(re)o(gistered,)g(then)g
(instances)h(of)g(the)g(class)h(cannot)e(be)h(processed)f(as)h(dynamic)
f(types.)24 b(This)19 b(may)g(be)g(acceptable)0 1605
y(in)h(some)g(en)m(vironments.)0 1932 y Fg(6.3)121 b
Fb(TC.SimpleType)0 2165 y Fn(P)o(arent)20 b(class)h(of)f(all)g(simple)h
(types.)0 2312 y Fj(empty_content)208 2411 y Fn(This)f(is)h(a)g(class)g
(attrib)n(ute.)j(V)-9 b(alue)20 b(returned)f(when)g(tag)h(or)g(node)f
(is)j(present,)d(is)i(not)f(nilled,)f(and)h(without)g(te)o(xt)g
(content.)0 2739 y Fg(6.4)121 b(Str)r(ings)0 2972 y Fn(SO)m
(AP/XMLSchema)19 b(Strings)h(are)h(Python)e(strings.)0
3119 y Fo(class)i Fj(String)p Fl(\()p Fk(name)p Fc([)p
Fk(,)d(**k)o(e)n(ywor)m(ds)12 b Fc(])p Fl(\))208 3218
y Fn(The)19 b(parent)h(type)f(of)h(all)h(strings.)208
3351 y(The)e(follo)n(wing)g(k)o(e)o(yw)o(ord)f(ar)o(guments)g(may)i(be)
g(used:)378 3480 y Fo(K)n(eyw)o(ord)p 825 3510 4 100
v 172 w(Default)p 1187 3510 V 99 w(Description)p 328
3513 3451 4 v 378 3583 a Fl(resolver)p 825 3713 4 200
v 130 w(None)p 1187 3713 V 131 w Fn(A)33 b(function)e(that)h(can)h
(resolv)o(e)e(an)i(absolute)f(URI)h(and)f(return)f(its)j(content)d(as)j
(a)1239 3683 y(string,)19 b(as)i(described)e(in)i(the)f
Fl(ParsedSoap)f Fn(description.)378 3782 y Fl(strip)p
825 3812 4 100 v 280 w(True)p 1187 3812 V 131 w Fn(If)h(true,)f
(leading)h(and)f(trailing)h(whitespace)f(are)i(stripped)e(from)g(the)h
(content.)0 3948 y Fo(class)h Fj(Enumeration)p Fl(\()p
Fk(value)p 973 3948 25 4 v 26 w(list,)g(name)p Fc([)p
Fk(,)e(**k)o(e)n(ywor)m(ds)12 b Fc(])p Fl(\))208 4047
y Fn(Lik)o(e)20 b Fl(TC.String)p Fn(,)e(b)n(ut)j(the)f(v)n(alue)f(must)
i(be)f(a)g(member)f(of)h(the)g Fl(choices)g Fn(sequence)f(of)h(te)o(xt)
g(strings)0 4194 y(In)h(addition)f(to)i Fl(TC.String)p
Fn(,)e(the)h(basic)h(string,)f(se)n(v)o(eral)g(subtypes)f(are)i(pro)o
(vided)c(that)k(transparently)d(handle)i(common)e(encod-)0
4294 y(ings.)34 b(These)23 b(classes)i(create)e(a)h(temporary)d(string)
i(object)f(and)h(pass)h(that)f(to)h(the)f Fl(serialize\(\))f
Fn(method.)33 b(When)23 b(doing)f(RPC)0 4394 y(encoding,)h(and)g
(checking)f(for)h(non-unique)e(strings,)k(the)f Fl(TC.String)e
Fn(class)j(must)f(ha)n(v)o(e)g(the)g(original)e(Python)h(string,)h(as)h
(well)0 4493 y(as)c(the)f(ne)n(w)g(output.)k(This)c(is)h(done)e(by)h
(adding)f(a)i(parameter)d(to)j(the)f Fl(serialize\(\))f
Fn(method:)311 4719 y Fo(K)n(eyw)o(ord)p 684 4749 4 100
v 99 w(Default)p 1047 4749 V 98 w(Description)p 262 4753
3377 4 v 311 4822 a Fl(orig)p 684 5052 4 299 v 256 w(None)p
1047 5052 V 131 w Fn(If)e(deri)n(ving)f(a)h(ne)n(w)g(typecode)f(from)g
(the)i(string)e(class,)j(and)e(the)g(deri)n(v)n(ation)e(creates)j(a)
1098 4922 y(temporary)c(Python)h(string)h(\(such)g(as)h(by)e
Fl(Base64String)p Fn(\),)g(than)h(this)h(parameter)1098
5022 y(is)k(the)f(original)f(string)h(being)f(serialized.)0
5223 y Fo(class)i Fj(Base64String)p Fl(\()p Fk(name)p
Fc([)p Fk(,)c(**k)o(e)n(ywor)m(ds)12 b Fc(])p Fl(\))208
5322 y Fn(The)19 b(v)n(alue)h(is)h(encoded)d(in)j(Base-64.)p
0 5549 3901 4 v 0 5649 a Fi(6.3.)52 b Fl(TC.SimpleType)2968
b Fi(23)p eop end
%%Page: 24 30
TeXDict begin 24 29 bop 0 83 a Fo(class)21 b Fj(HexBinaryString)p
Fl(\()p Fk(name)p Fc([)p Fk(,)16 b(**k)o(e)n(ywor)m(ds)c
Fc(])p Fl(\))208 183 y Fn(Each)19 b(byte)h(is)h(encoded)e(as)h(its)i
(printable)d(v)o(ersion.)0 330 y Fo(class)i Fj(URI)p
Fl(\()p Fk(name)p Fc([)p Fk(,)d(**k)o(e)n(ywor)m(ds)12
b Fc(])p Fl(\))208 429 y Fn(The)19 b(v)n(alue)h(is)h(URL)g(quoted)e
(\(e.g.,)g Fl(\04520)h Fn(for)f(the)i(space)f(character\).)0
576 y(It)g(is)h(often)e(the)g(case)i(that)f(a)g(parameter)e(will)i(be)g
(typed)f(as)h(a)h(string)e(for)g(transport)g(purposes,)f(b)n(ut)i(will)
g(in)g(f)o(act)g(ha)n(v)o(e)f(special)h(syntax)0 676
y(and)i(processing)f(requirements.)29 b(F)o(or)22 b(e)o(xample,)f(a)i
(string)f(could)g(be)g(used)g(for)g(an)g(XP)o(ath)g(e)o(xpression,)f(b)
n(ut)h(it)h(is)h(more)d(con)m(v)o(enient)0 775 y(for)f(the)g(Python)f
(v)n(alue)g(to)i(actually)e(be)h(the)h(compiled)d(e)o(xpression.)24
b(Here)c(is)h(ho)n(w)f(to)g(do)g(that:)236 1013 y Fe(import)44
b(xml.xpath.pyxpath)236 1105 y(import)g(xml.xpath.pyxpath.Compile)d(as)
j(_xpath_compile)236 1287 y(class)g(XPathString\(TC.String\):)416
1379 y(def)g(__init__\(self,)e(name,)1536 1392 y(**)1626
1379 y(kw\):)595 1470 y(TC.String.__init__\(self,)f(name,)1985
1483 y(**)2075 1470 y(kw\))416 1653 y(def)j(parse\(self,)f(elt,)h
(ps\):)595 1744 y(val)g(=)h(TC.String.parse\(self,)c(elt,)j(ps\))595
1835 y(try:)774 1927 y(val)h(=)f(_xpath_compile\(val\))595
2018 y(except:)774 2109 y(raise)g(EvaluateException\("Invalid)d(XPath)j
(expression",)1312 2201 y(ps.Backtrace\(elt\)\))595 2292
y(return)g(val)0 2579 y Fn(In)27 b(particular)m(,)h(it)h(is)f(common)e
(to)i(send)g(XML)f(as)i(a)f(string,)h(using)e(entity)h(encoding)d(to)j
(protect)f(the)h(ampersand)e(and)h(less-than)0 2678 y(characters.)0
2825 y Fo(class)21 b Fj(XMLString)p Fl(\()p Fk(name)p
Fc([)p Fk(,)c(**k)o(e)n(ywor)m(ds)12 b Fc(])p Fl(\))208
2925 y Fn(P)o(arses)19 b(the)h(data)f(as)h(a)g(string,)f(b)n(ut)g
(returns)g(an)g(XML)g(DOM)h(object.)k(F)o(or)19 b(serialization,)g(tak)
o(es)g(an)g(XML)h(DOM)f(\(or)g(element)208 3024 y(node\),)f(and)i
(outputs)f(it)i(as)g(a)f(string.)208 3157 y(The)f(follo)n(wing)g(k)o(e)
o(yw)o(ord)f(ar)o(guments)g(may)i(be)g(used:)303 3286
y Fo(K)n(eyw)o(ord)p 900 3316 4 100 v 322 w(Default)p
1262 3316 V 98 w(Description)p 254 3320 3601 4 v 303
3389 a Fl(readerclass)p 900 3519 4 200 v 130 w(None)p
1262 3519 V 130 w Fn(Class)53 b(used)d(to)h(create)f(DOM-creating)f
(XML)h(readers;)66 b(described)49 b(in)i(the)1313 3489
y Fl(ParsedSoap)19 b Fn(chapter)-5 b(.)0 3791 y Fg(6.5)121
b(Integers)0 4024 y Fn(SO)m(AP/XMLSchema)19 b(inte)o(gers)h(are)g
(Python)f(inte)o(gers.)0 4171 y Fo(class)i Fj(Integer)p
Fl(\()p Fc([)p Fk(**k)o(e)n(ywor)m(ds)12 b Fc(])p Fl(\))208
4271 y Fn(The)19 b(parent)h(type)f(of)h(all)h(inte)o(gers.)j(This)c
(class)i(handles)d(an)o(y)g(of)h(the)h(se)n(v)o(eral)e(types)h(\(and)f
(ranges\))g(of)h(SO)m(AP)h(inte)o(gers.)208 4404 y(The)e(follo)n(wing)g
(k)o(e)o(yw)o(ord)f(ar)o(guments)g(may)i(be)g(used:)415
4533 y Fo(K)n(eyw)o(ord)p 788 4563 4 100 v 98 w(Default)p
1150 4563 V 99 w(Description)p 365 4566 3377 4 v 415
4636 a Fl(format)p 788 4666 4 100 v 206 w(\045d)p 1150
4666 V 181 w Fn(F)o(ormat)f(string)h(for)g(serializing.)50
b(Ne)n(w)20 b(in)g(v)o(ersion)f(1.2.)0 4801 y Fo(class)i
Fj(IEnumeration)p Fl(\()p Fk(c)o(hoices)p Fc([)p Fk(,)16
b(**k)o(e)n(ywor)m(ds)c Fc(])p Fl(\))208 4901 y Fn(Lik)o(e)20
b Fl(TC.Integer)p Fn(,)e(b)n(ut)i(the)h(v)n(alue)e(must)h(be)h(a)f
(member)f(of)h(the)g Fl(choices)g Fn(sequence.)0 5048
y(A)h(number)d(of)i(sub-classes)g(are)g(de\002ned)g(to)g(handle)f
(smaller)n(-ranged)f(numbers.)0 5194 y Fo(class)j Fj(Ibyte)p
Fl(\()p Fc([)p Fk(**k)o(e)n(ywor)m(ds)12 b Fc(])p Fl(\))208
5294 y Fn(A)20 b(signed)g(eight-bit)f(v)n(alue.)p 0 5549
3901 4 v 0 5649 a Fi(24)1751 b(Chapter)24 b(6.)51 b(The)24
b Fl(TypeCode)d Fi(classes)h(\227)h(data)h(con)n(v)n(ersions)p
eop end
%%Page: 25 31
TeXDict begin 25 30 bop 0 83 a Fo(class)21 b Fj(IunsignedByte)p
Fl(\()p Fc([)p Fk(**k)o(e)n(ywor)m(ds)12 b Fc(])p Fl(\))208
183 y Fn(An)20 b(unsigned)e(eight-bit)h(v)n(alue.)0 330
y Fo(class)i Fj(Ishort)p Fl(\()p Fc([)p Fk(**k)o(e)n(ywor)m(ds)12
b Fc(])p Fl(\))208 429 y Fn(A)20 b(signed)g(16-bit)f(v)n(alue.)0
576 y Fo(class)i Fj(IunsignedShort)p Fl(\()p Fc([)p Fk(**k)o(e)n(ywor)m
(ds)12 b Fc(])p Fl(\))208 676 y Fn(An)20 b(unsigned)e(16-bit)h(v)n
(alue.)0 823 y Fo(class)i Fj(Iint)p Fl(\()p Fc([)p Fk(**k)o(e)n(ywor)m
(ds)12 b Fc(])p Fl(\))208 922 y Fn(A)20 b(signed)g(32-bit)f(v)n(alue.)0
1069 y Fo(class)i Fj(IunsignedInt)p Fl(\()p Fc([)p Fk(**k)o(e)n(ywor)m
(ds)12 b Fc(])p Fl(\))208 1169 y Fn(An)20 b(unsigned)e(32-bit)h(v)n
(alue.)0 1316 y Fo(class)i Fj(Ilong)p Fl(\()p Fc([)p
Fk(**k)o(e)n(ywor)m(ds)12 b Fc(])p Fl(\))208 1415 y Fn(An)20
b(signed)f(64-bit)g(v)n(alue.)0 1562 y Fo(class)i Fj(IunsignedLong)p
Fl(\()p Fc([)p Fk(**k)o(e)n(ywor)m(ds)12 b Fc(])p Fl(\))208
1662 y Fn(An)20 b(unsigned)e(64-bit)h(v)n(alue.)0 1808
y Fo(class)i Fj(IpositiveInteger)p Fl(\()p Fc([)p Fk(**k)o(e)n(ywor)m
(ds)12 b Fc(])p Fl(\))208 1908 y Fn(A)20 b(v)n(alue)g(greater)f(than)h
(zero.)0 2055 y Fo(class)h Fj(InegativeInteger)p Fl(\()p
Fc([)p Fk(**k)o(e)n(ywor)m(ds)12 b Fc(])p Fl(\))208 2155
y Fn(A)20 b(v)n(alue)g(less)h(than)f(zero.)0 2301 y Fo(class)h
Fj(InonPositiveInteger)p Fl(\()p Fc([)p Fk(**k)o(e)n(ywor)m(ds)12
b Fc(])p Fl(\))208 2401 y Fn(A)20 b(v)n(alue)g(less)h(than)f(or)g
(equal)f(to)i(zero.)0 2548 y Fo(class)g Fj(InonNegativeInteger)p
Fl(\()p Fc([)p Fk(**k)o(e)n(ywor)m(ds)12 b Fc(])p Fl(\))208
2648 y Fn(A)20 b(v)n(alue)g(greater)f(than)h(or)g(equal)f(to)i(zero.)0
2975 y Fg(6.6)121 b(Floating-point)35 b(Numbers)0 3208
y Fn(SO)m(AP/XMLSchema)19 b(\003oating)h(point)f(numbers)g(are)h
(Python)f(\003oats.)0 3355 y Fo(class)i Fj(Decimal)p
Fl(\()p Fc([)p Fk(**k)o(e)n(ywor)m(ds)12 b Fc(])p Fl(\))208
3454 y Fn(The)19 b(parent)h(type)g(of)f(all)i(\003oating)f(point)f
(numbers.)24 b(This)c(class)h(handles)f(an)o(y)f(of)h(the)h(se)n(v)o
(eral)e(types)h(\(and)g(ranges\))f(of)h(SO)m(AP)208 3554
y(\003oating)f(point)g(numbers.)208 3687 y(The)g(follo)n(wing)g(k)o(e)o
(yw)o(ord)f(ar)o(guments)g(may)i(be)g(used:)415 3816
y Fo(K)n(eyw)o(ord)p 788 3846 4 100 v 98 w(Default)p
1150 3846 V 99 w(Description)p 365 3849 3377 4 v 415
3919 a Fl(format)p 788 3949 4 100 v 206 w(\045f)p 1150
3949 V 181 w Fn(F)o(ormat)f(string)h(for)g(serializing.)50
b(Ne)n(w)20 b(in)g(v)o(ersion)f(1.2.)0 4084 y Fo(class)i
Fj(FPEnumeration)p Fl(\()p Fk(value)p 1073 4084 25 4
v 26 w(list,)g(name)p Fc([)p Fk(,)e(**k)o(e)n(ywor)m(ds)12
b Fc(])p Fl(\))208 4184 y Fn(Lik)o(e)22 b Fl(TC.Decimal)p
Fn(,)h(b)n(ut)g(the)g(v)n(alue)f(must)h(be)g(a)g(member)f(of)h(the)g
Fl(value_list)e Fn(sequence.)32 b(Be)24 b(careful)e(of)h(round-of)n(f)
208 4284 y(errors)c(if)h(using)g(this)h(class.)0 4430
y(T)-7 b(w)o(o)20 b(sub-classes)h(are)f(de\002ned)f(to)h(handle)f
(smaller)n(-ranged)g(numbers.)0 4577 y Fo(class)i Fj(FPfloat)p
Fl(\()p Fk(name)p Fc([)p Fk(,)c(**k)o(e)n(ywor)m(ds)12
b Fc(])p Fl(\))208 4677 y Fn(An)20 b(IEEE)f(single-precision)f(32-bit)i
(\003oating)f(point)g(v)n(alue.)0 4824 y Fo(class)i Fj(FPdouble)p
Fl(\()p Fk(name)p Fc([)p Fk(,)c(**k)o(e)n(ywor)m(ds)12
b Fc(])p Fl(\))208 4923 y Fn(An)20 b(IEEE)f(double-precision)e(64-bit)i
(\003oating)h(point)f(v)n(alue.)p 0 5549 3901 4 v 0 5649
a Fi(6.6.)52 b(Floating-point)25 b(Numbers)2755 b(25)p
eop end
%%Page: 26 32
TeXDict begin 26 31 bop 0 86 a Fg(6.7)121 b(Dates)34
b(and)h(Times)0 319 y Fn(SO)m(AP)25 b(dates)e(and)h(times)g(are)f
(Python)g(time)h(tuples)g(in)f(UTC)i(\(GMT\),)e(as)h(documented)d(in)j
(the)g(Python)e Fl(time)i Fn(module.)34 b(T)m(ime)24
b(is)0 419 y(trick)o(y)-5 b(,)19 b(and)h(processing)f(an)o(ything)f
(other)i(than)g(a)h(simple)f(absolute)g(time)g(can)h(be)f(dif)n
(\002cult.)25 b(\(Ev)o(en)19 b(then,)h(timezones)g(lie)h(in)f(w)o(ait)h
(to)0 518 y(trip)f(up)g(the)g(unw)o(ary)-5 b(.\))23 b(A)e(fe)n(w)f(ca)n
(v)o(eats)g(are)g(in)g(order:)104 748 y(1.)41 b(Some)18
b(date)i(and)e(time)i(formats)e(will)i(be)f(parsed)g(into)g(tuples)g
(that)g(are)g(not)g(v)n(alid)g(time)g(v)n(alues.)24 b(F)o(or)19
b(e)o(xample,)f(75)h(minutes)g(is)208 848 y(a)h(v)n(alid)g(duration,)e
(although)g(not)i(a)h(le)o(gal)e(v)n(alue)h(for)f(the)i(minutes)e
(element)h(of)g(a)g(time)h(tuple.)104 1014 y(2.)41 b(Fractional)19
b(parts)h(of)g(a)h(second)e(may)h(be)g(lost)h(when)e(parsing,)g(and)h
(may)f(ha)n(v)o(e)h(e)o(xtra)f(trailing)h(zero')-5 b(s)20
b(when)g(serializing.)104 1180 y(3.)41 b(Badly-formed)13
b(time)j(tuples)g(may)f(result)i(in)f(non-sensical)e(v)n(alues)i(being)
f(serialized;)i(the)f(\002rst)h(six)f(v)n(alues)g(are)g(tak)o(en)f
(directly)208 1280 y(as)20 b(year)m(,)g(month,)e(day)-5
b(,)19 b(hour)m(,)g(minute,)g(second)g(in)h(UTC.)104
1446 y(4.)41 b(Although)17 b(the)i(classes)h Fl(Duration)f
Fn(and)f Fl(Gregorian)g Fn(are)i(de\002ned,)e(the)o(y)g(are)h(for)g
(internal)f(use)i(only)e(and)h(should)f(not)h(be)208
1545 y(included)c(in)h(an)o(y)g Fl(TypeCode)g Fn(you)g(de\002ne.)23
b(Instead,)16 b(use)h(the)g(classes)g(be)o(ginning)d(with)j(a)g(lo)n
(wer)f(case)h(g)g(in)g(your)e(typecodes.)0 1775 y(In)20
b(addition,)f(badly-formed)d(v)n(alues)k(may)g(result)g(in)g
(non-sensical)f(serializations.)0 1922 y(When)h(serializing,)f(an)i
(inte)o(gral)e(or)h(\003oating)f(point)g(number)g(is)i(tak)o(en)f(as)h
(the)f(number)e(of)i(seconds)g(since)g(the)g(epoch,)f(in)h(UTC.)0
2069 y Fo(class)h Fj(Duration)p Fl(\()p Fc([)p Fk(**k)o(e)n(ywor)m(ds)
12 b Fc(])p Fl(\))208 2169 y Fn(A)21 b(relati)n(v)o(e)f(time)h(period.)
26 b(Ne)o(gati)n(v)o(e)19 b(durations)g(ha)n(v)o(e)h(all)i(v)n(alues)e
(less)i(than)e(zero;)h(this)h(mak)o(es)e(it)i(easy)f(to)g(add)f(a)h
(duration)e(to)208 2268 y(a)h(Python)f(time)i(tuple.)0
2415 y Fo(class)g Fj(Gregorian)p Fl(\()p Fc([)p Fk(**k)o(e)n(ywor)m(ds)
12 b Fc(])p Fl(\))208 2515 y Fn(An)20 b(absolute)f(time)i(period.)i
(This)e(class)g(should)e(not)h(be)g(instantiated)f(directly;)h(use)g
(one)g(of)g(the)g Fl(gXXX)g Fn(classes)h(instead.)0 2662
y Fo(class)g Fj(gDateTime)p Fl(\()p Fc([)p Fk(**k)o(e)n(ywor)m(ds)12
b Fc(])p Fl(\))208 2761 y Fn(A)20 b(date)g(and)g(time.)0
2908 y Fo(class)h Fj(gDate)p Fl(\()p Fc([)p Fk(**k)o(e)n(ywor)m(ds)12
b Fc(])p Fl(\))208 3008 y Fn(A)20 b(date.)0 3155 y Fo(class)h
Fj(gYearMonth)p Fl(\()p Fc([)p Fk(**k)o(e)n(ywor)m(ds)12
b Fc(])p Fl(\))208 3254 y Fn(A)20 b(year)g(and)g(month.)0
3401 y Fo(class)h Fj(gYear)p Fl(\()p Fc([)p Fk(**k)o(e)n(ywor)m(ds)12
b Fc(])p Fl(\))208 3501 y Fn(A)20 b(year)-5 b(.)0 3648
y Fo(class)21 b Fj(gMonthDay)p Fl(\()p Fc([)p Fk(**k)o(e)n(ywor)m(ds)12
b Fc(])p Fl(\))208 3747 y Fn(A)20 b(month)f(and)h(day)-5
b(.)0 3894 y Fo(class)21 b Fj(gDay)p Fl(\()p Fc([)p Fk(**k)o(e)n(ywor)m
(ds)12 b Fc(])p Fl(\))208 3994 y Fn(A)20 b(day)-5 b(.)0
4141 y Fo(class)21 b Fj(gTime)p Fl(\()p Fc([)p Fk(**k)o(e)n(ywor)m(ds)
12 b Fc(])p Fl(\))208 4240 y Fn(A)20 b(time.)0 4568 y
Fg(6.8)121 b(Boolean)0 4800 y Fn(SO)m(AP)21 b(Booleans)f(are)g(Python)f
(inte)o(gers.)0 4947 y Fo(class)i Fj(Boolean)p Fl(\()p
Fc([)p Fk(**k)o(e)n(ywor)m(ds)12 b Fc(])p Fl(\))208 5047
y Fn(When)18 b(marshaling)e(zero)i(or)g(the)g(w)o(ord)f(\223f)o
(alse\224)i(is)g(returned)d(as)j Fl(0)g Fn(and)e(an)o(y)h(non-zero)e(v)
n(alue)h(or)h(the)g(w)o(ord)g(\223true\224)f(is)i(returned)208
5147 y(as)h Fl(1)p Fn(.)26 b(When)20 b(serializing,)f(the)h(number)f
Fl(0)h Fn(or)g Fl(1)h Fn(will)g(be)f(generated.)p 0 5549
3901 4 v 0 5649 a Fi(26)1751 b(Chapter)24 b(6.)51 b(The)24
b Fl(TypeCode)d Fi(classes)h(\227)h(data)h(con)n(v)n(ersions)p
eop end
%%Page: 27 33
TeXDict begin 27 32 bop 0 86 a Fg(6.9)121 b(XML)0 319
y Fn(XML)20 b(is)g(a)g(Python)f(DOM)h(element)f(node.)k(If)d(the)f(v)n
(alue)g(to)h(be)g(serialized)f(is)h(a)g(Python)f(string,)g(then)g(an)h
Fl(href)f Fn(is)i(generated,)c(with)0 419 y(the)24 b(v)n(alue)f(used)h
(as)g(the)g(URI.)g(This)g(can)g(be)g(used,)g(for)f(e)o(xample,)g(when)h
(generating)d(SO)m(AP)k(with)f(attachments.)35 b(Otherwise,)25
b(the)0 518 y(XML)20 b(is)h(typically)f(put)g(inside)g(a)g(wrapper)f
(element)h(that)g(sets)h(the)f(proper)f(SO)m(AP)i(encoding)d(style.)0
665 y(F)o(or)28 b(ef)n(\002cienc)o(y)-5 b(,)29 b(incoming)e(XML)i(is)h
(returend)d(as)i(a)h(\223pointer\224)d(into)i(the)f(DOM)h(tree)g
(maintained)e(within)i(the)g Fl(ParsedSoap)0 765 y Fn(object.)f(If)22
b(that)f(object)g(is)i(going)d(to)i(go)f(out)g(of)g(scope,)h(the)f
(data)h(will)g(be)f(destro)o(yed)f(and)h(an)o(y)g(XML)h(objects)f(will)
h(become)e(empty)0 865 y(elements.)45 b(The)26 b(class)i(instance)f(v)n
(ariable)f Fl(copyit)p Fn(,)h(if)h(non-zero)c(indicates)j(that)g(a)g
(deep)f(cop)o(y)g(of)h(the)g(XML)g(subtree)f(will)i(be)0
964 y(made)c(and)f(returned)g(as)i(the)f(v)n(alue.)36
b(Note)25 b(that)f(it)h(is)g(generally)e(more)g(ef)n(\002cient)h(to)g
(k)o(eep)g(the)g Fl(ParsedSoap)f Fn(object)h(ali)n(v)o(e)g(until)0
1064 y(the)c(XML)g(data)h(is)g(no)e(longerneeded.)0 1211
y Fo(class)i Fj(XML)p Fl(\()p Fc([)p Fk(**k)o(e)n(ywor)m(ds)12
b Fc(])p Fl(\))208 1310 y Fn(This)30 b(typecode)f(represents)h(a)h
(portion)e(of)h(an)h(XML)f(document)f(embedded)f(in)j(a)g(SO)m(AP)g
(message.)56 b(The)30 b(v)n(alue)g(is)i(the)208 1410
y(element)19 b(node.)208 1543 y(The)g(follo)n(wing)g(k)o(e)o(yw)o(ord)f
(ar)o(guments)g(may)i(be)g(used:)257 1754 y Fo(K)n(eyw)o(ord)p
704 1784 4 100 v 310 w(Default)p 1342 1784 V 237 w(Description)p
208 1787 3727 4 v 257 1857 a Fl(copyit)p 704 1886 4 100
v 199 w Fn(TC.XML.cop)o(yit)p 1342 1886 V 97 w(Return)g(a)g(cop)o(y)g
(of)g(the)g(parsed)f(data.)257 1956 y Fl(comments)p 704
1986 V 343 w(0)p 1342 1986 V 344 w Fn(Preserv)o(e)g(comments)g(in)i
(output.)257 2056 y Fl(inline)p 704 2086 V 443 w(0)p
1342 2086 V 344 w Fn(The)f(XML)g(sub-tree)f(is)i(single-reference,)d
(so)i(can)g(be)g(output)f(in-place.)257 2155 y Fl(resolver)p
704 2285 4 200 v 268 w(None)p 1342 2285 V 269 w Fn(A)30
b(function)d(that)j(can)f(resolv)o(e)g(an)g(absolute)f(URI)i(and)f
(return)f(its)j(content)d(as)i(an)1394 2255 y(element)20
b(node,)e(as)j(described)e(in)i(the)f Fl(ParsedSoap)f
Fn(description.)257 2355 y Fl(wrapped)p 704 2484 V 393
w(1)p 1342 2484 V 344 w Fn(If)c(zero,)h(the)f(XML)h(is)g(output)e
(directly)-5 b(,)15 b(and)g(not)g(within)g(a)h(SO)m(AP)g(wrapper)e
(element.)1394 2454 y(Ne)n(w)20 b(in)h(v)o(ersion)e(1.2.)0
2596 y(When)j(serializing,)f(it)h(may)f(be)h(necessary)f(to)h(specify)f
(which)g(namespace)f(pre\002x)o(es)h(are)h(\223acti)n(v)o(e\224)f(in)h
(the)f(XML.)h(This)g(is)g(done)f(by)0 2696 y(using)26
b(the)h Fl(unsuppressedPrefixes)c Fn(parameter)i(when)h(calling)g(the)h
Fl(serialize\(\))e Fn(method.)43 b(\(This)26 b(will)h(only)f(w)o(ork)0
2796 y(when)20 b(XML)g(is)h(the)f(top-le)n(v)o(el)f(item)h(being)f
(serialized,)h(such)g(as)h(when)e(using)h(typecodes)f(and)g
(document-style)f(interf)o(aces.\))50 3104 y Fo(K)n(eyw)o(ord)p
1094 3133 4 100 v 770 w(Default)p 1457 3133 V 98 w(Description)p
0 3137 4049 4 v 50 3207 a Fl(unsuppressedPrefixes)p 1094
3236 4 100 v 199 w Fn([])p 1457 3236 V 203 w(An)e(array)f(of)g(strings)
h(identifying)e(the)h(namespace)g(pre\002x)o(es)g(that)h(should)e(be)i
(output.)0 3511 y Fg(6.10)121 b(Comple)l(xT)-14 b(ype)0
3744 y Fn(Represents)20 b(the)g(XMLSchema)f(Comple)o(xT)-7
b(ype)18 b(.)51 b(Ne)n(w)21 b(in)f(v)o(ersion)f(2.0.)0
3890 y Fo(class)i Fj(ComplexType)p Fl(\()p Fk(pyclass,)c(ofwhat)q
Fc([)p Fk(,)j(**k)o(e)n(ywor)m(ds)12 b Fc(])p Fl(\))208
3990 y Fn(This)28 b(class)g(de\002nes)g(a)g(compound)d(data)j
(structure.)47 b(If)28 b Fl(pyclass)f Fn(is)i Fl(None)p
Fn(,)g(then)f(the)g(data)f(will)i(be)f(marshaled)f(into)g(a)208
4090 y(Python)d(dictionary)-5 b(,)24 b(and)h(each)g(item)h(in)g(the)f
Fl(ofwhat)g Fn(sequence)f(speci\002es)i(a)g(\(possible\))f(dictionary)e
(entry)-5 b(.)40 b(Otherwise,)208 4189 y Fl(pyclass)28
b Fn(must)i(be)g(a)g(Python)e(class)j(object.)52 b(The)30
b(data)f(is)i(then)e(marshaled)f(into)i(the)f(object,)j(and)d(each)g
(item)h(in)g(the)208 4289 y Fl(ofwhat)19 b Fn(sequence)g(speci\002es)i
(an)f(attrib)n(ute)g(of)g(the)g(instance)g(to)g(set.)208
4422 y(Note)g(that)g(each)g(typecode)e(in)j Fl(ofwhat)e
Fn(must)i(ha)n(v)o(e)e(a)i(name.)208 4555 y(The)e(follo)n(wing)g(k)o(e)
o(yw)o(ord)f(ar)o(guments)g(may)i(be)g(used:)p 0 5549
3901 4 v 0 5649 a Fi(6.9.)52 b(XML)3448 b(27)p eop end
%%Page: 28 34
TeXDict begin 28 33 bop 261 70 a Fo(K)n(eyw)o(ord)p 857
100 4 100 v 364 w(Default)p 1305 100 V 141 w(Description)p
211 103 3687 4 v 261 173 a Fl(inorder)p 857 302 4 200
v 347 w(False)p 1305 302 V 148 w Fn(Items)18 b(within)f(the)h
(structure)f(must)g(appear)g(in)h(the)f(order)f(speci\002ed)i(in)g(the)
f Fl(ofwhat)1356 272 y Fn(sequence.)261 372 y Fl(inline)p
857 501 V 397 w(False)p 1305 501 V 148 w Fn(The)29 b(structure)f(is)i
(single-reference,)e(so)h(ZSI)g(does)f(not)h(ha)n(v)o(e)f(to)h(use)g
Fl(href/id)1356 472 y Fn(encodings.)261 571 y Fl(mutable)p
857 900 4 399 v 347 w(False)p 1305 900 V 148 w Fn(If)f(an)g(object)f
(is)i(going)d(to)i(be)g(serialized)g(multiple)f(times,)j(and)d(its)i
(state)f(may)g(be)1356 671 y(modi\002ed)d(between)g(serializations,)i
(then)e(this)h(k)o(e)o(yw)o(ord)e(should)h(be)h(used,)g(other)n(-)1356
770 y(wise)20 b(a)f(single)g(instance)g(will)h(be)e(serialized,)h(with)
g(multiple)g(references)e(to)i(it.)25 b(This)1356 870
y(ar)o(gument)18 b(implies)i(the)h Fl(inline)e Fn(ar)o(gument.)49
b(Ne)n(w)20 b(in)g(v)o(ersion)f(1.2.)261 970 y Fl(type)p
857 1498 4 598 v 522 w(None)p 1305 1498 V 173 w Fn(A)37
b(`)p Fl(\(uri,)48 b(localname\))p Fn(')34 b(tuple)h(that)h(de\002nes)g
(the)f(type)h(of)f(the)h(structure.)1356 1069 y(If)41
b(present,)k(and)c(if)g(the)g(input)f(data)g(has)i(a)f
Fl(xsi:type)f Fn(attrib)n(ute,)45 b(then)c(the)1356 1169
y(namespace-quali\002ed)22 b(v)n(alue)h(of)h(that)g(attrib)n(ute)g
(must)g(match)g(the)g(v)n(alue)g(speci\002ed)1356 1269
y(by)32 b(this)g(parameter)-5 b(.)59 b(By)33 b(def)o(ault,)h
(type-checking)29 b(is)j(not)g(done)f(for)g(structures;)1356
1368 y(matching)22 b(child)h(element)g(names)f(is)j(usually)d(suf)n
(\002cient)h(and)g(senders)f(rarely)h(pro-)1356 1468
y(vide)d(type)g(information.)261 1567 y Fl(mixed)p 857
1597 4 100 v 447 w(False)p 1305 1597 V 148 w Fn(using)g(a)h(mix)o(ed)e
(content)g(model,)g(allo)n(w)h(te)o(xt)g(and)g(element)f(content.)261
1667 y Fl(mixed_aname)p 857 1697 V 97 w('_text')p 1305
1697 V 98 w Fn(if)i(mix)o(ed)e(is)i(T)m(rue,)e(te)o(xt)h(content)g(is)h
(set)g(in)f(this)h(attrib)n(ute)f(\(k)o(e)o(y\).)208
1788 y(If)j(the)h Fl(typed)f Fn(k)o(e)o(yw)o(ord)e(is)k(used,)f(then)f
(its)h(v)n(alue)f(is)i(assigned)e(to)g(all)h(typecodes)f(in)g(the)h
Fl(ofwhat)f Fn(parameter)-5 b(.)34 b(If)23 b(an)o(y)g(of)208
1888 y(the)c(typecodes)f(in)i Fl(ofwhat)f Fn(are)h(repeatable,)e(then)h
(the)h Fl(inorder)f Fn(k)o(e)o(yw)o(ord)f(should)h(not)g(be)g(used)h
(and)f(the)h Fl(hasextras)208 1987 y Fn(parameter)e Fk(must)j
Fn(be)f(used.)208 2113 y(F)o(or)f(e)o(xample,)g(the)h(follo)n(wing)f(C)
i(structure:)444 2330 y Fe(struct)44 b(foo)g({)623 2422
y(int)g(i;)623 2513 y(char)803 2526 y(*)892 2513 y(text;)444
2604 y(};)208 2761 y Fn(could)19 b(be)h(declared)f(as)i(follo)n(ws:)444
2978 y Fe(class)44 b(foo:)623 3069 y(def)g(__init__\(self,)f(name\):)
802 3160 y(self.name)h(=)g(name)623 3252 y(def)g(__str__\(self\):)802
3343 y(return)g(str\(\(self.name,)f(self.i,)g(self.text\)\))444
3526 y(foo.typecode)g(=)h(TC.Struct\(foo,)623 3617 y(\()h
(TC.Integer\('i'\),)d(TC.String\('text'\))g(\),)623 3708
y('foo'\))0 4068 y Fg(6.11)121 b(Str)r(uct)0 4301 y Fn(SO)m(AP)24
b(Struct)e(is)i(a)f(comple)o(x)e(type)h(for)g(accessors)h(identi\002ed)
f(by)g(name.)32 b(No)23 b(element)f(may)h(ha)n(v)o(e)f(the)h(same)f
(name)h(as)g(an)o(y)f(other)m(,)0 4400 y(nor)f(may)g(an)o(y)f(element)h
(ha)n(v)o(e)g(a)h(maxOccurs)e(\277)i(1.)29 b(SO)m(AP)23
b(Structs)e(are)h(either)f(Python)f(dictionaries)h(or)g(instances)g(of)
g(application-)0 4500 y(speci\002ed)f(classes.)0 4821
y Fg(6.12)121 b(Arr)o(a)l(ys)0 5054 y Fn(SO)m(AP)22 b(arrays)f(are)h
(Python)e(lists;)k(multi-dimensional)19 b(arrays)i(are)h(lists)h(of)e
(lists)i(and)e(are)h(indistinguishable)d(from)i(a)h(SO)m(AP)g(array)0
5154 y(of)17 b(arrays.)24 b(Arrays)17 b(may)f(be)i Fk(spar)o(se)p
Fn(,)g(in)g(which)f(case)h(each)f(element)g(in)g(the)h(array)e(is)j(a)e
(tuple)h(of)f(`)p Fl(\(subscript,)47 b(data\))p Fn(')17
b(pairs.)0 5253 y(If)j(an)g(array)f(is)j(not)d(sparse,)h(a)h
(speci\002ed)f Fk(\002ll)g Fn(element)g(will)h(be)f(used)g(for)g(the)g
(missing)g(v)n(alues.)0 5400 y Fo(Curr)o(ently)f(only)h
(singly-dimensioned)h(arrays)e(ar)o(e)h(supported.)p
0 5549 3901 4 v 0 5649 a Fi(28)1751 b(Chapter)24 b(6.)51
b(The)24 b Fl(TypeCode)d Fi(classes)h(\227)h(data)h(con)n(v)n(ersions)p
eop end
%%Page: 29 35
TeXDict begin 29 34 bop 0 83 a Fo(class)21 b Fj(Array)p
Fl(\()p Fk(atype)o(,)d(ofwhat)q Fc([)p Fk(,)i(**k)o(e)n(ywor)m(ds)12
b Fc(])p Fl(\))208 183 y Fn(The)20 b Fl(atype)h Fn(parameter)f(is)i(a)f
Fl(\(URI,NCName\))f Fn(tuple)h(representing)e(the)i(SO)m(AP)h(array)e
(type.)28 b(The)20 b Fl(ofwhat)h Fn(parameter)208 282
y(is)g(a)f(typecode)f(describing)f(the)j(array)e(elements.)0
429 y(The)h(follo)n(wing)e(k)o(e)o(yw)o(ord)h(ar)o(guments)f(may)i(be)g
(used:)225 655 y Fo(K)n(eyw)o(ord)p 771 685 4 100 v 271
w(Default)p 1133 685 V 99 w(Description)p 175 689 3551
4 v 225 758 a Fl(childnames)p 771 788 4 100 v 129 w(None)p
1133 788 V 131 w Fn(Def)o(ault)g(name)f(to)i(use)f(for)g(the)g(child)g
(elements.)225 858 y Fl(dimensions)p 771 888 V 204 w(1)p
1133 888 V 206 w Fn(The)g(number)e(of)i(dimensions)f(in)h(the)g(array)
-5 b(.)225 958 y Fl(fill)p 771 988 V 429 w(None)p 1133
988 V 131 w Fn(The)20 b(v)n(alue)f(to)h(use)h(when)e(an)i(array)e
(element)g(is)j(omitted.)225 1057 y Fl(mutable)p 771
1286 4 299 v 254 w(False)p 1133 1286 V 106 w Fn(If)27
b(an)h(object)f(is)i(going)e(to)h(be)f(serialized)h(multiple)f(times,)j
(and)d(its)i(state)g(may)e(be)1185 1157 y(modi\002ed)d(between)h
(serializations,)i(then)e(this)i(k)o(e)o(yw)o(ord)d(should)g(be)i
(used,)h(other)n(-)1185 1257 y(wise)21 b(a)f(single)g(instance)g(will)h
(be)f(serialized,)g(with)g(multiple)g(references)f(to)h(it.)225
1356 y Fl(nooffset)p 771 1486 4 200 v 304 w(0)p 1133
1486 V 206 w Fn(Do)j(not)g(use)h(the)f(SO)m(AP)h Fl(offset)f
Fn(attrib)n(ute)g(so)h(skip)f(leading)f(elements)h(with)h(the)1185
1456 y(same)c(v)n(alue)g(as)h Fl(fill)p Fn(.)225 1555
y Fl(sparse)p 771 1585 4 100 v 304 w(False)p 1133 1585
V 106 w Fn(The)f(array)f(is)i(sparse.)225 1655 y Fl(size)p
771 1685 V 429 w(None)p 1133 1685 V 131 w Fn(An)f(inte)o(ger)f(or)h
(list)h(of)f(inte)o(gers)g(that)g(speci\002es)g(the)h(maximum)d(array)h
(dimensions.)225 1755 y Fl(undeclared)p 771 1785 V 104
w(False)p 1133 1785 V 106 w Fn(The)h(SO)m(AP)h(`)p Fl(arrayType)p
Fn(')d(attrib)n(ute)i(need)f(not)h(appear)-5 b(.)0 2057
y Fg(6.13)121 b(Apache)35 b(Datatype)0 2290 y Fn(The)30
b(Apache)g(SO)m(AP)h(project,)h(urlhttp://xml.apache.or)o(g/soap)o
(/inde)n(x.)o(html,)27 b(has)k(de\002ned)e(a)i(popular)e(SO)m(AP)j
(datatype)d(in)i(the)0 2390 y Fl(http://xml.apache.org/xml-soap)15
b Fn(namespace,)k(a)h Fl(Map)p Fn(.)0 2536 y(The)f Fl(Map)h
Fn(type)f(is)i(encoded)c(as)k(a)f(list)g(of)g Fl(item)f
Fn(elements.)24 b(Each)c Fl(item)f Fn(has)h(a)g Fl(key)f
Fn(and)g Fl(value)h Fn(child)f(element;)g(these)h(children)0
2636 y(must)g(ha)n(v)o(e)g(SO)m(AP)h(type)f(information.)i(An)e(Apache)
g(Map)g(is)h(either)e(a)i(Python)e(dictionary)g(or)g(a)i(list)g(of)f
(tw)o(o-element)f(tuples.)0 2783 y Fo(class)i Fj(Apache.Map)p
Fl(\()p Fk(name)p Fc([)p Fk(,)c(**k)o(e)n(ywor)m(ds)12
b Fc(])p Fl(\))208 2883 y Fn(An)20 b(Apache)f(map.)25
b(Note)20 b(that)g(the)g(class)h(name)f(is)h(dotted.)0
3029 y(The)f(follo)n(wing)e(k)o(e)o(yw)o(ord)h(ar)o(guments)f(may)i(be)
g(used:)311 3256 y Fo(K)n(eyw)o(ord)p 684 3286 V 99 w(Default)p
1047 3286 V 98 w(Description)p 262 3289 3377 4 v 311
3359 a Fl(aslist)p 684 3389 4 100 v 231 w(0)p 1047 3389
V 206 w Fn(Use)h(a)f(list)i(of)e(tuples)g(rather)f(than)h(a)g
(dictionary)-5 b(.)p 0 5549 3901 4 v 0 5649 a Fi(6.13.)52
b(Apache)24 b(Datatype)2935 b(29)p eop end
%%Page: 30 36
TeXDict begin 30 35 bop 0 5549 3901 4 v 0 5649 a Fi(30)p
eop end
%%Page: 31 37
TeXDict begin 31 36 bop 0 83 3901 9 v 3503 230 a Fi(CHAPTER)3495
427 y Fh(SEVEN)p 0 515 V 270 978 a Ft(The)57 b Fd(SoapWriter)g
Ft(module)g(\227)g(ser)s(ializing)3498 1227 y(data)0
1706 y Fn(The)20 b(SoapWriter)h(class)g(is)h(used)f(to)g(output)e(SO)m
(AP)j(messages.)27 b(Note)20 b(that)h(its)h(output)e(is)h(encoded)e(as)
j(UTF-8;)f(when)f(transporting)0 1805 y(SO)m(AP)h(o)o(v)o(er)e(HTTP)h
(it)h(is)g(therefore)e(important)f(to)j(set)g(the)f Fl(charset)f
Fn(attrib)n(ute)h(of)g(the)g Fl(Content-Type)f Fn(header)-5
b(.)0 1952 y(The)20 b Fl(SoapWriter)f Fn(class)i(reserv)o(es)e(some)h
(namespace)f(pre\002x)o(es:)680 2155 y Fo(Pr)o(e\002x)p
1126 2185 4 100 v 286 w(URI)p 630 2188 2641 4 v 680 2258
a Fl(SOAP-ENV)p 1126 2288 4 100 v 98 w
(http://schemas.xmlsoap.org/soap/env)o(elope)o(/)680
2358 y(SOAP-ENC)p 1126 2388 V 98 w(http://schemas.xmlsoap.org/soap/enc)
o(oding)o(/)680 2457 y(ZSI)p 1126 2487 V 348 w
(http://www.zolera.com/schemas/ZSI/)680 2557 y(xsd)p
1126 2587 V 348 w(http://www.w3.org/2001/XMLSchema)680
2657 y(xsi)p 1126 2687 V 348 w(http://www.w3.org/2001/XMLSchema-in)o
(stanc)o(e)0 2812 y Fo(class)i Fj(SoapWriter)p Fl(\()p
Fk(optional**k)o(e)n(ywor)m(d)o(s)p Fl(\))208 2911 y
Fn(The)e(follo)n(wing)g(k)o(e)o(yw)o(ord)f(ar)o(guments)g(may)i(be)g
(used:)257 3120 y Fo(K)n(eyw)o(ord)p 953 3150 V 589 w(Default)p
1650 3150 V 266 w(Description)p 208 3154 4035 4 v 257
3223 a Fl(encodingStyle)p 953 3353 4 200 v 307 w Fn(None)p
1650 3353 V 307 w(If)39 b(not)g Fl(None)p Fn(,)44 b(then)39
b(use)h(the)g(speci\002ed)f(v)n(alue)f(as)j(the)e(v)n(alue)g(for)g(the)
g(SO)m(AP)1702 3323 y Fl(encodingStyle)18 b Fn(attrib)n(ute.)51
b(Ne)n(w)20 b(in)g(v)o(ersion)f(1.2.)257 3423 y Fl(envelope)p
953 3452 4 100 v 547 w(True)p 1650 3452 V 298 w Fn(Create)h(a)h(SO)m
(AP)g(En)m(v)o(elope)39 b(Ne)n(w)20 b(in)g(v)o(ersion)f(1.2.)257
3522 y Fl(nsdict)p 953 3552 V 697 w({})p 1650 3552 V
348 w Fn(Dictionary)g(of)h(namespaces)f(to)h(declare)g(in)g(the)g(SO)m
(AP)h Fl(Envelope)257 3622 y(header)p 953 3652 V 647
w(True)p 1650 3652 V 298 w Fn(create)f(a)g(SO)m(AP)i
Fl(Header)d Fn(element)257 3721 y Fl(outputclass)p 953
3751 V 198 w(ElementProxy)p 1650 3751 V 97 w Fn(wrapper)g(around)f(DOM)
i(or)g(other)g(XML)g(library)-5 b(.)0 3863 y(Creating)24
b(a)h Fl(SoapWriter)e Fn(object)h(with)g Fl(envelope)f
Fn(set)j(to)e Fl(False)g Fn(results)h(in)f(an)h(object)e(that)i(can)f
(be)g(used)g(for)g(serializing)0 3963 y(objects)c(into)g(a)h(string.)0
4110 y Fj(serialize)p Fl(\()p Fk(pyobj)p Fc([)p Fk(,)c(typecode=None)p
Fc([)p Fk(,)h(r)l(oot=None)p Fc([)p Fk(,)h(header)p 2056
4110 25 4 v 28 w(pyobjs=None)p Fc([)p Fk(,)g(**k)o(e)n(ywor)m(ds)12
b Fc(])g(])g(])g(])p Fl(\))208 4210 y Fn(This)19 b(method)f(serializes)
h(the)g Fl(pyobj)g Fn(Python)f(object)h(as)h(directed)e(by)h(the)g
Fl(typecode)f Fn(typecode)f(object.)24 b(If)19 b Fl(typecode)208
4309 y Fn(is)i(omitted,)f(then)g Fl(pyobj)g Fn(should)g(be)g(a)i
(Python)d(object)h(instance)g(of)h(a)g(class)g(that)g(has)g(a)g
Fl(typecode)f Fn(attrib)n(ute.)26 b(It)20 b(returns)208
4409 y Fl(self)p Fn(,)d(so)g(that)g(serializations)g(can)f(be)h
(chained)f(together)m(,)g(or)g(so)i(that)f(the)g Fl(close\(\))f
Fn(method)f(can)i(be)g(in)m(v)n(ok)o(ed.)22 b(The)17
b Fl(root)208 4509 y Fn(parameter)k(may)i(be)g(used)g(to)h(e)o
(xplicitly)e(indicate)h(the)g(root)f(\(main)h(element\))f(of)h(a)h(SO)m
(AP)g(encoding,)e(or)h(indicate)f(that)i(the)208 4608
y(item)18 b(is)i(not)e(the)h(root.)24 b(If)18 b(speci\002ed,)h(it)g
(should)f(ha)n(v)o(e)g(the)h(numeric)e(v)n(alue)h(of)h(zero)f(or)g
(one.)24 b(An)o(y)18 b(other)g(k)o(e)o(yw)o(ord)f(parameters)208
4708 y(are)j(passed)g(to)g(the)g(typecode')-5 b(s)19
b Fl(serialize)g Fn(method.)0 4855 y Fj(close)p Fl(\(\))208
4954 y Fn(In)m(v)n(ok)o(es)h(all)i(the)g(callbacks,)f(if)h(an)o(y)-5
b(.)28 b(The)21 b Fl(close)g Fn(operations)f(can)i(only)e(happen)g
(once,)h(if)h(in)m(v)n(ok)o(ed)e(a)i(second)f(time)g(it)i(will)208
5054 y(just)d(return.)k(This)c(method)f(will)i(be)f(in)m(v)n(ok)o(ed)f
(automatically)f(if)j(the)f(object)g(is)h(deleted.)0
5201 y Fj(__str__)p Fl(\(\))208 5300 y Fn(In)m(v)n(ok)o(es)39
b(the)i Fl(close)f Fn(method,)45 b(and)40 b(returns)g(a)h(string)g
(representation)e(of)h(the)h(serialized)g(object.)86
b(Assumes)41 b(that)208 5400 y Fl(serialize)19 b Fn(has)h(been)g(in)m
(v)n(ok)o(ed.)p 0 5549 3901 4 v 3808 5649 a Fi(31)p eop
end
%%Page: 32 38
TeXDict begin 32 37 bop 0 83 a Fn(The)20 b(follo)n(wing)e(methods)i
(are)g(primarily)e(useful)i(for)g(those)g(writing)f(ne)n(w)h
(typecodes.)0 230 y Fj(AddCallback)p Fl(\()p Fk(func,)d(ar)m(g)p
Fl(\))208 330 y Fn(Used)29 b(by)g(typecodes)f(when)h(serializing,)i
(allo)n(ws)f(them)f(to)h(add)f(output)f(after)h(the)h(SO)m(AP)g
Fl(Body)g Fn(is)g(written)f(b)n(ut)h(before)208 429 y(the)24
b(SO)m(AP)h Fl(Envelope)f Fn(is)h(closed.)37 b(The)24
b(function)f Fl(func\(\))h Fn(will)h(be)f(called)h(with)f(the)h
Fl(SoapWriter)e Fn(object)h(and)g(the)208 529 y(speci\002ed)19
b Fl(arg)i Fn(ar)o(gument,)c(which)j(may)g(be)g(a)g(tuple.)0
676 y Fj(Forget)p Fl(\()p Fk(obj)p Fl(\))208 775 y Fn(F)o(or)o(get)e
(that)j Fl(obj)f Fn(has)g(been)g(seen)g(before.)k(This)c(is)h(useful)f
(when)f(repeatedly)g(serializing)g(a)i(mutable)e(object.)0
922 y Fj(Known)p Fl(\()p Fk(obj)p Fl(\))208 1022 y Fn(If)h
Fl(obj)g Fn(has)g(been)g(seen)g(before)f(\(based)g(on)h(its)h(Python)e
Fl(id)p Fn(\),)h(return)f Fl(1)p Fn(.)25 b(Otherwise,)20
b(remember)e Fl(obj)j Fn(and)e(return)g Fl(0)p Fn(.)0
1169 y Fj(ReservedNS)p Fl(\()p Fk(pr)m(e\002x,)e(uri)p
Fl(\))208 1268 y Fn(Returns)j(true)f(if)i(the)f(speci\002ed)g
(namespace)f Fl(prefix)h Fn(and)f Fl(uri)h Fn(collide)g(with)h(those)f
(used)g(by)f(the)h(implementation.)0 1415 y Fj(writeNSDict)p
Fl(\()p Fk(nsdict)q Fl(\))208 1515 y Fn(Outputs)g Fl(nsdict)h
Fn(as)h(a)f(namespace)f(dictionary)-5 b(.)26 b(It)21
b(is)h(assumed)f(that)g(an)g(XML)g(start-element)g(is)h(pending)d(on)i
(the)g(output)208 1614 y(stream.)p 0 5549 3901 4 v 0
5649 a Fi(32)1725 b(Chapter)23 b(7.)52 b(The)23 b Fl(SoapWriter)f
Fi(module)i(\227)f(ser)q(ializing)h(data)p eop end
%%Page: 33 39
TeXDict begin 33 38 bop 0 83 3901 9 v 3503 230 a Fi(CHAPTER)3535
427 y Fh(EIGHT)p 0 515 V 391 978 a Ft(The)57 b Fd(Fault)g
Ft(module)g(\227)g(repor)8 b(ting)57 b(errors)0 1468
y Fn(SO)m(AP)28 b(de\002nes)f(a)g Fk(fault)g Fn(message)g(as)h(the)f(w)
o(ay)g(for)f(a)i(recipient)e(to)h(indicate)g(it)g(w)o(as)h(unable)e(to)
h(process)g(a)g(message.)46 b(The)27 b Fl(ZSI)0 1568
y(Fault)20 b Fn(class)h(encapsulates)e(this.)0 1715 y
Fo(class)i Fj(Fault)p Fl(\()p Fk(code)o(,)d(string)p
Fc([)p Fk(,)i(**k)o(e)n(ywor)m(ds)12 b Fc(])p Fl(\))208
1814 y Fn(The)26 b Fk(code)g Fn(parameter)f(is)j(a)f(te)o(xt)f(string)h
(identifying)d(the)j(SO)m(AP)h(f)o(ault)e(code,)i(a)f
(namespace-quali\002ed)c(name.)44 b(The)27 b(class)208
1914 y(attrib)n(ute)18 b Fl(Fault.Client)g Fn(can)h(be)g(used)g(to)h
(indicate)f(a)g(problem)f(with)h(an)h(incoming)d(message,)i
Fl(Fault.Server)f Fn(can)208 2013 y(be)24 b(used)g(to)h(indicate)f(a)g
(problem)f(occurred)g(while)h(processing)f(the)i(request,)f(or)g
Fl(Fault.MU)g Fn(can)g(be)h(used)f(to)g(indicate)g(a)208
2113 y(problem)g(with)j(the)g(SO)m(AP)g Fl(mustUnderstand)d
Fn(attrib)n(ute.)44 b(The)26 b Fk(string)h Fn(parameter)e(is)j(a)f
(human-readable)22 b(te)o(xt)27 b(string)208 2213 y(describing)18
b(the)i(f)o(ault.)208 2346 y(The)f(follo)n(wing)g(k)o(e)o(yw)o(ord)f
(ar)o(guments)g(may)i(be)g(used:)369 2475 y Fo(K)n(eyw)o(ord)p
834 2505 4 100 v 190 w(Default)p 1196 2505 V 99 w(Description)p
319 2508 3470 4 v 369 2578 a Fk(actor)p 834 2707 4 200
v 372 w Fl(None)p 1196 2707 V 131 w Fn(A)25 b(string)g(identifying)e
(the)i Fl(actor)g Fn(attrib)n(ute)f(that)h(caused)g(the)g(problem)e
(\(usually)1248 2677 y(because)c(it)i(is)g(unkno)n(wn\).)369
2777 y Fk(detail)p 834 3006 4 299 v 358 w Fl(None)p 1196
3006 V 131 w Fn(A)k(sequence)f(of)h(elements)f(to)h(output)f(in)h(the)g
Fl(detail)f Fn(element;)j(it)f(may)e(also)h(be)1248 2877
y(a)d(te)o(xt)h(string,)f(in)g(which)g(case)g(it)h(is)g(output)e
(as-is,)j(and)d(should)g(therefore)g(be)h(XML)1248 2976
y(te)o(xt.)369 3076 y Fk(header)m(detail)p 834 3205 4
200 v 129 w Fl(None)p 1196 3205 V 131 w Fn(Data,)i(treated)e(the)h
(same)g(as)h(the)f Fl(detail)f Fn(k)o(e)o(yw)o(ord,)f(to)j(be)e(output)
g(in)h(the)g(SO)m(AP)1248 3175 y(header)-5 b(.)24 b(See)d(the)f(follo)n
(wing)e(paragraph.)208 3304 y(If)j(the)h(f)o(ault)f(occurred)f(in)h
(the)h(SO)m(AP)g Fl(Header)p Fn(,)f(the)h(speci\002cation)f(requires)f
(that)i(the)g(detail)f(be)h(sent)g(back)e(as)j(an)e(element)208
3403 y(within)26 b(the)h(SO)m(AP)g Fl(Header)f Fn(element.)44
b(Unfortunately)-5 b(,)25 b(the)h(SO)m(AP)i(speci\002cation)e(does)g
(not)g(describe)g(ho)n(w)g(to)h(encode)208 3503 y(this;)20
b Fl(ZSI)h Fn(de\002nes)f(and)f(uses)i(a)f Fl(ZSI:detail)f
Fn(element,)h(which)f(is)j(analogous)c(to)i(the)g(SO)m(AP)i
Fl(detail)d Fn(element.)0 3650 y(The)h(follo)n(wing)e(attrib)n(utes)j
(are)f(read-only:)0 3797 y Fj(actor)208 3896 y Fn(A)g(te)o(xt)g(string)
g(holding)f(the)h(v)n(alue)f(of)h(the)g(SO)m(AP)i Fl(faultactor)c
Fn(element.)0 4043 y Fj(code)208 4143 y Fn(A)i(te)o(xt)g(string)g
(holding)f(the)h(v)n(alue)f(of)h(the)g(SO)m(AP)i Fl(faultcode)d
Fn(element.)0 4290 y Fj(detail)208 4389 y Fn(A)i(te)o(xt)g(string)g(or)
g(sequence)f(of)h(elements)g(containing)f(holding)f(the)j(v)n(alue)e
(of)h(the)g(SO)m(AP)i Fl(detail)d Fn(element,)h(when)g(a)n(v)n(ail-)208
4489 y(able.)0 4636 y Fj(headerdetail)208 4735 y Fn(A)29
b(te)o(xt)g(string)g(or)g(sequence)g(of)g(elements)g(containing)e
(holding)h(the)h(v)n(alue)f(of)h(the)h Fl(ZSI)f Fn(header)f(detail)h
(element,)i(when)208 4835 y(a)n(v)n(ailable.)0 4982 y
Fj(string)208 5081 y Fn(A)20 b(te)o(xt)g(string)g(holding)f(the)h(v)n
(alue)f(of)h(the)g(SO)m(AP)i Fl(faultstring)c Fn(element.)0
5228 y Fj(AsSOAP)p Fl(\()p Fc([)p Fk(,)h(**kw)12 b Fc(])p
Fl(\))208 5328 y Fn(This)29 b(method)f(serializes)i(the)f
Fl(Fault)g Fn(object)g(into)g(a)h(SO)m(AP)h(message.)52
b(The)29 b(message)g(is)i(returned)c(as)j(a)g(string.)52
b(An)o(y)p 0 5549 3901 4 v 3808 5649 a Fi(33)p eop end
%%Page: 34 40
TeXDict begin 34 39 bop 208 83 a Fn(k)o(e)o(yw)o(ord)26
b(ar)o(guments)h(are)i(passed)g(to)f(the)h Fl(SoapWriter)f
Fn(constructor)-5 b(.)100 b(Ne)n(w)29 b(in)g(v)o(ersion)f(1.1;)k(the)d
(old)f Fl(AsSoap\(\))208 183 y Fn(method)18 b(is)k(still)f(a)n(v)n
(ailable.)0 330 y(If)f(other)f(data)h(is)h(going)e(to)h(be)g(sent)g
(with)h(the)f(f)o(ault,)f(the)i(follo)n(wing)d(tw)o(o)i(methods)f(can)h
(be)g(used.)25 b(Because)20 b(some)g(data)g(might)f(need)0
429 y(to)h(be)g(output)f(in)i(the)f(SO)m(AP)h Fl(Header)p
Fn(,)e(serializing)h(a)h(f)o(ault)f(is)h(a)g(tw)o(o-step)e(process.)0
576 y Fj(DataForSOAPHeader)p Fl(\(\))208 676 y Fn(This)c(method)f
(returns)g(a)i(te)o(xt)f(string)g(that)g(can)g(be)g(included)f(as)i
(the)f Fl(header)g Fn(parameter)e(for)i(constructing)e(a)j
Fl(SoapWriter)208 775 y Fn(object.)0 922 y Fj(serialize)p
Fl(\()p Fk(sw)p Fl(\))208 1022 y Fn(This)k(method)f(outputs)g(the)h(f)o
(ault)g(object)g(onto)f(the)i Fk(sw)g Fn(object,)e(which)h(is)h(a)g
Fl(SoapWriter)e Fn(instance.)0 1169 y(Some)h(con)m(v)o(enience)d
(functions)i(are)h(a)n(v)n(ailable)g(to)g(create)g(a)h
Fl(Fault)e Fn(from)g(common)g(conditions.)0 1316 y Fj(FaultFromActor)p
Fl(\()p Fk(uri)p Fc([)p Fk(,)e(actor)d Fc(])p Fl(\))208
1415 y Fn(This)19 b(function)e(could)g(be)i(used)g(when)f(an)g
(application)g(recei)n(v)o(es)g(a)h(message)g(that)f(has)h(a)h(SO)m(AP)
f Fl(Header)f Fn(element)h(directed)208 1515 y(to)h(an)h(actor)f(that)h
(cannot)f(be)g(processed.)26 b(The)20 b Fk(uri)i Fn(parameter)d
(identi\002es)h(the)h(actor)-5 b(.)27 b(The)20 b Fk(actor)j
Fn(parameter)c(can)h(be)h(used)f(to)208 1614 y(specify)f(a)i(URI)f
(that)h(identi\002es)f(the)g(application,)f(if)h(it)h(is)g(not)f(the)g
(ultimate)g(recipient)f(of)h(the)g(SO)m(AP)h(message.)0
1761 y Fj(FaultFromException)p Fl(\()p Fk(e)n(x,)c(inheader)r
Fc([)p Fk(,)h(tb)p Fc([)p Fk(,)i(actor)14 b Fc(])e(])p
Fl(\))208 1861 y Fn(This)27 b(function)f(creates)i(a)g
Fl(Fault)f Fn(from)g(a)h(general)e(Python)h(e)o(xception.)45
b(A)28 b(SO)m(AP)h(\223serv)o(er\224)d(f)o(ault)i(is)g(created.)47
b(The)27 b Fk(e)n(x)208 1961 y Fn(parameter)k(should)g(be)i(the)f
(Python)g(e)o(xception.)60 b(The)32 b Fk(inheader)h Fn(parameter)e
(should)g(be)i(true)f(if)h(the)g(error)e(w)o(as)i(found)208
2060 y(on)28 b(a)h(SO)m(AP)g Fl(Header)f Fn(element.)50
b(The)28 b(optional)f Fk(tb)i Fn(parameter)e(may)h(be)g(a)h(Python)f
(traceback)f(object,)j(as)f(returned)e(by)208 2160 y(`)p
Fl(sys.exc_info\(\)[2])p Fn('.)d(The)c Fk(actor)j Fn(parameter)d(can)g
(be)h(used)g(to)g(specify)g(a)g(URI)h(that)f(identi\002es)g(the)g
(application,)e(if)208 2259 y(it)h(is)i(not)d(the)i(ultimate)f
(recipient)f(of)h(the)g(SO)m(AP)h(message.)0 2406 y Fj
(FaultFromFaultMessage)p Fl(\()p Fk(ps)p Fl(\))208 2506
y Fn(This)29 b(function)g(creates)g(a)i Fl(Fault)e Fn(from)g(a)h
Fl(ParsedSoap)e Fn(object)h(passed)h(in)g(as)h Fk(ps)p
Fn(.)54 b(It)30 b(should)e(only)h(be)h(used)f(if)i(the)208
2606 y Fl(IsAFault\(\))18 b Fn(method)h(returned)g(true.)0
2752 y Fj(FaultFromNotUnderstood)p Fl(\()p Fk(uri,)d(localname)o(,)p
Fc([)p Fk(,)i(actor)c Fc(])p Fl(\))208 2852 y Fn(This)26
b(function)e(could)h(be)g(used)h(when)f(an)h(application)e(recei)n(v)o
(es)h(a)h(message)g(with)g(the)g(SO)m(AP)h Fl(mustUnderstand)c
Fn(at-)208 2952 y(trib)n(ute)17 b(that)h(it)g(does)g(not)f(understand.)
22 b(The)c Fk(uri)g Fn(and)f Fk(localname)f Fn(parameters)h(should)g
(identify)f(the)i(unkno)n(wn)d(element.)24 b(The)208
3051 y Fk(actor)f Fn(parameter)d(can)h(be)h(used)f(to)g(specify)g(a)h
(URI)g(that)g(identi\002es)f(the)h(application,)e(if)i(it)g(is)g(not)g
(the)f(ultimate)g(recipient)g(of)208 3151 y(the)f(SO)m(AP)h(message.)0
3298 y Fj(FaultFromZSIException)p Fl(\()p Fk(e)n(x)p
Fc([)p Fk(,)c(actor)d Fc(])p Fl(\))208 3397 y Fn(This)k(function)e
(creates)i(a)h Fl(Fault)f Fn(object)f(from)g(a)i Fl(ZSI)f
Fn(e)o(xception,)e Fl(ParseException)h Fn(or)g Fl(EvaluateException)p
Fn(,)208 3497 y(passed)29 b(in)h(as)h Fk(e)n(x)p Fn(.)55
b(A)30 b(SO)m(AP)h(\223client\224)e(f)o(ault)h(is)h(created.)53
b(The)30 b Fk(actor)h Fn(parameter)e(can)g(be)h(used)g(to)g(specify)f
(a)h(URI)g(that)208 3597 y(identi\002es)20 b(the)g(application,)e(if)j
(it)g(is)g(not)f(the)g(ultimate)g(recipient)f(of)h(the)g(SO)m(AP)h
(message.)p 0 5549 3901 4 v 0 5649 a Fi(34)1958 b(Chapter)24
b(8.)52 b(The)23 b Fl(Fault)f Fi(module)i(\227)f(repor)s(ting)h(errors)
p eop end
%%Page: 35 41
TeXDict begin 35 40 bop 0 83 3901 9 v 3503 230 a Fi(CHAPTER)3614
427 y Fh(NINE)p 0 515 V 598 978 a Ft(The)57 b Fd(resolvers)g
Ft(module)g(\227)g(f)-6 b(etching)2798 1227 y(remote)57
b(data)0 1706 y Fn(The)33 b Fl(resolvers)f Fn(module)g(pro)o(vides)g
(some)h(functions)f(and)h(classes)h(that)g(can)f(be)g(used)g(as)h(the)g
Fl(resolver)e Fn(attrib)n(ute)h(for)0 1805 y Fl(TC.String)c
Fn(or)g Fl(TC.XML)g Fn(typecodes.)53 b(The)o(y)29 b(process)g(an)h
(absolute)f(URL,)h(as)g(described)f(abo)o(v)o(e,)h(and)f(return)g(the)h
(content.)0 1905 y(Because)d(the)h Fl(resolvers)e Fn(module)f(can)i
(import)f(a)i(number)d(of)i(other)g(lar)o(ge)f(modules,)h(it)h(must)f
(be)h(imported)d(directly)-5 b(,)28 b(as)f(in)0 2005
y(`)p Fl(from)49 b(ZSI)g(import)g(resolvers)p Fn('.)0
2151 y(These)22 b(\002rst)h(tw)o(o)g(functions)e(pass)i(the)f(URI)h
(directly)e(to)i(the)f Fl(urlopen)g Fn(function)e(in)j(the)f
Fl(urllib)g Fn(module.)30 b(Therefore,)20 b(if)j(used)0
2251 y(directly)17 b(as)i(resolv)o(ers,)f(a)h(client)f(could)f(direct)h
(the)g(SO)m(AP)h(application)e(to)i(fetch)e(an)o(y)h(\002le)h(on)f(the)
g(netw)o(ork)f(or)h(local)g(disk.)24 b(Needless)0 2351
y(to)c(say)-5 b(,)20 b(this)h(could)e(pose)h(a)h(security)e(risks.)0
2498 y Fj(Opaque)p Fl(\()p Fk(uri,)g(tc,)i(ps)p Fc([)p
Fk(,)f(**k)o(e)n(ywor)m(ds)12 b Fc(])p Fl(\))208 2597
y Fn(This)20 b(function)e(returns)h(the)g(data)h(contained)e(at)j(the)f
(speci\002ed)f Fl(uri)h Fn(as)h(a)f(Python)f(string.)24
b(Base-64)19 b(decoding)f(will)j(be)f(done)208 2697 y(if)g(necessary)-5
b(.)24 b(The)c Fl(tc)g Fn(and)g Fl(ps)g Fn(parameters)f(are)h(ignored;)
f(the)h Fl(keywords)f Fn(are)h(passed)g(to)h(the)f Fl(urlopen)f
Fn(method.)0 2844 y Fj(XML)p Fl(\()p Fk(uri,)h(tc,)g(ps)p
Fc([)p Fk(,)g(**k)o(e)n(ywor)m(ds)12 b Fc(])p Fl(\))208
2943 y Fn(This)21 b(function)f(returns)h(a)g(list)i(of)e(the)h(child)f
(element)g(nodes)f(of)h(the)h(XML)f(document)f(at)i(the)f(speci\002ed)h
Fl(uri)p Fn(.)28 b(The)21 b Fl(tc)h Fn(and)208 3043 y
Fl(ps)e Fn(parameters)f(are)h(ignored;)e(the)j Fl(keywords)e
Fn(are)h(passed)g(to)h(the)f Fl(urlopen)f Fn(method.)0
3190 y(The)h Fl(NetworkResolver)e Fn(class)j(pro)o(vides)d(a)j
(simple-minded)d(w)o(ay)i(to)g(limit)h(the)f(URI')-5
b(s)21 b(that)g(will)g(be)f(resolv)o(ed.)0 3337 y Fo(class)h
Fj(NetworkResolver)p Fl(\()p Fc([)p Fk(pr)m(e\002xes=None)12
b Fc(])p Fl(\))208 3436 y Fn(The)23 b Fl(prefixes)f Fn(parameter)g(is)j
(a)f(list)h(of)e(strings)g(de\002ning)g(the)g(allo)n(wed)g(pre\002x)o
(es)g(of)g(an)o(y)g(URI')-5 b(s.)36 b(If)23 b(ask)o(ed)h(to)f(fetch)h
(the)208 3536 y(content)19 b(for)g(a)i(URI)g(that)f(does)g(start)h
(with)f(one)g(of)f(the)i(pre\002x)o(es,)e(it)i(will)g(raise)f(an)g(e)o
(xception.)208 3669 y(In)i(addition)g(to)h Fl(Opaque)g
Fn(and)f Fl(XML)h Fn(methods,)f(this)i(class)g(pro)o(vides)d(a)i
Fl(Resolve)g Fn(method)e(that)i(e)o(xamines)f(the)h(typecode)208
3768 y(to)d(determine)f(what)h(type)g(of)f(data)i(is)g(desired.)0
3915 y(If)27 b(the)f(SO)m(AP)i(application)d(is)j(gi)n(v)o(en)d(a)i
(multi-part)f(MIME)g(document,)g(the)h Fl(MIMEResolver)e
Fn(class)j(can)e(be)h(used)f(to)h(process)0 4015 y(SO)m(AP)21
b(with)f(Attachments.)0 4162 y(The)50 b Fl(MIMEResolver)f
Fn(class)j(will)f(read)f(the)h(entire)f(multipart)f(MIME)i(document,)k
(noting)50 b(an)o(y)g Fl(Content-ID)f Fn(or)0 4261 y
Fl(Content-Location)29 b Fn(headers)h(that)i(appear)e(on)h(the)g
(headers)f(of)h(an)o(y)g(of)g(the)g(message)g(parts,)j(and)d(use)g
(them)g(to)g(resolv)o(e)0 4361 y(an)o(y)19 b Fl(href)h
Fn(attrib)n(utes)h(that)f(appear)f(in)h(the)g(SO)m(AP)h(message.)0
4508 y Fo(class)g Fj(MIMEResolver)p Fl(\()p Fk(ct,)d(f)12
b Fc([)p Fk(,)20 b(**k)o(e)n(ywor)m(ds)12 b Fc(])p Fl(\))208
4608 y Fn(The)19 b Fl(ct)h Fn(parameter)e(is)j(a)f(string)g(that)g
(contains)f(the)h(v)n(alue)f(of)g(the)h(MIME)f Fl(Content-Type)g
Fn(header)-5 b(.)24 b(The)19 b Fl(f)h Fn(parameter)f(is)208
4707 y(the)h(input)f(stream,)h(which)g(should)f(be)h(positioned)f(just)
h(after)g(the)g(message)h(headers.)208 4840 y(The)e(follo)n(wing)g(k)o
(e)o(yw)o(ord)f(ar)o(guments)g(may)i(be)g(used:)p 0 5549
3901 4 v 3808 5649 a Fi(35)p eop end
%%Page: 36 42
TeXDict begin 36 41 bop 378 70 a Fo(K)n(eyw)o(ord)p 825
100 4 100 v 172 w(Default)p 1187 100 V 99 w(Description)p
328 103 3451 4 v 378 173 a Fl(seekable)p 825 402 4 299
v 205 w(0)p 1187 402 V 206 w Fn(Whether)25 b(or)g(not)g(the)g(input)g
(stream)g(is)h(seekable;)i(passed)d(to)h(the)f(constructor)f(for)1239
272 y(the)19 b(internal)f Fl(multifile)g Fn(object.)49
b(Changed)18 b(in)h(v)o(ersion)f(2.0:)h(def)o(ault)f(had)h(been)1239
372 y(1.)378 472 y Fl(next)p 825 601 4 200 v 330 w(None)p
1187 601 V 131 w Fn(A)k(resolv)o(er)f(object)g(that)i(will)f(be)g(ask)o
(ed)g(to)g(resolv)o(e)f(the)h(URI)h(if)f(it)h(is)g(not)f(found)e(in)
1239 571 y(the)f(MIME)g(document.)48 b(Ne)n(w)21 b(in)f(v)o(ersion)f
(1.1.)378 671 y Fl(uribase)p 825 900 4 299 v 180 w(None)p
1187 900 V 131 w Fn(The)j(base)h(URI)g(to)g(be)g(used)f(when)g
(resolving)f(relati)n(v)o(e)h(URI')-5 b(s;)25 b(this)e(will)h
(typically)1239 770 y(be)30 b(the)h(v)n(alue)f(of)g(the)h
Fl(Content-Location)d Fn(header)m(,)j(if)g(present.)112
b(Ne)n(w)31 b(in)1239 870 y(v)o(ersion)19 b(1.1.)0 1012
y(In)h(addition)f(to)h(to)h(the)f Fl(Opaque)p Fn(,)f
Fl(Resolve)p Fn(,)g(and)h Fl(XML)g Fn(methods)f(as)i(described)e(abo)o
(v)o(e,)f(the)j(follo)n(wing)d(method)h(is)i(a)n(v)n(ailable:)0
1159 y Fj(GetSOAPPart)p Fl(\(\))208 1259 y Fn(This)f(method)f(returns)g
(a)i(stream)f(containing)e(the)i(SO)m(AP)h(message)f(te)o(xt.)0
1405 y(The)g(follo)n(wing)e(attrib)n(utes)j(are)f(read-only:)0
1552 y Fj(parts)208 1652 y Fn(An)65 b(array)g(of)g(tuples,)76
b(one)65 b(for)g(each)g(MIME)g(bodypart)e(found.)159
b(Each)65 b(tuple)g(has)h(tw)o(o)g(elements,)76 b(a)208
1752 y Fl(mimetools.Message)26 b Fn(object)j(which)f(contains)h(the)g
(headers)f(for)h(the)g(bodypart,)g(and)f(a)i Fl(StringIO)e
Fn(object)g(con-)208 1851 y(taining)19 b(the)h(data.)0
1998 y Fj(id_dict)208 2098 y Fn(A)32 b(dictionary)d(whose)i(k)o(e)o(ys)
h(are)f(the)h(v)n(alues)f(of)g(an)o(y)g Fl(Content-ID)f
Fn(headers,)j(and)e(whose)g(v)n(alue)g(is)h(the)g(appropriate)208
2197 y Fl(parts)19 b Fn(tuple.)0 2344 y Fj(loc_dict)208
2444 y Fn(A)k(dictionary)e(whose)i(k)o(e)o(ys)g(are)g(the)g(v)n(alues)f
(of)h(an)o(y)f Fl(Content-Location)f Fn(headers,)i(and)f(whose)h(v)n
(alue)f(is)i(the)f(appro-)208 2543 y(priate)c Fl(parts)h
Fn(tuple.)p 0 5549 3901 4 v 0 5649 a Fi(36)1575 b(Chapter)24
b(9.)52 b(The)23 b Fl(resolvers)e Fi(module)k(\227)e(f)n(etching)g
(remote)g(data)p eop end
%%Page: 37 43
TeXDict begin 37 42 bop 0 83 3901 9 v 3503 230 a Fi(CHAPTER)3661
427 y Fh(TEN)p 0 515 V 1602 978 a Ft(Dispatching)57 b(and)g(In)l(v)-5
b(oking)0 1468 y Fn(Ne)n(w)20 b(in)h(v)o(ersion)e(1.1.)0
1615 y Fl(ZSI)f Fn(is)g(focused)e(on)h(parsing)g(and)g(generating)f(SO)
m(AP)i(messages,)g(and)f(pro)o(vides)f(limited)h(f)o(acilities)h(for)f
(dispatching)f(to)i(the)f(appro-)0 1714 y(priate)22 b(message)g
(handler)-5 b(.)29 b(This)23 b(is)g(because)e Fl(ZSI)h
Fn(w)o(orks)g(within)g(man)o(y)f(client)h(and)g(serv)o(er)f(en)m
(vironments,)e(and)j(the)g(dispatching)0 1814 y(styles)f(for)e(these)i
(dif)n(ferent)d(en)m(vironments)g(can)i(be)g(v)o(ery)f(dif)n(ferent.)0
1961 y(Ne)n(v)o(ertheless,)f Fl(ZSI)g Fn(includes)g(some)h(dispatch)f
(and)g(in)m(v)n(ocation)e(functions.)23 b(T)-7 b(o)19
b(use)g(them,)f(the)o(y)g(must)h(be)f(e)o(xplicitly)g(imported,)f(as)0
2061 y(sho)n(wn)i(in)i(the)f(e)o(xample)f(at)h(the)h(start)f(of)g(this)
h(document.)0 2207 y(The)d(implementation)e(\(and)h(names\))h(of)g(the)
g(these)h(classes)g(re\003ects)f(the)h(orientation)d(of)i(using)g(SO)m
(AP)h(for)f(remote)f(procedure)f(calls)0 2307 y(\(RPC\).)0
2454 y(Both)k(client)g(and)g(serv)o(er)f(share)h(a)h(class)g(that)f
(de\002nes)g(the)h(mechanism)d(a)j(client)f(uses)h(to)f(authenticate)f
(itself.)0 2601 y Fo(class)i Fj(AUTH)p Fl(\(\))208 2700
y Fn(This)j(class)h(de\002nes)e(constants)h(used)g(to)g(identify)f(ho)n
(w)g(the)h(client)g(authenticated:)31 b Fl(none)24 b
Fn(if)g(no)g(authentication)e(w)o(as)j(pro-)208 2800
y(vided;)k Fl(httpbasic)d Fn(if)i(HTTP)f(basic)h(authentication)d(w)o
(as)j(used,)g(or)f Fl(zsibasic)f Fn(if)i Fl(ZSI)f Fn(basic)g
(authentication)e(\(see)208 2900 y(belo)n(w\)\))18 b(w)o(as)j(used.)0
3047 y(The)i Fl(ZSI)f Fn(schema)h(\(see)g(the)g(last)h(chapter)d(of)i
(this)g(manual\))f(de\002nes)g(a)i(SO)m(AP)f(header)f(element,)h
Fl(BasicAuth)p Fn(,)f(that)h(contains)f(a)0 3146 y(name)e(and)f(passw)o
(ord.)24 b(This)d(is)g(similar)f(to)g(the)g(HTTP)h(basic)f
(authentication)e(header)m(,)h(e)o(xcept)g(that)h(it)h(can)f(be)g(used)
g(independently)0 3246 y(from)f(an)h(HTTP)h(transport.)0
3573 y Fg(10.1)121 b(Dispatching)0 3806 y Fn(The)28 b
Fl(ZSI.dispatch)e Fn(module)h(allo)n(ws)i(you)e(to)i(e)o(xpose)e
(Python)g(functions)g(as)i(a)f(web)g(service.)49 b(The)28
b(module)f(pro)o(vides)g(the)0 3906 y(infrastructure)20
b(to)i(parse)g(the)g(request,)f(dispatch)g(to)i(the)f(appropriate)d
(handler)m(,)i(and)g(then)h(serialize)g(an)o(y)f(return)g(v)n(alue)g
(back)g(to)i(the)0 4005 y(client.)35 b(The)23 b(v)n(alue)g(returned)f
(by)h(the)g(function)f(will)j(be)e(serialized)g(back)g(to)h(the)f
(client.)35 b(If)24 b(an)f(e)o(xception)f(occurs,)h(a)h(SO)m(AP)h(f)o
(ault)0 4105 y(will)c(be)f(sent)h(back)e(to)h(the)h(client.)0
4390 y Ff(10.1.1)101 b(Dispatch)28 b(Beha)n(viors)0 4593
y Fn(By)22 b(def)o(ault)e(the)i(callback)e(is)j(in)m(v)n(ok)o(ed)c
(with)j(the)f(p)o(yobj)f(representation)g(of)h(the)g(body)f(root)h
(element,)f(and)h(it)h(is)h(e)o(xpected)c(to)j(return)0
4692 y(a)28 b(self-describing)d(request)i(\(w/typecode\).)44
b(P)o(arsing)27 b(is)h(done)e(via)i(a)f(typecode)f(from)g(typesmodule,)
h(or)g(An)o(y)-5 b(.)45 b(Other)27 b(k)o(e)o(yw)o(ord)0
4792 y(options)19 b(are)h(a)n(v)n(ailable)g(in)g(dispatch)g(mechanisms)
f(\(see)i(belo)n(w\))e(that)h(result)g(in)h(dif)n(ferent)d(beha)n(vior)
-5 b(.)0 5060 y Fi(r)r(pc)0 5263 y Fn(An)19 b(rpc)f(service)g(will)h
(ignore)e(the)i(body)e(root)h(\(RPC)h(Wrapper\))e(of)h(the)h(request,)f
(and)g(parse)g(all)h(\224parts\224)f(of)h(message)f(via)g(indi)n
(vidual)0 5363 y(typecodes.)55 b(The)30 b(callback)g(function)f(is)j(e)
o(xpected)d(to)i(return)f(the)g(parts)h(of)f(the)h(message)g(in)g(a)g
(dict)g(or)f(a)h(list.)58 b(The)30 b(dispatch)p 0 5549
3901 4 v 3808 5649 a Fi(37)p eop end
%%Page: 38 44
TeXDict begin 38 43 bop 0 83 a Fn(mechanism)22 b(will)i(try)f(to)h
(serialize)g(it)g(as)g(a)g(Struct)f(b)n(ut)g(if)h(this)g(is)g(not)f
(possible)g(it)i(will)f(be)f(serialized)g(as)h(an)g(Array)-5
b(.)33 b(P)o(arsing)23 b(done)0 183 y(via)d(a)h(typecode)d(from)h
(typesmodule,)f(or)i(An)o(y)-5 b(.)24 b(Not)c(compatible)f(with)h
Fk(docstyle)p Fn(.)0 451 y Fi(docstyle)0 654 y Fn(Callback)15
b(is)i(in)m(v)n(ok)o(ed)d(with)h(a)h(P)o(arsedSoap)f(instance)g
(representing)e(the)j(request,)g(and)f(the)g(return)g(v)n(alue)f(is)j
(serialized)e(with)h(an)g(XML)0 753 y(typecode)h(\(DOM\).)g(The)h
(result)h(in)f(wrapped)f(as)i(an)g(rpc-style)e(message,)h(with)h
Fk(Response)e Fn(appended)g(to)h(the)g(request)g(wrapper)-5
b(.)23 b(Not)0 853 y(compatible)c(with)h Fk(rpc)p Fn(.)0
1138 y Ff(10.1.2)101 b(Special)29 b(Modules)0 1341 y
Fn(These)20 b(are)g(k)o(e)o(yw)o(ord)e(options)i(a)n(v)n(ailable)f(to)i
(all)g(dispatch)e(mechansism)g(\(see)i(belo)n(w\).)0
1609 y Fi(modules)0 1812 y Fn(Dispatch)g(is)i(based)e(solely)g(on)g
(the)h(name)f(of)g(the)g(root)g(element)g(in)h(the)f(incoming)f(SO)m
(AP)i(request;)g(the)f(request)g(URL)h(is)h(ignored.)0
1912 y(These)e(modules)f(will)i(be)f(search)g(for)f(a)i(matching)e
(function.)26 b(If)21 b(no)f(modules)g(are)i(speci\002ed,)e(only)h(the)
g Fl(__main__)f Fn(module)g(will)0 2011 y(be)g(searched.)0
2280 y Fi(typesmodule)0 2483 y Fn(Used)28 b(for)g(parsing.)47
b(This)28 b(module)f(should)g(contain)g(class)i(de\002nitions)e(with)h
(the)g Fl(typecode)f Fn(attrib)n(ute)h(set)h(to)f(a)g
Fl(TypeCode)0 2582 y Fn(instance.)i(By)22 b(def)o(ault,)g(a)g(class)h
(de\002nition)e(matching)g(the)h(root)f(element)g(name)h(will)g(be)g
(retrie)n(v)o(ed)f(or)g(the)h(An)o(y)g(typecode)e(will)j(be)0
2682 y(used.)i(If)20 b(using)f Fk(rpc)p Fn(,)i(each)e(child)h(of)g(the)
g(root)g(element)f(will)i(be)f(used)g(to)h(retrie)n(v)o(e)e(a)h(class)i
(de\002nition)d(of)g(the)i(same)f(name.)0 2967 y Ff(10.1.3)101
b(Dispatch)28 b(Mechanisms)0 3170 y Fn(Three)e(dispatch)g(mechanisms)f
(are)i(pro)o(vided:)35 b(one)26 b(supports)f(standard)h(CGI)h(scripts,)
h(one)e(runs)g(a)h(dedicated)e(serv)o(er)h(based)g(on)0
3269 y(the)19 b Fl(BaseHTTPServer)e Fn(module,)g(and)i(the)f(third)h
(uses)g(the)g(JonPY)g(package,)e Fl(http://jonpy.sourceforge.net)p
Fn(,)d(to)0 3369 y(support)19 b(F)o(astCGI.)0 3516 y
Fj(AsServer)p Fl(\()p Fc([)p Fk(**k)o(e)n(ywor)m(ds)12
b Fc(])p Fl(\))208 3615 y Fn(This)21 b(creates)g(a)g
Fl(HTTPServer)f Fn(object)g(with)h(a)h(request)e(handler)g(that)h(only)
f(supports)g(the)h(\223POST\224)g(method.)26 b(Dispatch)21
b(is)208 3715 y(based)e(solely)h(on)g(the)g(name)g(of)g(the)g(root)g
(element)f(in)i(the)f(incoming)e(SO)m(AP)j(request;)f(the)g(request)g
(URL)g(is)h(ignored.)208 3848 y(The)e(follo)n(wing)g(k)o(e)o(yw)o(ord)f
(ar)o(guments)g(may)i(be)g(used:)257 4059 y Fo(K)n(eyw)o(ord)p
853 4089 4 100 v 464 w(Default)p 1501 4089 V 242 w(Description)p
208 4092 3886 4 v 257 4162 a Fl(port)p 853 4192 4 100
v 672 w(80)p 1501 4192 V 324 w Fn(Port)g(to)g(listen)h(on.)257
4261 y Fl(addr)p 853 4291 V 672 w('')p 1501 4291 V 324
w Fn(Address)e(to)i(listen)f(on.)257 4361 y Fl(docstyle)p
853 4391 V 397 w(False)p 1501 4391 V 249 w Fn(Exhibit)f(the)h
Fk(docstyle)g Fn(beha)n(vior)-5 b(.)257 4461 y Fl(rpc)p
853 4490 V 647 w(False)p 1501 4490 V 249 w Fn(Exhibit)19
b(the)h Fk(rpc)g Fn(beha)n(vior)-5 b(.)257 4560 y Fl(modules)p
853 4590 V 298 w(\(__main__,\))p 1501 4590 V 98 w Fn(List)20
b(of)g(modules)f(containing)g(functions)g(that)h(can)g(be)g(in)m(v)n
(ok)o(ed.)257 4660 y Fl(typesmodule)p 853 4789 4 200
v 98 w(\(__main__,\))p 1501 4789 V 98 w Fn(This)e(module)e(is)j(used)f
(for)g(parsing,)f(it)i(contains)e(class)i(de\002nitions)e(that)h
(specify)g(the)1553 4759 y Fl(typecode)h Fn(attrib)n(ute.)257
4859 y Fl(nsdict)p 853 4889 4 100 v 572 w({})p 1501 4889
V 324 w Fn(Namespace)g(dictionary)f(to)j(send)f(in)g(the)g(SO)m(AP)h
Fl(Envelope)0 5024 y Fj(AsCGI)p Fl(\()p Fc([)p Fk(**k)o(e)n(ywor)m(ds)
12 b Fc(])p Fl(\))208 5124 y Fn(This)20 b(method)e(parses)i(the)g(CGI)g
(input)g(and)f(in)m(v)n(ok)o(es)g(a)h(function)e(that)i(has)g(the)g
(same)g(name)g(as)g(the)g(top-le)n(v)o(el)e(SO)m(AP)j(request)208
5224 y(element.)208 5356 y(The)e(follo)n(wing)g(k)o(e)o(yw)o(ord)f(ar)o
(guments)g(may)i(be)g(used:)p 0 5549 3901 4 v 0 5649
a Fi(38)2399 b(Chapter)23 b(10.)52 b(Dispatching)24 b(and)g(In)n(v)n
(oking)p eop end
%%Page: 39 45
TeXDict begin 39 44 bop 257 161 a Fo(K)n(eyw)o(ord)p
853 191 4 100 v 464 w(Default)p 1501 191 V 242 w(Description)p
208 194 3886 4 v 257 264 a Fl(rpc)p 853 294 4 100 v 647
w(False)p 1501 294 V 249 w Fn(Exhibit)19 b(the)h Fk(rpc)g
Fn(beha)n(vior)-5 b(.)257 364 y Fl(modules)p 853 394
V 298 w(\(__main__,\))p 1501 394 V 98 w Fn(List)20 b(of)g(modules)f
(containing)g(functions)g(that)h(can)g(be)g(in)m(v)n(ok)o(ed.)257
463 y Fl(typesmodule)p 853 593 4 200 v 98 w(\(__main__,\))p
1501 593 V 98 w Fn(This)e(module)e(is)j(used)f(for)g(parsing,)f(it)i
(contains)e(class)i(de\002nitions)e(that)h(specify)g(the)1553
563 y Fl(typecode)h Fn(attrib)n(ute.)257 663 y Fl(nsdict)p
853 692 4 100 v 572 w({})p 1501 692 V 324 w Fn(Namespace)g(dictionary)f
(to)j(send)f(in)g(the)g(SO)m(AP)h Fl(Envelope)0 828 y
Fj(AsHandler)p Fl(\()p Fk(r)m(equest=None)p Fc([)p Fk(,)c(**k)o(e)n
(ywor)m(ds)12 b Fc(])p Fl(\))208 927 y Fn(This)20 b(method)f(is)i(used)
f(within)g(a)g(JonPY)h(handler)d(to)j(do)e(dispatch.)208
1055 y(The)g(follo)n(wing)g(k)o(e)o(yw)o(ord)f(ar)o(guments)g(may)i(be)
g(used:)257 1261 y Fo(K)n(eyw)o(ord)p 853 1291 V 464
w(Default)p 1501 1291 V 242 w(Description)p 208 1294
3886 4 v 257 1364 a Fl(request)p 853 1394 4 100 v 472
w(None)p 1501 1394 V 274 w Fn(modp)o(ython)d(HTTPRequest)i(instance.)
257 1464 y Fl(modules)p 853 1494 V 298 w(\(__main__,\))p
1501 1494 V 98 w Fn(List)h(of)g(modules)f(containing)g(functions)g
(that)h(can)g(be)g(in)m(v)n(ok)o(ed.)257 1563 y Fl(docstyle)p
853 1593 V 397 w(False)p 1501 1593 V 249 w Fn(Exhibit)f(the)h
Fk(docstyle)g Fn(beha)n(vior)-5 b(.)257 1663 y Fl(rpc)p
853 1693 V 647 w(False)p 1501 1693 V 249 w Fn(Exhibit)19
b(the)h Fk(rpc)g Fn(beha)n(vior)-5 b(.)257 1762 y Fl(typesmodule)p
853 1892 4 200 v 98 w(\(__main__,\))p 1501 1892 V 98
w Fn(This)18 b(module)e(is)j(used)f(for)g(parsing,)f(it)i(contains)e
(class)i(de\002nitions)e(that)h(specify)g(the)1553 1862
y Fl(typecode)h Fn(attrib)n(ute.)257 1962 y Fl(nsdict)p
853 1992 4 100 v 572 w({})p 1501 1992 V 324 w Fn(Namespace)g
(dictionary)f(to)j(send)f(in)g(the)g(SO)m(AP)h Fl(Envelope)0
2127 y Fj(AsJonPy)p Fl(\()p Fk(r)m(equest=None)p Fc([)p
Fk(,)c(**k)o(e)n(ywor)m(ds)12 b Fc(])p Fl(\))208 2227
y Fn(This)20 b(method)f(is)i(used)f(within)g(a)g(JonPY)h(handler)d(to)j
(do)e(dispatch.)208 2354 y(The)g(follo)n(wing)g(k)o(e)o(yw)o(ord)f(ar)o
(guments)g(may)i(be)g(used:)257 2560 y Fo(K)n(eyw)o(ord)p
853 2590 V 464 w(Default)p 1501 2590 V 242 w(Description)p
208 2593 3886 4 v 257 2663 a Fl(request)p 853 2693 4
100 v 472 w(None)p 1501 2693 V 274 w Fn(jonp)o(y)f(Request)h(instance.)
257 2763 y Fl(modules)p 853 2793 V 298 w(\(__main__,\))p
1501 2793 V 98 w Fn(List)g(of)g(modules)f(containing)g(functions)g
(that)h(can)g(be)g(in)m(v)n(ok)o(ed.)257 2862 y Fl(docstyle)p
853 2892 V 397 w(False)p 1501 2892 V 249 w Fn(Exhibit)f(the)h
Fk(docstyle)g Fn(beha)n(vior)-5 b(.)257 2962 y Fl(rpc)p
853 2992 V 647 w(False)p 1501 2992 V 249 w Fn(Exhibit)19
b(the)h Fk(rpc)g Fn(beha)n(vior)-5 b(.)257 3062 y Fl(typesmodule)p
853 3191 4 200 v 98 w(\(__main__,\))p 1501 3191 V 98
w Fn(This)18 b(module)e(is)j(used)f(for)g(parsing,)f(it)i(contains)e
(class)i(de\002nitions)e(that)h(specify)g(the)1553 3161
y Fl(typecode)h Fn(attrib)n(ute.)257 3261 y Fl(nsdict)p
853 3291 4 100 v 572 w({})p 1501 3291 V 324 w Fn(Namespace)g
(dictionary)f(to)j(send)f(in)g(the)g(SO)m(AP)h Fl(Envelope)208
3384 y Fn(The)e(follo)n(wing)g(code)g(sho)n(ws)i(a)f(sample)g(use:)444
3603 y Fe(import)44 b(jon.fcgi)444 3694 y(from)g(ZSI)g(import)g
(dispatch)444 3786 y(import)g(MyHandler)444 3968 y(class)g
(Handler\(cgi.Handler\):)623 4060 y(def)g(process\(self,)f(req\):)802
4151 y(dispatch.AsJonPy\(modules=\(MyHandler,\),)c(request=req\))444
4334 y(jon.fcgi.Server\({jon.fcgi.FCGI_RESPOND)o(ER:)g
(Handler}\).run\(\))0 4671 y Ff(10.1.4)101 b(Other)27
b(Dispatch)i(Stuff)0 4855 y Fj(GetClientBinding)p Fl(\(\))208
4954 y Fn(More)19 b(sophisticated)g(scripts)i(may)e(w)o(ant)i(to)f(use)
g(access)h(the)f(client)h(binding)d(object,)h(which)h(encapsulates)f
(all)i(information)208 5054 y(about)i(the)i(client)f(in)m(v)n(oking)e
(the)j(script.)38 b(This)24 b(function)f(returns)h Fl(None)g
Fn(or)g(the)h(binding)e(information,)f(an)j(object)f(of)g(type)208
5154 y Fl(ClientBinding)p Fn(,)18 b(described)h(belo)n(w)-5
b(.)0 5300 y Fo(class)21 b Fj(ClientBinding)p Fl(\()p
Fk(...)p Fl(\))208 5400 y Fn(This)f(object)g(contains)f(information)f
(about)h(the)h(client.)25 b(It)c(is)g(created)e(internally)g(by)h
Fl(ZSI)p Fn(.)p 0 5549 3901 4 v 0 5649 a Fi(10.1.)52
b(Dispatching)3139 b(39)p eop end
%%Page: 40 46
TeXDict begin 40 45 bop 0 83 a Fj(GetAuth)p Fl(\(\))208
183 y Fn(This)15 b(returns)g(a)h(tuple)g(containing)e(information)f
(about)i(the)g(client)h(identity)-5 b(.)22 b(The)16 b(\002rst)g
(element)f(will)i(be)f(one)f(of)g(the)h(constants)208
282 y(from)i(the)h Fl(AUTH)g Fn(class)h(described)e(abo)o(v)o(e.)23
b(F)o(or)c(HTTP)g(or)g Fl(ZSI)g Fn(basic)g(authentication,)f(the)h(ne)o
(xt)f(tw)o(o)i(elements)f(will)g(be)h(the)208 382 y(name)f(and)h(passw)
o(ord)f(pro)o(vided)f(by)i(the)g(client.)0 529 y Fj(GetNS)p
Fl(\(\))208 628 y Fn(Returns)g(the)g(namespace)f(URI)h(that)h(the)f
(client)g(is)h(using,)f(or)g(an)g(empty)f(string.)25
b(This)20 b(can)g(be)g(useful)g(for)f(v)o(ersioning.)0
775 y Fj(GetRequest)p Fl(\(\))208 875 y Fn(Returns)h(the)g
Fl(ParsedSoap)f Fn(object)g(of)h(the)g(incoming)f(request.)0
1022 y(The)h(follo)n(wing)e(attrib)n(ute)i(is)h(read-only:)0
1169 y Fj(environ)208 1268 y Fn(A)f(dictionary)f(of)h(the)g(en)m
(vironment)d(v)n(ariables.)24 b(This)c(is)i(most)e(useful)f(when)h
Fl(AsCGI\(\))f Fn(is)j(used.)0 1596 y Fg(10.2)121 b(The)34
b Fb(client)e Fg(module)i(\227)f(sending)i(SO)n(AP)d(messages)0
1829 y Fl(ZSI)23 b Fn(includes)e(a)i(module)f(to)g(connect)g(to)g(a)h
(SO)m(AP)h(serv)o(er)e(o)o(v)o(er)f(HTTP)-9 b(,)22 b(send)g(requests,)h
(and)f(parse)g(the)h(response.)31 b(It)23 b(is)g(b)n(uilt)g(on)0
1928 y(the)i(standard)g(Python)f Fl(httplib)h Fn(and)f
Fl(Cookie)h Fn(modules.)40 b(It)25 b(must)h(be)f(e)o(xplicitly)g
(imported,)f(as)j(in)e(`)p Fl(from)49 b(ZSI.client)0
2028 y(import)g(AUTH,Binding)p Fn('.)0 2313 y Ff(10.2.1)p
383 2313 30 4 v 136 w(Binding)0 2512 y Fo(class)21 b
Fj(_Binding)p Fl(\()p Fc([)p Fk(**k)o(e)n(ywor)m(ds)12
b Fc(])p Fl(\))208 2612 y Fn(This)19 b(class)h(encapsulates)e(a)h
(connection)e(to)j(a)f(serv)o(er)m(,)f(kno)n(wn)f(as)j(a)g
Fk(binding)p Fn(.)j(A)c(single)g(binding)e(may)i(be)g(used)g(for)f
(multiple)208 2711 y(RPC)j(calls.)26 b(Between)20 b(calls,)h
(modi\002ers)e(may)h(be)g(used)g(to)g(change)f(the)h(URL)h(being)e
(posted)h(to,)g(etc.)208 2844 y(Cookies)i(are)h(also)g(supported;)f(if)
i(a)f(response)f(comes)g(back)h(with)g(a)g Fl(Set-Cookie)f
Fn(header)m(,)f(it)j(will)g(be)e(parsed)g(and)h(used)208
2944 y(in)d(subsequent)f(interactions.)208 3077 y(The)g(follo)n(wing)g
(k)o(e)o(yw)o(ord)f(ar)o(guments)g(may)i(be)g(used:)257
3288 y Fo(K)n(eyw)o(ord)p 903 3318 4 100 v 865 w(Default)p
2253 3318 V 592 w(Description)p 208 3321 3808 4 v 257
3391 a Fl(auth)p 903 3620 4 299 v 824 w(\(AUTH.none,\))p
2253 3620 V 423 w Fn(A)28 b(tuple)f(with)h(authentication)d
(information;)j(the)g(\002rst)2304 3490 y(v)n(alue)39
b(should)g(be)g(one)g(of)g(the)h(constants)f(from)f(the)2304
3590 y Fl(AUTH)20 b Fn(class.)257 3689 y Fl(nsdict)p
903 3819 4 200 v 973 w({})p 2253 3819 V 674 w Fn(Namespace)57
b(dictionary)f(to)i(send)f(in)h(the)f(SO)m(AP)2304 3789
y Fl(Envelope)257 3889 y(soapaction)p 903 3919 4 100
v 773 w('')p 2253 3919 V 674 w Fn(V)-9 b(alue)20 b(for)g(the)g
Fl(SOAPAction)f Fn(HTTP)h(header)-5 b(.)257 3988 y Fl(readerclass)p
903 4118 4 200 v 673 w(None)p 2253 4118 V 624 w Fn(Class)23
b(used)e(to)g(create)g(DOM-creating)e(XML)i(readers;)2304
4088 y(see)g(the)f(description)f(in)h(the)h Fl(ParsedSoap)d
Fn(class.)257 4188 y Fl(writerclass)p 903 4317 V 673
w(None)p 2253 4317 V 624 w Fn(ElementProxy)23 b(Class)j(used)f(to)g
(create)f(XML)h(writers;)2304 4287 y(see)c(the)f(description)f(in)h
(the)h Fl(SoapWriter)d Fn(class.)257 4387 y Fl(tracefile)p
903 4516 V 773 w(None)p 2253 4516 V 624 w Fn(An)33 b(object)f(with)g(a)
h Fl(write)f Fn(method,)i(where)e(pack)o(et)2304 4486
y(traces)21 b(will)g(be)f(recorded.)257 4586 y Fl(transport)p
903 4616 4 100 v 248 w Fn(HTTPConnection/HTTPSConnection)p
2253 4616 V 94 w(transport)f(class)257 4686 y Fl(transdict)p
903 4716 V 831 w Fm(fg)p 2253 4716 V 682 w Fn(k)o(e)o(yw)o(ord)g(ar)o
(guments)f(for)h(connection)f(initialization)257 4785
y Fl(url)p 903 4815 V 1122 w Fn(n/a)p 2253 4815 V 673
w(URL)j(to)f(post)h(to.)257 4885 y Fl(wsAddressURI)p
903 5015 4 200 v 633 w Fn(None)p 2253 5015 V 633 w(URI,)37
b(identi\002es)e(the)h(WS-Address)g(speci\002cation)f(to)2304
4985 y(use.)26 b(By)20 b(def)o(ault)g(it')-5 b(s)21 b(not)f(used.)257
5084 y Fl(sig_handler)p 903 5114 4 100 v 683 w Fn(None)p
2253 5114 V 633 w(XML)h(Signature)e(handler)m(,)f(must)i(sign)g(and)g
(v)o(erify)-5 b(.)208 5212 y(If)15 b(using)g(SSL,)h(the)f
Fl(cert_file)g Fn(and)g Fl(key_file)f Fn(k)o(e)o(yw)o(ord)g(parameters)
g(may)h(be)g(passed)h(to)f(the)h(transport')-5 b(s)14
b(constructor)208 5312 y(via)20 b(the)g Fl(transdict)p
Fn(.)k(F)o(or)c(details)g(about)f(HTTPSConnection)g(see)h(the)h
(documentation)c(for)i(the)i Fl(httplib)e Fn(module.)p
0 5549 3901 4 v 0 5649 a Fi(40)2399 b(Chapter)23 b(10.)52
b(Dispatching)24 b(and)g(In)n(v)n(oking)p eop end
%%Page: 41 47
TeXDict begin 41 46 bop 0 83 a Fn(Once)28 b(a)g Fl(_Binding)g
Fn(object)f(has)h(been)g(created,)h(the)f(follo)n(wing)e(modi\002ers)i
(are)g(a)n(v)n(ailable.)48 b(All)29 b(of)f(them)f(return)g(the)h
(binding)0 183 y(object,)19 b(so)i(that)f(multiple)g(modi\002ers)f(can)
h(be)g(chained)f(together)-5 b(.)0 330 y Fj(AddHeader)p
Fl(\()p Fk(header)c(,)17 b(value)p Fl(\))208 429 y Fn(Output)i(the)h
(speci\002ed)g Fl(header)g Fn(and)f Fl(value)h Fn(with)h(the)f(HTTP)g
(headers.)0 576 y Fj(SetAuth)p Fl(\()p Fk(style)o(,)f(name)o(,)h
(passwor)m(d)r Fl(\))208 676 y Fn(The)c Fl(style)g Fn(should)f(be)i
(one)f(of)g(the)h(constants)f(from)f(the)i Fl(AUTH)f
Fn(class)h(described)f(abo)o(v)o(e.)22 b(The)16 b(remaining)f
(parameters)g(will)208 775 y(v)n(ary)k(depending)e(on)j(the)g
Fl(style)p Fn(.)25 b(Currently)19 b(only)g(basic)i(authentication)d
(data)i(of)g(name)f(and)h(passw)o(ord)f(are)i(supported.)0
922 y Fj(SetNS)p Fl(\()p Fk(uri)p Fl(\))208 1022 y Fn(Set)f(the)h(def)o
(ault)e(namespace)g(for)h(the)g(request)f(to)i(the)f(speci\002ed)g
Fl(uri)p Fn(.)0 1169 y Fj(SetURL)p Fl(\()p Fk(url)p Fl(\))208
1268 y Fn(Set)g(the)h(URL)f(where)g(the)g(post)g(is)h(made)f(to)g
Fl(url)p Fn(.)0 1415 y Fj(ResetHeaders)p Fl(\(\))208
1515 y Fn(Remo)o(v)o(e)f(an)o(y)g(headers)g(that)i(were)f(added)f(by)g
Fl(AddHeader\(\))p Fn(.)0 1662 y(The)h(follo)n(wing)e(attrib)n(ute)i
(may)g(also)g(be)h(modi\002ed:)0 1808 y Fj(trace)208
1908 y Fn(If)e(this)h(attrib)n(ute)f(is)h(not)f Fl(None)p
Fn(,)g(it)h(should)f(be)g(an)g(object)g(with)h(a)f Fl(write)g
Fn(method,)f(where)h(pack)o(et)g(traces)g(will)i(be)e(recorded.)0
2055 y(Once)j(the)f(necessary)g(parameters)g(ha)n(v)o(e)g(been)g
(speci\002ed)h(\(at)f(a)i(minimum,)d(the)i(URL)g(must)g(ha)n(v)o(e)f
(been)g(gi)n(v)o(en)g(in)h(the)f(constructor)0 2155 y(are)f(through)e
Fl(SetURL)p Fn(\),)h(in)m(v)n(ocations)g(can)h(be)g(made.)0
2301 y Fj(RPC)p Fl(\()p Fk(url,)g(opname)o(,)e(pyobj,)h(r)m
(eplytype=None)p Fc([)p Fk(,)g(**k)o(e)n(ywor)m(ds)12
b Fc(])p Fl(\))208 2401 y Fn(This)24 b(is)h(the)g(highest-le)n(v)o(el)d
(in)m(v)n(ocation)h(method.)36 b(It)24 b(calls)h Fl(Send\(\))f
Fn(to)h(send)f Fl(pyobj)g Fn(to)g(the)h(speci\002ed)f
Fl(url)g Fn(to)h(perform)208 2501 y(the)20 b Fl(opname)f
Fn(operation,)f(and)i(calls)h Fl(Receive\(\))e Fn(e)o(xpecting)f(to)j
(get)f(a)h(reply)e(of)h(the)g(speci\002ed)g Fl(replytype)p
Fn(.)208 2634 y(This)28 b(method)e(will)j(raise)f(a)h
Fl(TypeError)d Fn(if)j(the)f(response)f(does)g(not)h(appear)f(to)h(be)g
(a)g(SO)m(AP)h(message,)g(or)f(if)g(is)h(v)n(alid)208
2733 y(SO)m(AP)21 b(b)n(ut)f(contains)f(a)i(f)o(ault.)0
2880 y Fj(Send)p Fl(\()p Fk(url,)e(opname)o(,)g(pyboj)p
Fc([)p Fk(,)g(**k)o(e)n(ywor)m(ds)12 b Fc(])p Fl(\))208
2980 y Fn(This)21 b(sends)g(the)h(speci\002ed)f Fl(pyobj)g
Fn(to)g(the)g(speci\002ed)g Fl(url)p Fn(,)h(in)m(v)n(oking)d(the)i
Fl(opname)g Fn(method.)27 b(The)21 b Fl(url)g Fn(can)g(be)g
Fl(None)g Fn(if)208 3079 y(it)f(w)o(as)h(speci\002ed)f(in)g(the)g
Fl(Binding)f Fn(constructor)f(or)i(if)g Fl(SetURL)f Fn(has)i(been)e
(called.)25 b(See)20 b(belo)n(w)f(for)h(a)g(shortcut)f(v)o(ersion)g(of)
208 3179 y(this)h(method.)208 3312 y(The)f(follo)n(wing)g(k)o(e)o(yw)o
(ord)f(ar)o(guments)g(may)i(be)g(used:)257 3523 y Fo(K)n(eyw)o(ord)p
1254 3553 4 100 v 1080 w(Default)p 2331 3553 V 456 w(Description)p
208 3556 3886 4 v 257 3626 a Fl(auth_header)p 1254 3755
4 200 v 888 w(None)p 2331 3755 V 488 w Fn(String)e(\(containing)f
(presumably)g(serialized)h(XML\))h(to)2383 3725 y(output)g(as)i(an)f
(authentication)e(header)-5 b(.)257 3825 y(SO)m(AP)21
b Fl(Envelope)f(nsdict)p 1254 3954 V 537 w({})p 2331
3954 V 539 w Fn(Namespace)57 b(dictionary)f(to)h(send)h(in)f(the)h(SO)m
(AP)2383 3924 y Fl(Envelope)257 4024 y(requesttypecode)p
1254 4054 4 100 v 737 w Fn(n/a)p 2331 4054 V 537 w(T)-7
b(ypecode)18 b(specifying)h(ho)n(w)h(to)g(serialize)g(the)h(data.)257
4124 y Fl(soapaction)p 1254 4154 V 548 w Fn(Obtained)e(from)g(the)i
Fl(Binding)p 2331 4154 V 98 w Fn(V)-9 b(alue)20 b(for)f(the)i
Fl(SOAPAction)d Fn(HTTP)j(header)-5 b(.)0 4266 y(Methods)19
b(are)h(a)n(v)n(ailable)g(to)h(determine)d(the)i(type)g(of)g(response)f
(that)i(came)f(back:)0 4413 y Fj(IsSOAP)p Fl(\(\))208
4512 y Fn(Returns)g(true)h(if)g(the)g(message)g(appears)f(to)h(be)g(a)g
(SO)m(AP)h(message.)27 b(\(Some)20 b(serv)o(ers)g(return)g(an)h(HTML)f
(page)h(under)e(certain)208 4612 y(error)g(conditions.\))0
4759 y Fj(IsAFault)p Fl(\(\))208 4858 y Fn(Returns)h(true)f(if)i(the)f
(message)g(is)h(a)g(SO)m(AP)g(f)o(ault.)0 5005 y(Ha)n(ving)h
(determined)e(the)j(type)f(of)g(the)g(message)h(\(or)m(,)f(more)f(lik)o
(ely)-5 b(,)22 b(assuming)g(it)h(w)o(as)h(good)d(and)h(catching)f(an)h
(e)o(xception)f(if)h(not\),)0 5105 y(the)17 b(follo)n(wing)e(methods)h
(are)h(a)n(v)n(ailable)f(to)h(actually)f(parse)h(the)f(data.)24
b(The)o(y)16 b(will)h(continue)f(to)h(return)e(the)i(same)g(v)n(alue)f
(until)h(another)0 5205 y(message)j(is)h(sent.)0 5351
y Fj(ReceiveRaw)p Fl(\(\))p 0 5549 3901 4 v 0 5649 a
Fi(10.2.)52 b(The)23 b Fl(client)f Fi(module)j(\227)e(sending)h(SO)n
(AP)g(messages)1737 b(41)p eop end
%%Page: 42 48
TeXDict begin 42 47 bop 208 83 a Fn(Returns)20 b(the)g(unparsed)e
(message)i(body)-5 b(.)0 230 y Fj(ReceiveSoap)p Fl(\(\))208
330 y Fn(Returns)24 b(a)i Fl(ParsedSOAP)d Fn(object)i(containing)e(the)
i(parsed)f(message.)39 b(Raises)26 b(a)f Fl(TypeError)f
Fn(if)h(the)g(message)g(w)o(asn')o(t)208 429 y(SO)m(AP)-9
b(.)0 576 y Fj(ReceiveFault)p Fl(\(\))208 676 y Fn(Returns)28
b(a)g Fl(Fault)g Fn(object)g(containing)f(the)h(SO)m(AP)h(f)o(ault)f
(message.)49 b(Raises)30 b(a)f Fl(TypeError)e Fn(if)h(the)h(message)f
(did)g(not)208 775 y(contain)19 b(a)h(f)o(ault.)0 922
y Fj(Receive)p Fl(\()p Fk(r)m(eplytype=None)p Fl(\))208
1022 y Fn(P)o(arses)29 b(a)g(SO)m(AP)h(message.)50 b(The)28
b Fl(replytype)g Fn(speci\002es)h(ho)n(w)f(to)h(parse)g(the)g(data.)50
b(If)29 b(it)g(s)h Fl(None)p Fn(,)g(dynamic)e(parsing)208
1121 y(will)c(be)g(used,)g(usually)f(resulting)f(in)i(a)g(Python)f
(list.)36 b(If)24 b Fl(replytype)e Fn(is)j(a)f(Python)e(class,)k(then)d
(the)h(class')-5 b(s)24 b Fl(typecode)208 1221 y Fn(attrib)n(ute)19
b(will)i(be)f(used,)g(otherwise)g Fl(replytype)f Fn(is)i(tak)o(en)f(to)
g(be)g(the)g(typecode)f(to)h(use)h(for)e(parsing)g(the)h(data.)0
1368 y(Once)f(a)g(reply)g(has)g(been)f(parsed)h(\(or)f(its)i(type)f(e)o
(xamined\),)e(the)i(follo)n(wing)f(read-only)e(attrib)n(utes)j(are)g(a)
n(v)n(ailable.)25 b(Their)18 b(v)n(alues)h(will)0 1468
y(remain)g(unchanged)f(until)i(another)e(reply)i(is)h(parsed.)0
1614 y Fj(reply_code)208 1714 y Fn(The)e(HTTP)i(reply)e(code,)g(a)i
(number)-5 b(.)0 1861 y Fj(reply_headers)208 1961 y Fn(The)19
b(HTTP)i(headers,)e(as)i(a)f Fl(mimetools)f Fn(object.)0
2107 y Fj(reply_msg)208 2207 y Fn(A)h(te)o(xt)g(string)g(containing)e
(the)j(HTTP)f(reply)f(te)o(xt.)0 2492 y Ff(10.2.2)101
b(Binding)0 2695 y Fn(If)24 b(an)h(attrib)n(ute)f(is)h(fetched)e(other)
h(than)g(one)g(of)g(those)g(described)g(in)g Fl(_Binding)p
Fn(,)h(it)g(is)g(tak)o(en)f(to)h(be)f(the)h Fl(opname)e
Fn(of)i(a)f(remote)0 2794 y(procedure,)k(and)f(a)i(callable)f(object)g
(is)h(returned.)47 b(This)29 b(object)f(dynamically)e(parses)i(its)h
(ar)o(guments,)f(recei)n(v)o(es)g(the)g(reply)-5 b(,)29
b(and)0 2894 y(parses)20 b(that.)0 3041 y Fo(class)h
Fj(Binding)p Fl(\()p Fc([)p Fk(**k)o(e)n(ywor)m(ds)12
b Fc(])p Fl(\))208 3141 y Fn(F)o(or)19 b(other)h(k)o(e)o(yw)o(ord)e(ar)
o(guments)g(see)j Fl(_Binding)p Fn(.)719 3256 y Fo(K)n(eyw)o(ord)p
1315 3286 4 100 v 321 w(Default)p 1677 3286 V 99 w(Description)p
669 3289 2771 4 v 719 3359 a Fl(typesmodule)p 1315 3389
4 100 v 129 w(None)p 1677 3389 V 131 w Fn(See)f(e)o(xplanation)e(in)i
(Dispatching)0 3500 y Fj(opname)p Fl(\()p Fk(*ar)m(gs)p
Fl(\))208 3599 y Fn(Using)g(this)g(shortcut)g(requires)f(that)h(the)g
Fk(url)h Fn(attrib)n(ute)f(is)h(set,)g(either)e(throught)g(the)h
(constructor)e(or)i Fl(SetURL\(\))p Fn(.)0 3884 y Ff(10.2.3)101
b(NamedP)l(ar)o(amBinding)0 4087 y Fn(If)24 b(an)h(attrib)n(ute)f(is)h
(fetched)e(other)h(than)g(one)g(of)g(those)g(described)g(in)g
Fl(_Binding)p Fn(,)h(it)g(is)g(tak)o(en)f(to)h(be)f(the)h
Fl(opname)e Fn(of)i(a)f(remote)0 4187 y(procedure,)k(and)f(a)i
(callable)f(object)g(is)h(returned.)47 b(This)29 b(object)f
(dynamically)e(parses)i(its)h(ar)o(guments,)f(recei)n(v)o(es)g(the)g
(reply)-5 b(,)29 b(and)0 4286 y(parses)20 b(that.)0 4433
y Fo(class)h Fj(NamedParamBinding)p Fl(\()p Fc([)p Fk(**k)o(e)n(ywor)m
(ds)12 b Fc(])p Fl(\))208 4533 y Fn(F)o(or)19 b(other)h(k)o(e)o(yw)o
(ord)e(ar)o(guments)g(see)j Fl(_Binding)p Fn(.)719 4648
y Fo(K)n(eyw)o(ord)p 1315 4678 V 321 w(Default)p 1677
4678 V 99 w(Description)p 669 4681 2771 4 v 719 4751
a Fl(typesmodule)p 1315 4781 4 100 v 129 w(None)p 1677
4781 V 131 w Fn(See)f(e)o(xplanation)e(in)i(Dispatching)0
4893 y Fj(opname)p Fl(\()p Fk(**kwar)m(gs)p Fl(\))208
4993 y Fn(Using)g(this)g(shortcut)g(requires)f(that)h(the)g
Fk(url)h Fn(attrib)n(ute)f(is)h(set,)g(either)e(throught)g(the)h
(constructor)e(or)i Fl(SetURL\(\))p Fn(.)p 0 5549 3901
4 v 0 5649 a Fi(42)2399 b(Chapter)23 b(10.)52 b(Dispatching)24
b(and)g(In)n(v)n(oking)p eop end
%%Page: 43 49
TeXDict begin 43 48 bop 0 83 3901 9 v 3503 230 a Fi(CHAPTER)3422
427 y Fh(ELEVEN)p 0 515 V 2778 978 a Ft(Bib)l(liog)n(r)n(aph)-6
b(y)p 0 5549 3901 4 v 3808 5649 a Fi(43)p eop end
%%Page: 44 50
TeXDict begin 44 49 bop 0 5549 3901 4 v 0 5649 a Fi(44)p
eop end
%%Page: 45 51
TeXDict begin 45 50 bop 2362 794 a Ft(BIBLIOGRAPHY)42
1605 y Fn([1])40 b(This)20 b(is)h(the)g(\002rst)f(item)h(in)f(the)g
(Bibliography)-5 b(.)42 1772 y([2])40 b(This)20 b(is)h(the)g(second)e
(item)h(in)h(the)f(Bibliography)-5 b(.)p 0 5549 3901
4 v 3808 5649 a Fi(45)p eop end
%%Page: 46 52
TeXDict begin 46 51 bop 0 5549 3901 4 v 0 5649 a Fi(46)p
eop end
%%Page: 47 53
TeXDict begin 47 52 bop 0 83 3901 9 v 3480 230 a Fi(APPENDIX)3814
427 y Fh(A)p 0 515 V 2402 978 a Ft(CGI)57 b(Scr)s(ipt)h(Arr)n(a)-6
b(y)0 1506 y Fg(A.1)120 b(Intro)0 1739 y Fn(This)19 b(is)h(an)e(e)o
(xample)g(of)g(a)h(simple)g(web)g(service)f(CGI)h(Script.)25
b(The)18 b(service)h(returns)e(and)i(e)o(xpects)f(SO)m(AP)h(Arrays)g
(\(p)o(ython)d Fl(list)p Fn(\).)0 1839 y(A)21 b(sample)f(soap)g(trace)g
(is)h(pro)o(vided)c(belo)n(w)-5 b(.)24 b(In)c(this)h(e)o(xample)e(the)h
(CGI)h(script)f(is)h(dispatched)e(as)i(a)f Fk(rpc)h Fn(service.)0
2124 y Ff(A.1.1)100 b(r)s(pc)28 b(wr)o(apper)0 2327 y
Fn(The)f(wrapper)e(element)h(of)h(the)g(request)f(is)i(the)f(dispatch)g
(k)o(e)o(y)f(to)h(the)g(callback)f(function,)h(the)g(child)f(elements)h
(are)g(passes)g(as)h(a)0 2426 y Fl(list)e Fn(or)f Fl(dict)h
Fn(of)g(v)n(alues)f(to)h(the)g(callback)f(function.)40
b(The)26 b(callback)f(function)f(is)j(e)o(xpected)d(to)i(return)f(a)h
Fl(list)g Fn(or)f Fl(dict)h Fn(of)0 2526 y(v)n(alues,)20
b(the)g(response)f(wrapper)g(is)i(by)f(def)o(ault)f(set)i(to)f(the)h
(request)e(wrapper)g(name)g(appended)f Fk(Response)p
Fn(.)0 2853 y Fg(A.2)120 b(CGI)34 b(Scr)r(ipt)0 3178
y Fe(#!/usr/local/bin/python2.4)0 3269 y(#)45 b(SOAP)f(Array)0
3451 y(def)g(hello\(\):)179 3543 y(return)g(["Hello,)g(world"])0
3725 y(def)g(echo\()404 3738 y(*)449 3725 y(args\):)179
3817 y(return)g(args)0 3999 y(def)g(sum\()359 4012 y(*)404
3999 y(args\):)179 4091 y(sum)h(=)f(0)179 4182 y(for)h(i)f(in)h(args:)f
(sum)g(+=)h(i)179 4273 y(return)f([sum])0 4456 y(def)g(average\()539
4469 y(*)584 4456 y(args\):)179 4547 y(return)g([sum\()718
4560 y(*)763 4547 y(args\))f(/)i(len\(args\)])0 4730
y(from)f(ZSI)g(import)g(dispatch)0 4821 y(dispatch.AsCGI\(rpc=True\))p
0 5549 3901 4 v 3808 5649 a Fi(47)p eop end
%%Page: 48 54
TeXDict begin 48 53 bop 0 86 a Fg(A.3)120 b(client)33
b(test)h(scr)r(ipt)0 410 y Fe(#!/usr/bin/env)42 b(python)0
502 y(#)j(client.py)0 593 y(import)f(sys)0 684 y(from)g(ZSI.client)f
(import)h(Binding)0 776 y(b)h(=)f
(Binding\(url='http://127.0.0.1/cgi-bin/sim)o(ple',)38
b(tracefile=sys.stdout\))0 867 y(print)44 b(b.hello\(\))0
958 y(try:)179 1050 y(print)g(b.hello\(1\))0 1141 y(except)g
(Exception,)f(ex:)179 1232 y(print)h("Fault:)g(",)g(ex)0
1415 y(print)g(b.echo\("whatever",)e("hi",)i(1,)g(2\))0
1506 y(print)g(b.sum\()539 1519 y(*)584 1506 y([2)674
1519 y(*)719 1506 y(i)f(for)h(i)h(in)f(range\(5\)]\))0
1598 y(print)g(b.average\()719 1611 y(*)764 1598 y([2)854
1611 y(*)899 1598 y(i)e(for)j(i)f(in)h(range\(5\)]\))0
2046 y Fg(A.4)120 b(SO)n(AP)32 b(T)-14 b(r)o(ace)0 2296
y Ff(A.4.1)100 b(hello)0 2590 y Fe($)45 b(./client.py)0
2681 y(Hello:)89 b(_________________________________)39
b(Wed)44 b(Oct)89 b(4)45 b(17:36:33)f(2006)g(REQUEST:)0
2773 y(<SOAP-ENV:Envelope)e(xmlns:SOAP-ENC="http://schemas.xmlsoap)o
(.org/s)o(oap/en)o(coding)o(/")0 2864 y
(xmlns:SOAP-ENV="http://schemas.xmlsoap.)o(org/so)o(ap/env)o(elope/)o
(")0 2955 y(xmlns:ZSI="http://www.zolera.com/schema)o(s/ZSI/)o(")0
3047 y(xmlns:xsd="http://www.w3.org/2001/XMLSc)o(hema")0
3138 y(xmlns:xsi="http://www.w3.org/2001/XMLSc)o(hema-i)o(nstanc)o(e")0
3229 y(SOAP-ENV:encodingStyle="http://schemas.)o(xmlsoa)o(p.org/)o
(soap/e)o(ncodin)o(g/">)0 3321 y(<SOAP-ENV:Header></SOAP-ENV:Header>)0
3412 y(<SOAP-ENV:Body>)0 3503 y(<hello)i
(SOAP-ENC:arrayType="xsd:anyType[0]"></)o(hello>)0 3595
y(</SOAP-ENV:Body>)0 3686 y(</SOAP-ENV:Envelope>)0 3869
y(_________________________________)39 b(Wed)45 b(Oct)89
b(4)44 b(17:36:34)g(2006)g(RESPONSE:)0 3960 y(200)0 4143
y(<SOAP-ENV:Envelope)e(xmlns:SOAP-ENC="http://schemas.xmlsoap)o(.org/s)
o(oap/en)o(coding)o(/")0 4234 y
(xmlns:SOAP-ENV="http://schemas.xmlsoap.)o(org/so)o(ap/env)o(elope/)o
(")0 4325 y(xmlns:ZSI="http://www.zolera.com/schema)o(s/ZSI/)o(")0
4417 y(xmlns:xsd="http://www.w3.org/2001/XMLSc)o(hema")0
4508 y(xmlns:xsi="http://www.w3.org/2001/XMLSc)o(hema-i)o(nstanc)o(e">)
0 4599 y(<SOAP-ENV:Header></SOAP-ENV:Header>)0 4691 y(<SOAP-ENV:Body>)0
4782 y(<helloResponse)g(SOAP-ENC:arrayType="xsd:anyType[1]">)0
4873 y(<element)h(id="o671b0")g(xsi:type="xsd:string">Hello,)e
(world</element>)0 4965 y(</helloResponse>)0 5056 y(</SOAP-ENV:Body>)0
5147 y(</SOAP-ENV:Envelope>)0 5239 y([u'Hello,)i(world'])p
0 5549 3901 4 v 0 5649 a Fi(48)2712 b(Appendix)24 b(A.)47
b(CGI)22 b(Scr)q(ipt)i(Arr)o(a)n(y)p eop end
%%Page: 49 55
TeXDict begin 49 54 bop 0 83 a Ff(A.4.2)100 b(hello)29
b(f)m(ault)0 377 y Fe(_________________________________)39
b(Wed)45 b(Oct)89 b(4)44 b(17:36:34)g(2006)g(REQUEST:)0
469 y(<SOAP-ENV:Envelope)e(xmlns:SOAP-ENC="http://schemas.xmlsoap)o
(.org/s)o(oap/en)o(coding)o(/")0 560 y
(xmlns:SOAP-ENV="http://schemas.xmlsoap.)o(org/so)o(ap/env)o(elope/)o
(")0 651 y(xmlns:ZSI="http://www.zolera.com/schema)o(s/ZSI/)o(")0
743 y(xmlns:xsd="http://www.w3.org/2001/XMLSc)o(hema")0
834 y(xmlns:xsi="http://www.w3.org/2001/XMLSc)o(hema-i)o(nstanc)o(e")0
925 y(SOAP-ENV:encodingStyle="http://schemas.)o(xmlsoa)o(p.org/)o
(soap/e)o(ncodin)o(g/">)0 1017 y(<SOAP-ENV:Header></SOAP-ENV:Header>)0
1108 y(<SOAP-ENV:Body>)0 1199 y(<hello)i
(SOAP-ENC:arrayType="xsd:anyType[1]">)0 1290 y(<element)f
(id="o1803988")g(xsi:type="xsd:int">1</element>)0 1382
y(</hello>)0 1473 y(</SOAP-ENV:Body>)0 1564 y(</SOAP-ENV:Envelope>)0
1656 y(_________________________________)c(Wed)45 b(Oct)89
b(4)44 b(17:36:35)g(2006)g(RESPONSE:)0 1747 y(500)0 1930
y(<SOAP-ENV:Envelope)e(xmlns:SOAP-ENC="http://schemas.xmlsoap)o(.org/s)
o(oap/en)o(coding)o(/")0 2021 y
(xmlns:SOAP-ENV="http://schemas.xmlsoap.)o(org/so)o(ap/env)o(elope/)o
(")0 2112 y(xmlns:ZSI="http://www.zolera.com/schema)o(s/ZSI/)o(")0
2204 y(xmlns:xsd="http://www.w3.org/2001/XMLSc)o(hema")0
2295 y(xmlns:xsi="http://www.w3.org/2001/XMLSc)o(hema-i)o(nstanc)o(e">)
0 2386 y(<SOAP-ENV:Header></SOAP-ENV:Header>)0 2478 y(<SOAP-ENV:Body>)0
2569 y(<SOAP-ENV:Fault>)0 2660 y
(<faultcode>SOAP-ENV:Server</faultcode>)0 2752 y
(<faultstring>Processing)f(Failure</faultstring>)0 2843
y(<detail>)0 2934 y(<ZSI:FaultDetail>)0 3026 y
(<ZSI:string>exceptions:TypeError)e(hello\(\))44 b(takes)g(no)h
(arguments)e(\(1)h(given\)</ZSI:string>)0 3117 y
(<ZSI:trace>build/bdist.darwin-8.8.0-Pow)o(er_Mac)o(intosh)o(/egg/Z)o
(SI/dis)o(patch.)o(py:86:)o(_Dispa)o(tch</Z)o(SI:tra)o(ce>)0
3208 y(</ZSI:FaultDetail>)0 3300 y(</detail>)0 3391 y
(</SOAP-ENV:Fault>)0 3482 y(</SOAP-ENV:Body>)0 3574 y
(</SOAP-ENV:Envelope>)0 3756 y(Fault:)89 b(Processing)43
b(Failure)0 3848 y(exceptions:TypeError)0 3939 y(hello\(\))h(takes)g
(no)g(arguments)f(\(1)i(given\))0 4030 y([trace:)f
(build/bdist.darwin-8.8.0-Power_Macint)o(osh/eg)o(g/ZSI/)o(dispat)o
(ch.py:)o(86:_Di)o(spatch)o(])p 0 5549 3901 4 v 0 5649
a Fi(A.4.)52 b(SO)n(AP)24 b(T)-10 b(r)o(ace)3155 b(49)p
eop end
%%Page: 50 56
TeXDict begin 50 55 bop 0 83 a Ff(A.4.3)100 b(echo)0
377 y Fe(_________________________________)39 b(Wed)45
b(Oct)89 b(4)44 b(17:36:35)g(2006)g(REQUEST:)0 469 y
(<SOAP-ENV:Envelope)e(xmlns:SOAP-ENC="http://schemas.xmlsoap)o(.org/s)o
(oap/en)o(coding)o(/")0 560 y(xmlns:SOAP-ENV="http://schemas.xmlsoap.)o
(org/so)o(ap/env)o(elope/)o(")0 651 y
(xmlns:ZSI="http://www.zolera.com/schema)o(s/ZSI/)o(")0
743 y(xmlns:xsd="http://www.w3.org/2001/XMLSc)o(hema")0
834 y(xmlns:xsi="http://www.w3.org/2001/XMLSc)o(hema-i)o(nstanc)o(e")0
925 y(SOAP-ENV:encodingStyle="http://schemas.)o(xmlsoa)o(p.org/)o
(soap/e)o(ncodin)o(g/">)0 1017 y(<SOAP-ENV:Header></SOAP-ENV:Header>)0
1108 y(<SOAP-ENV:Body>)0 1199 y(<echo)i
(SOAP-ENC:arrayType="xsd:anyType[4]">)0 1290 y(<element)f(id="o644c0")g
(xsi:type="xsd:string">whatever</element>)0 1382 y(<element)g
(id="o644e0")g(xsi:type="xsd:string">hi</element>)0 1473
y(<element)g(id="o1803988")g(xsi:type="xsd:int">1</element>)0
1564 y(<element)g(id="o180397c")g(xsi:type="xsd:int">2</element>)0
1656 y(</echo>)0 1747 y(</SOAP-ENV:Body>)0 1838 y(</SOAP-ENV:Envelope>)
0 1930 y(_________________________________)c(Wed)45 b(Oct)89
b(4)44 b(17:36:36)g(2006)g(RESPONSE:)0 2021 y(200)0 2204
y(<SOAP-ENV:Envelope)e(xmlns:SOAP-ENC="http://schemas.xmlsoap)o(.org/s)
o(oap/en)o(coding)o(/")0 2295 y
(xmlns:SOAP-ENV="http://schemas.xmlsoap.)o(org/so)o(ap/env)o(elope/)o
(")0 2386 y(xmlns:ZSI="http://www.zolera.com/schema)o(s/ZSI/)o(")0
2478 y(xmlns:xsd="http://www.w3.org/2001/XMLSc)o(hema")0
2569 y(xmlns:xsi="http://www.w3.org/2001/XMLSc)o(hema-i)o(nstanc)o(e">)
0 2660 y(<SOAP-ENV:Header></SOAP-ENV:Header>)0 2752 y(<SOAP-ENV:Body>)0
2843 y(<echoResponse)h(SOAP-ENC:arrayType="xsd:anyType[4]">)0
2934 y(<element)g(id="o4f4290")g
(xsi:type="xsd:string">whatever</element>)0 3026 y(<element)g
(id="o4f4338")g(xsi:type="xsd:string">hi</element>)0
3117 y(<element)g(id="o1803988")g(xsi:type="xsd:int">1</element>)0
3208 y(<element)g(id="o180397c")g(xsi:type="xsd:int">2</element>)0
3300 y(</echoResponse>)0 3391 y(</SOAP-ENV:Body>)0 3482
y(</SOAP-ENV:Envelope>)0 3665 y([u'whatever',)g(u'hi',)g(1,)i(2])p
0 5549 3901 4 v 0 5649 a Fi(50)2712 b(Appendix)24 b(A.)47
b(CGI)22 b(Scr)q(ipt)i(Arr)o(a)n(y)p eop end
%%Page: 51 57
TeXDict begin 51 56 bop 0 83 a Ff(A.4.4)100 b(sum)0 377
y Fe(_________________________________)39 b(Wed)45 b(Oct)89
b(4)44 b(17:36:36)g(2006)g(REQUEST:)0 469 y(<SOAP-ENV:Envelope)e
(xmlns:SOAP-ENC="http://schemas.xmlsoap)o(.org/s)o(oap/en)o(coding)o
(/")0 560 y(xmlns:SOAP-ENV="http://schemas.xmlsoap.)o(org/so)o(ap/env)o
(elope/)o(")0 651 y(xmlns:ZSI="http://www.zolera.com/schema)o(s/ZSI/)o
(")0 743 y(xmlns:xsd="http://www.w3.org/2001/XMLSc)o(hema")0
834 y(xmlns:xsi="http://www.w3.org/2001/XMLSc)o(hema-i)o(nstanc)o(e")0
925 y(SOAP-ENV:encodingStyle="http://schemas.)o(xmlsoa)o(p.org/)o
(soap/e)o(ncodin)o(g/">)0 1017 y(<SOAP-ENV:Header></SOAP-ENV:Header>)0
1108 y(<SOAP-ENV:Body>)0 1199 y(<sum)i
(SOAP-ENC:arrayType="xsd:anyType[5]">)0 1290 y(<element)f
(id="o1803994")g(xsi:type="xsd:int">0</element>)0 1382
y(<element)g(id="o180397c")g(xsi:type="xsd:int">2</element>)0
1473 y(<element)g(id="o1803964")g(xsi:type="xsd:int">4</element>)0
1564 y(<element)g(id="o180394c")g(xsi:type="xsd:int">6</element>)0
1656 y(<element)g(id="o1803934")g(xsi:type="xsd:int">8</element>)0
1747 y(</sum>)0 1838 y(</SOAP-ENV:Body>)0 1930 y(</SOAP-ENV:Envelope>)0
2021 y(_________________________________)c(Wed)45 b(Oct)89
b(4)44 b(17:36:37)g(2006)g(RESPONSE:)0 2112 y(200)0 2295
y(<SOAP-ENV:Envelope)e(xmlns:SOAP-ENC="http://schemas.xmlsoap)o(.org/s)
o(oap/en)o(coding)o(/")0 2386 y
(xmlns:SOAP-ENV="http://schemas.xmlsoap.)o(org/so)o(ap/env)o(elope/)o
(")0 2478 y(xmlns:ZSI="http://www.zolera.com/schema)o(s/ZSI/)o(")0
2569 y(xmlns:xsd="http://www.w3.org/2001/XMLSc)o(hema")0
2660 y(xmlns:xsi="http://www.w3.org/2001/XMLSc)o(hema-i)o(nstanc)o(e">)
0 2752 y(<SOAP-ENV:Header></SOAP-ENV:Header>)0 2843 y(<SOAP-ENV:Body>)0
2934 y(<sumResponse)h(SOAP-ENC:arrayType="xsd:anyType[1]">)0
3026 y(<element)g(id="o18038a4")g(xsi:type="xsd:int">20</element>)0
3117 y(</sumResponse>)0 3208 y(</SOAP-ENV:Body>)0 3300
y(</SOAP-ENV:Envelope>)0 3391 y([20])p 0 5549 3901 4
v 0 5649 a Fi(A.4.)52 b(SO)n(AP)24 b(T)-10 b(r)o(ace)3155
b(51)p eop end
%%Page: 52 58
TeXDict begin 52 57 bop 0 83 a Ff(A.4.5)100 b(a)n(v)n(er)o(age)0
377 y Fe(_________________________________)39 b(Wed)45
b(Oct)89 b(4)44 b(17:36:37)g(2006)g(REQUEST:)0 469 y
(<SOAP-ENV:Envelope)e(xmlns:SOAP-ENC="http://schemas.xmlsoap)o(.org/s)o
(oap/en)o(coding)o(/")0 560 y(xmlns:SOAP-ENV="http://schemas.xmlsoap.)o
(org/so)o(ap/env)o(elope/)o(")0 651 y
(xmlns:ZSI="http://www.zolera.com/schema)o(s/ZSI/)o(")0
743 y(xmlns:xsd="http://www.w3.org/2001/XMLSc)o(hema")0
834 y(xmlns:xsi="http://www.w3.org/2001/XMLSc)o(hema-i)o(nstanc)o(e")0
925 y(SOAP-ENV:encodingStyle="http://schemas.)o(xmlsoa)o(p.org/)o
(soap/e)o(ncodin)o(g/">)0 1017 y(<SOAP-ENV:Header></SOAP-ENV:Header>)0
1108 y(<SOAP-ENV:Body>)0 1199 y(<average)h
(SOAP-ENC:arrayType="xsd:anyType[5]">)0 1290 y(<element)g
(id="o1803994")g(xsi:type="xsd:int">0</element>)0 1382
y(<element)g(id="o180397c")g(xsi:type="xsd:int">2</element>)0
1473 y(<element)g(id="o1803964")g(xsi:type="xsd:int">4</element>)0
1564 y(<element)g(id="o180394c")g(xsi:type="xsd:int">6</element>)0
1656 y(`<element)g(id="o1803934")g(xsi:type="xsd:int">8</element>)0
1747 y(</average>)0 1838 y(</SOAP-ENV:Body>)0 1930 y
(</SOAP-ENV:Envelope>)0 2021 y(_________________________________)c(Wed)
45 b(Oct)89 b(4)44 b(17:36:38)g(2006)g(RESPONSE:)0 2112
y(200)0 2295 y(<SOAP-ENV:Envelope)e
(xmlns:SOAP-ENC="http://schemas.xmlsoap)o(.org/s)o(oap/en)o(coding)o
(/")0 2386 y(xmlns:SOAP-ENV="http://schemas.xmlsoap.)o(org/so)o(ap/env)
o(elope/)o(")0 2478 y(xmlns:ZSI="http://www.zolera.com/schema)o(s/ZSI/)
o(")0 2569 y(xmlns:xsd="http://www.w3.org/2001/XMLSc)o(hema")0
2660 y(xmlns:xsi="http://www.w3.org/2001/XMLSc)o(hema-i)o(nstanc)o(e">)
0 2752 y(<SOAP-ENV:Header></SOAP-ENV:Header>)0 2843 y(<SOAP-ENV:Body>)0
2934 y(<averageResponse)g(SOAP-ENC:arrayType="xsd:anyType[1]">)0
3026 y(<element)h(id="o1803964")g(xsi:type="xsd:int">4</element>)0
3117 y(</averageResponse>)0 3208 y(</SOAP-ENV:Body>)0
3300 y(</SOAP-ENV:Envelope>)0 3391 y([4])p 0 5549 3901
4 v 0 5649 a Fi(52)2712 b(Appendix)24 b(A.)47 b(CGI)22
b(Scr)q(ipt)i(Arr)o(a)n(y)p eop end
%%Page: 53 59
TeXDict begin 53 58 bop 0 83 3901 9 v 3480 230 a Fi(APPENDIX)3814
427 y Fh(B)p 0 515 V 2344 978 a Ft(CGI)58 b(Scr)s(ipt)f(Str)s(uct)0
1506 y Fg(B)n(.1)120 b(Intro)0 1739 y Fn(This)19 b(is)g(an)g(e)o
(xample)e(of)h(a)h(simple)f(web)h(service)f(CGI)h(Script.)24
b(The)18 b(service)g(returns)g(and)g(e)o(xpects)g(SO)m(AP)h(Structs)g
(\(p)o(ython)d Fl(dict)p Fn(\).)0 1839 y(A)21 b(sample)f(soap)g(trace)g
(is)h(pro)o(vided)c(belo)n(w)-5 b(.)24 b(In)c(this)h(e)o(xample)e(the)h
(CGI)h(script)f(is)h(dispatched)e(as)i(a)f Fk(rpc)h Fn(service.)0
2124 y Ff(B)n(.1.1)100 b(r)s(pc)28 b(wr)o(apper)0 2327
y Fn(The)f(wrapper)e(element)h(of)h(the)g(request)f(is)i(the)f
(dispatch)g(k)o(e)o(y)f(to)h(the)g(callback)f(function,)h(the)g(child)f
(elements)h(are)g(passes)g(as)h(a)0 2426 y Fl(list)e
Fn(or)f Fl(dict)h Fn(of)g(v)n(alues)f(to)h(the)g(callback)f(function.)
40 b(The)26 b(callback)f(function)f(is)j(e)o(xpected)d(to)i(return)f(a)
h Fl(list)g Fn(or)f Fl(dict)h Fn(of)0 2526 y(v)n(alues,)20
b(the)g(response)f(wrapper)g(is)i(by)f(def)o(ault)f(set)i(to)f(the)h
(request)e(wrapper)g(name)g(appended)f Fk(Response)p
Fn(.)0 2853 y Fg(B)n(.2)120 b(CGI)33 b(Scr)r(ipt)0 3178
y Fe(#!/usr/local/bin/python2.4)0 3269 y(#)45 b(SOAP)f(Struct)0
3451 y(def)g(hello\(\):)179 3543 y(return)g({"value":"Hello,)e(world"})
0 3725 y(def)i(echo\()404 3738 y(**)494 3725 y(kw\):)179
3817 y(return)g(kw)0 3999 y(def)g(sum\()359 4012 y(**)449
3999 y(kw\):)179 4091 y(sum)h(=)f(0)179 4182 y(for)h(i)f(in)h
(kw.values\(\):)e(sum)h(+=)g(i)0 4273 y(return)g({"value":sum})0
4456 y(def)g(average\()539 4469 y(**)629 4456 y(kw\):)0
4547 y(d)h(=)f(sum\()359 4560 y(**)449 4547 y(kw\))179
4639 y(return)g(d["value"])f(=)i(d["value"]/len\(kw\))0
4821 y(from)f(ZSI)g(import)g(dispatch)0 4913 y
(dispatch.AsCGI\(rpc=True\))p 0 5549 3901 4 v 3808 5649
a Fi(53)p eop end
%%Page: 54 60
TeXDict begin 54 59 bop 0 86 a Fg(B)n(.3)120 b(client)33
b(test)h(scr)r(ipt)0 502 y Fe(#!/usr/bin/env)42 b(python)0
593 y(import)i(sys,time)0 684 y(from)g(ZSI.client)f(import)h
(NamedParamBinding)e(as)j(NPBinding)0 867 y(b)g(=)f
(NPBinding\(url='http://127.0.0.1/cgi-bin/s)o(oapstr)o(uct',)38
b(tracefile=sys.stdout\))0 958 y(print)44 b("Hello:)g(",)g(b.hello\(\))
0 1050 y(print)g("Echo:)g(",)g(b.echo\(name="josh",)e(year=2006,)h
(pi=3.14,)h(time=time.gmtime\(\)\))0 1141 y(print)g("Sum:)g(",)g
(b.sum\(one=1,)f(two=2,)h(three=3\))0 1232 y(print)g("Average:)f(",)i
(b.average\(one=100,)d(two=200,)h(three=300,)g(four=400\))0
1773 y Fg(B)n(.4)120 b(SO)n(AP)32 b(T)-14 b(r)o(ace)0
2022 y Ff(B)n(.4.1)100 b(hello)p 0 5549 3901 4 v 0 5649
a Fi(54)2691 b(Appendix)24 b(B)n(.)47 b(CGI)22 b(Scr)q(ipt)i(Str)q(uct)
p eop end
%%Page: 55 61
TeXDict begin 55 60 bop 0 83 3901 9 v 3480 230 a Fi(APPENDIX)3814
427 y Fh(C)p 0 515 V 1182 978 a Ft(Complete)58 b(Lo)m(w)f(Le)-6
b(v)h(el)56 b(Example)0 1506 y Fg(C)l(.1)121 b(Intro)0
1739 y Fn(This)20 b(is)h(a)g(complete)e(e)o(xample)g(of)h(using)g(the)g
(lo)n(w)g(le)n(v)o(el)g(soap)g(utilities)h(in)f Fl(ZSI)g
Fn(to)h(implement)d(a)j(web)f(service.)0 2067 y Fg(C)l(.2)121
b(code)0 2316 y Ff(C)m(.2.1)100 b(httpser)s(v)n(er)28
b(scr)q(ipt)0 2519 y Fn(Minimal)20 b(http)g(serv)o(er)f(e)o(xample,)g
(opens)g(up)h(a)g(ne)n(w)g(process)g(to)g(do)g(the)g(SO)m(AP)i
(processing.)236 2757 y Fe(#!/usr/bin/env)43 b(python)236
2849 y(#)i(file:)f(httpserver.py)236 2940 y(import)g(os)236
3031 y(from)g(subprocess)g(import)f(Popen,)h(PIPE)236
3123 y(from)g(BaseHTTPServer)f(import)h(BaseHTTPRequestHandler,)d
(HTTPServer)236 3305 y(class)j
(RequestHandler\(BaseHTTPRequestHandler\):)416 3396 y(def)g
(do_POST\(self\):)595 3488 y(length)g(=)g
(int\(self.headers['content-length']\))595 3579 y(xml_in)g(=)g
(self.rfile.read\(length\))595 3670 y(p)h(=)f
(Popen\(os.path.join\(os.path.curdir,)39 b('player.py'\),)1043
3762 y(shell=True,)k(stdin=PIPE,)g(stdout=PIPE\))595
3944 y(\(stdout,)g(stderr\))h(=)h(p.communicate\(xml_in\))595
4036 y(code)f(=)h(200)595 4127 y(if)f(stdout.find\('Fault'\))e(>=)i(0:)
h(code)f(=)h(500)595 4218 y(self.send_response\(code\))595
4310 y(self.send_header\('Content-type',)39 b('text/xml;)k
(charset="utf-8"'\))595 4401 y(self.send_header\('Content-Length',)c
(str\(len\(stdout\)\)\))595 4492 y(self.end_headers\(\))595
4584 y(self.wfile.write\(stdout\))595 4675 y(self.wfile.flush\(\))236
4858 y(if)45 b(__name__)e(==)i('__main__':)416 4949 y(server)e(=)i
(HTTPServer\(\('localhost',)c(8080\),)j(RequestHandler\))416
5040 y(server.serve_forever\(\))p 0 5549 3901 4 v 3808
5649 a Fi(55)p eop end
%%Page: 56 62
TeXDict begin 56 61 bop 0 83 a Ff(C)m(.2.2)100 b(typecode)29
b(module)0 377 y Fe(#)45 b(file:)f(typecode.py)0 469
y(#)h(CHECK)f(PYTHONPATH:)f(Must)h(be)g(able)g(to)h(import)0
560 y(class)f(Player:)179 651 y(def)h(__init__\(self,)1031
664 y(*)1076 651 y(args\):)359 743 y(if)f(not)g(len\(args\):)g(return)
359 834 y(self.Name)f(=)i(args[0])359 925 y(self.Scores)e(=)h(args[1:])
0 1017 y(Player.typecode)e(=)j(TC.Struct\(Player,)d([)1435
1108 y(TC.String\('Name'\),)1435 1199 y(TC.Array\('Integer',)f
(TC.Integer\(\),)i('Scores',)g(undeclared=True\),)1435
1290 y(],)h('GetAverage'\))0 1382 y(class)g(Average:)179
1473 y(def)h(__init__\(self,)d(average=None\):)359 1564
y(self.average)g(=)j(average)0 1656 y(Average.typecode)d(=)j
(TC.Struct\(Average,)d([)1435 1747 y(TC.Integer\('average'\),)1435
1838 y(],)i('GetAverageResponse'\))p 0 5549 3901 4 v
0 5649 a Fi(56)2220 b(Appendix)24 b(C)n(.)46 b(Complete)24
b(Lo)o(w)f(Le)n(v)n(el)g(Example)p eop end
%%Page: 57 63
TeXDict begin 57 62 bop 0 83 a Ff(C)m(.2.3)100 b(pla)m(y)n(er)29
b(scr)q(ipt)0 377 y Fe(#!/usr/bin/env)42 b(python)0 469
y(#)j(file:)f(player.py)0 560 y(from)g(ZSI)g(import)717
573 y(*)0 651 y(import)g(sys)0 743 y(IN,)g(OUT)h(=)f(sys.stdin,)f
(sys.stdout)0 834 y(try:)179 925 y(ps)i(=)f(ParsedSoap\(IN\))0
1017 y(except)g(ParseException,)e(e:)179 1108 y
(OUT.write\(FaultFromZSIException\(e\).AsSOAP)o(\(\)\))179
1199 y(sys.exit\(1\))0 1290 y(except)i(Exception,)f(e:)179
1382 y(#)i(Faulted)f(while)g(processing;)f(we)h(assume)g(it's)g(in)h
(the)f(header.)179 1473 y(OUT.write\(FaultFromException\(e,)c
(1\).AsSOAP\(\)\))179 1564 y(sys.exit\(1\))0 1747 y(#)45
b(We)f(are)g(not)h(prepared)e(to)i(handle)f(any)g(actors)g(or)g
(mustUnderstand)f(elements,)0 1838 y(#)i(so)f(we'll)g(arbitrarily)f
(fault)h(back)g(with)g(the)h(first)f(one)g(we)h(found.)0
1930 y(a)g(=)f(ps.WhatActorsArePresent\(\))0 2021 y(if)g(len\(a\):)179
2112 y(OUT.write\(FaultFromActor\(a[0]\).AsSOAP\(\)\))179
2204 y(sys.exit\(1\))0 2295 y(mu)g(=)h(ps.WhatMustIUnderstand\(\))0
2386 y(if)f(len\(mu\):)179 2478 y(uri,)g(localname)g(=)g(mu[0])179
2569 y(OUT.write\(FaultFromNotUnderstood\(uri,)39 b
(localname\).AsSOAP\(\)\))179 2660 y(sys.exit\(1\))0
2843 y(from)44 b(typecode)g(import)f(Player,)h(Average)0
2934 y(try:)179 3026 y(player)g(=)h(ps.Parse\(Player.typecode\))0
3117 y(except)f(EvaluateException,)e(e:)179 3208 y
(OUT.write\(FaultFromZSIException\(e\).AsSOAP)o(\(\)\))179
3300 y(sys.exit\(1\))0 3482 y(try:)179 3574 y(total)i(=)h(0)179
3665 y(for)g(value)f(in)g(player.Scores:)f(total)h(=)g(total)g(+)h
(value)179 3756 y(result)f(=)h(Average\(total)d(/)j
(len\(player.Scores\)\))179 3848 y(sw)g(=)f(SoapWriter\(\))179
3939 y(sw.serialize\(result,)e(Average.typecode\))179
4030 y(sw.close\(\))179 4122 y(OUT.write\(str\(sw\)\))0
4213 y(except)i(Exception,)f(e:)179 4304 y
(OUT.write\(FaultFromException\(e,)d(0,)k
(sys.exc_info\(\)[2]\).AsSOAP\(\)\))179 4396 y(sys.exit\(1\))p
0 5549 3901 4 v 0 5649 a Fi(C)n(.2.)51 b(code)3427 b(57)p
eop end
%%Page: 58 64
TeXDict begin 58 63 bop 0 83 a Ff(C)m(.2.4)100 b(client)28
b(test)f(scr)q(ipt)0 377 y Fe(#!/usr/bin/env)42 b(python2.4)0
469 y(#file:)i(client.py)0 560 y(from)g(ZSI)g(import)717
573 y(*)0 651 y(from)g(ZSI.wstools.Namespaces)d(import)j(SCHEMA)0
743 y(from)g(typecode)g(import)f(Player,)h(Average)0
925 y(if)g(__name__)g(==)g('__main__':)179 1017 y(import)g(sys)179
1108 y(from)g(ZSI.client)g(import)f(Binding)179 1199
y(b)i(=)g(Binding\(url='http://localhost:8080',)38 b
(tracefile=sys.stdout\))179 1290 y(pyobj)44 b(=)h(b.RPC\(None,)e(None,)
h(Player\("Josh",10,20,30\),)d(replytype=Average\))179
1382 y(print)j(pyobj)179 1473 y(print)g(pyobj.__dict__)p
0 5549 3901 4 v 0 5649 a Fi(58)2220 b(Appendix)24 b(C)n(.)46
b(Complete)24 b(Lo)o(w)f(Le)n(v)n(el)g(Example)p eop
end
%%Page: 59 65
TeXDict begin 59 64 bop 0 88 a Fg(C)l(.3)121 b(SO)n(AP)32
b(T)-14 b(r)o(ace)0 338 y Ff(C)m(.3.1)100 b(GetA)l(v)n(er)o(age)0
632 y Fe($./client.py)0 723 y(_________________________________)39
b(Thu)45 b(Oct)89 b(5)44 b(14:57:39)g(2006)g(REQUEST:)0
814 y(<SOAP-ENV:Envelope)e(xmlns:SOAP-ENC="http://schemas.xmlsoap)o
(.org/s)o(oap/en)o(coding)o(/")0 906 y
(xmlns:SOAP-ENV="http://schemas.xmlsoap.)o(org/so)o(ap/env)o(elope/)o
(")0 997 y(xmlns:ZSI="http://www.zolera.com/schema)o(s/ZSI/)o(")0
1088 y(xmlns:xsd="http://www.w3.org/2001/XMLSc)o(hema")0
1180 y(xmlns:xsi="http://www.w3.org/2001/XMLSc)o(hema-i)o(nstanc)o(e">)
0 1271 y(<SOAP-ENV:Header></SOAP-ENV:Header>)0 1362 y(<SOAP-ENV:Body>)0
1454 y(<GetAverage>)0 1545 y(<Name)i(xsi:type="xsd:string">Josh</Name>)
0 1636 y(<Scores>)0 1728 y(<element>10</element>)0 1819
y(<element>20</element>)0 1910 y(<element>30</element>)0
2002 y(</Scores>)0 2093 y(</GetAverage>)0 2184 y(</SOAP-ENV:Body>)0
2276 y(</SOAP-ENV:Envelope>)0 2367 y(_________________________________)
39 b(Thu)45 b(Oct)89 b(5)44 b(14:57:39)g(2006)g(RESPONSE:)0
2458 y(200)0 2550 y(OK)0 2641 y(-------)0 2732 y(Server:)g
(BaseHTTP/0.3)e(Python/2.5)0 2824 y(Date:)i(Thu,)g(05)h(Oct)f(2006)g
(21:57:39)g(GMT)0 2915 y(Content-type:)f(text/xml;)g(charset="utf-8")0
3006 y(Content-Length:)f(431)0 3189 y(<SOAP-ENV:Envelope)g
(xmlns:SOAP-ENC="http://schemas.xmlsoap)o(.org/s)o(oap/en)o(coding)o
(/")0 3280 y(xmlns:SOAP-ENV="http://schemas.xmlsoap.)o(org/so)o(ap/env)
o(elope/)o(")0 3371 y(xmlns:ZSI="http://www.zolera.com/schema)o(s/ZSI/)
o(")0 3463 y(xmlns:xsd="http://www.w3.org/2001/XMLSc)o(hema")0
3554 y(xmlns:xsi="http://www.w3.org/2001/XMLSc)o(hema-i)o(nstanc)o(e">)
0 3645 y(<SOAP-ENV:Header></SOAP-ENV:Header>)0 3737 y(<SOAP-ENV:Body>)0
3828 y(<GetAverageResponse>)0 3919 y(<average>20</average>)0
4011 y(</GetAverageResponse>)0 4102 y(</SOAP-ENV:Body>)0
4193 y(</SOAP-ENV:Envelope>)0 4376 y(<__main__.Average)g(instance)h(at)
i(0x5f9760>)0 4467 y({'average':)e(20})0 4892 y Ff(C)m(.3.2)100
b(f)m(ault)0 5095 y Fn(Purposely)19 b(send)h(a)g(incorrect)f
Fk(Nae)i Fn(element)e(for)h(the)g Fk(Name)p Fn(.)p 0
5549 3901 4 v 0 5649 a Fi(C)n(.3.)51 b(SO)n(AP)25 b(T)-10
b(r)o(ace)3152 b(59)p eop end
%%Page: 60 66
TeXDict begin 60 65 bop 236 174 a Fe($./client.py)236
266 y(_________________________________)40 b(Thu)k(Oct)89
b(5)45 b(14:33:25)e(2006)h(REQUEST:)236 357 y(<SOAP-ENV:Envelope)e
(xmlns:SOAP-ENC="http://schemas.xmlsoap.)o(org/so)o(ap/enc)o(oding/)o
(")236 448 y(xmlns:SOAP-ENV="http://schemas.xmlsoap.o)o(rg/soa)o
(p/enve)o(lope/")236 540 y(xmlns:ZSI="http://www.zolera.com/schemas)o
(/ZSI/")236 631 y(xmlns:xsd="http://www.w3.org/2001/XMLSch)o(ema")236
722 y(xmlns:xsi="http://www.w3.org/2001/XMLSch)o(ema-in)o(stance)o(">)
236 814 y(<SOAP-ENV:Header></SOAP-ENV:Header>)236 905
y(<SOAP-ENV:Body>)236 996 y(<GetAverage>)236 1088 y(<Nae)i
(xsi:type="xsd:string">Josh</Nae>)236 1179 y(<Scores>)236
1270 y(<element>10</element>)236 1362 y(<element>20</element>)236
1453 y(<element>30</element>)236 1544 y(</Scores>)236
1636 y(</GetAverage>)236 1727 y(</SOAP-ENV:Body>)236
1818 y(</SOAP-ENV:Envelope>)236 2001 y
(_________________________________)c(Thu)k(Oct)89 b(5)45
b(14:33:26)e(2006)h(RESPONSE:)236 2092 y(500)236 2183
y(Internal)g(Server)g(Error)236 2366 y(<SOAP-ENV:Envelope)e
(xmlns:SOAP-ENC="http://schemas.xmlsoap.)o(org/so)o(ap/enc)o(oding/)o
(")236 2457 y(xmlns:SOAP-ENV="http://schemas.xmlsoap.o)o(rg/soa)o
(p/enve)o(lope/")236 2549 y(xmlns:ZSI="http://www.zolera.com/schemas)o
(/ZSI/")236 2640 y(xmlns:xsd="http://www.w3.org/2001/XMLSch)o(ema")236
2731 y(xmlns:xsi="http://www.w3.org/2001/XMLSch)o(ema-in)o(stance)o(">)
236 2823 y(<SOAP-ENV:Header></SOAP-ENV:Header>)236 2914
y(<SOAP-ENV:Body>)236 3005 y(<SOAP-ENV:Fault>)236 3097
y(<faultcode>SOAP-ENV:Client</faultcode>)236 3188 y
(<faultstring>Unparseable)f(message</faultstring>)236
3279 y(<detail><Eoe440>&lt;ZSI:ParseFaultDetail)o(&gt;)236
3371 y(&lt;ZSI:string&gt;Element)g("Name")j(missing)f(from)h
(complexType&lt;/ZSI:string&gt;)236 3462 y
(&lt;ZSI:trace&gt;/SOAP-ENV:Envelope/SOAP)o(-ENV:B)o(ody/Ge)o(tAvera)o
(ge&lt;)o(/ZSI:t)o(race&g)o(t;)236 3553 y
(&lt;/ZSI:ParseFaultDetail&gt;</Eoe440></)o(detail)o(>)236
3645 y(</SOAP-ENV:Fault>)236 3736 y(</SOAP-ENV:Body>)236
3827 y(</SOAP-ENV:Envelope>)236 3919 y(Traceback)g(\(most)g(recent)f
(call)i(last\):)326 4010 y(File)f("./player_client.py",)d(line)k(25,)f
(in)g(?)416 4101 y(pyobj)g(=)g(b.RPC\(None,)f(None,)h
(Player\("Josh",10,20,30\),)d(replytype=Average\))326
4193 y(File)j("/private/var/www/htdocs/guide/client.p)o(y",)39
b(line)44 b(176,)g(in)h(RPC)326 4375 y(File)f
("/private/var/www/htdocs/guide/client.p)o(y",)39 b(line)44
b(420,)g(in)h(Receive)236 4558 y(ZSI.FaultException:)d(Unparseable)h
(message)236 4649 y(<Element)h(Node)g(at)g(5f9f58:)g(Name='Eoe440')f
(with)h(0)g(attributes)g(and)g(1)h(children>)p 0 5549
3901 4 v 0 5649 a Fi(60)2220 b(Appendix)24 b(C)n(.)46
b(Complete)24 b(Lo)o(w)f(Le)n(v)n(el)g(Example)p eop
end
%%Page: 61 67
TeXDict begin 61 66 bop 0 83 3901 9 v 3480 230 a Fi(APPENDIX)3814
427 y Fh(D)p 0 515 V 2453 978 a Ft(Pic)l(kler)57 b(e)-6
b(xample)0 1506 y Fg(D)e(.1)120 b(Intro)0 1739 y Fn(This)20
b(is)h(an)g(e)o(xample)d(of)i(a)h(stateful)f(mod)p 1211
1739 25 4 v 29 w(p)o(ython)e(web)i(service.)0 2067 y
Fg(D)-8 b(.2)120 b(code)0 2316 y Ff(D)-7 b(.2.1)100 b(typecode)29
b(module)0 2519 y Fn(Module)19 b(containing)f(comple)o(x)h(type)g
(typecode.)236 2757 y Fe(#)45 b(Complex)f(type)g(definition)236
2849 y(from)g(ZSI)h(import)954 2862 y(*)236 2940 y(class)f(Person:)326
3031 y(def)g(__init__\(self,)f(name=None,)g(age=0\):)416
3123 y(self.name)g(=)i(name)416 3214 y(self.age)e(=)i(age)236
3396 y(Person.typecode)e(=)h(TC.Struct\(Person,)1492
3488 y([TC.String\('name'\),)1536 3579 y
(TC.InonNegativeInteger\('age'\)],)1492 3670 y
(pname=\('urn:MyApp','Person'\)\))0 4094 y Ff(D)-7 b(.2.2)100
b(pic)n(kler)28 b(scr)q(ipt)0 4297 y Fn(Con\002gure)19
b(appache)g(to)h(use)g(this)h(script)f(with)h(mod)p 1531
4297 V 28 w(p)o(ython)e(PythonHandler)-5 b(.)p 0 5549
3901 4 v 3808 5649 a Fi(61)p eop end
%%Page: 62 68
TeXDict begin 62 67 bop 236 174 a Fe(#)45 b(pickler.py)236
266 y(import)f(pickle,)g(new)236 357 y(from)g(mod_python)g(import)f
(apache)236 448 y(from)h(ZSI)h(import)f(dispatch)236
540 y(import)g(MyComplexTypes)236 722 y(#)h(my)f(web)h(service)e(that)i
(returns)e(a)i(complex)e(structure)236 814 y(def)i
(getPerson\(name=None\):)326 905 y(#fp)f(=)h
(open\('/tmp/\045s.person.pickle'\045Person.na)o(me,)39
b('r'\))326 996 y(fp)44 b(=)h
(open\('/tmp/\045s.person.pickle'\045name,)39 b('r'\))326
1088 y(#return)44 b(pickle.load\(fp\))326 1179 y(p)h(=)f
(pickle.load\(fp\))326 1270 y(print)g("PERSON:)f(",)i(p)326
1362 y(print)f("typecode:)f(",)i(p.typecode)326 1453
y(return)f(p)236 1636 y(#)h(my)f(web)h(service)e(that)i(accepts)e(a)i
(complex)e(structure)236 1727 y(def)i(savePerson\(Person\):)326
1818 y(print)f("PERSON:)f(",)i(Person)326 1910 y(fp)f(=)h
(open\('/tmp/\045s.person.pickle'\045Person.nam)o(e,)39
b('w'\))326 2001 y(pickle.dump\(Person,)j(fp\))326 2092
y(fp.close\(\))326 2183 y(return)i({})236 2366 y(mod)h(=)f
(__import__\('encodings.utf_8',)c(globals\(\),)j(locals\(\),)h(')2837
2379 y(*)2882 2366 y('\))236 2457 y(mod)h(=)f
(__import__\('encodings.utf_16_be',)39 b(globals\(\),)44
b(locals\(\),)f(')3016 2470 y(*)3061 2457 y('\))236 2731
y(handles)h(=)h(new.module\('handles'\))236 2823 y(handles.getPerson)d
(=)j(getPerson)236 2914 y(handles.savePerson)d(=)j(savePerson)236
3005 y(def)g(handler\(req\):)416 3097 y
(dispatch.AsHandler\(modules=\(handles,)o(\),)39 b(request=req,)k
(typesmodule=MyComplexTypes,)d(rpc=True\))416 3188 y(return)j
(apache.OK)0 3703 y Ff(D)-7 b(.2.3)100 b(client:)34 b(in)n(v)n(ok)n(e)
28 b(sa)n(v)n(eP)-5 b(erson)0 3906 y Fi(scr)q(ipt)0 4200
y Fe(import)44 b(sys)0 4291 y(from)g(ZSI.client)f(import)h(Binding)0
4382 y(from)g(MyComplexTypes)f(import)g(Person)0 4565
y(b)i(=)f(Binding\(url='http://localhost/test3/pickl)o(er.py')o(,)39
b(tracefile=sys.stdout\))0 4656 y(person)44 b(=)g
(Person\('christopher',)e(26\))0 4748 y(b.savePerson\(person\))p
0 5549 3901 4 v 0 5649 a Fi(62)2743 b(Appendix)24 b(D)-6
b(.)46 b(pic)n(kler)24 b(e)n(xample)p eop end
%%Page: 63 69
TeXDict begin 63 68 bop 0 83 a Fi(SO)n(AP)24 b(T)-10
b(r)o(ace)0 377 y Fe(_________________________________)39
b(Wed)45 b(Oct)f(11)g(13:10:05)g(2006)g(REQUEST:)0 469
y(<SOAP-ENV:Envelope)e(xmlns:SOAP-ENC="http://schemas.xmlsoap)o(.org/s)
o(oap/en)o(coding)o(/")0 560 y(xmlns:SOAP-ENV="http://schemas.xmlsoap.)
o(org/so)o(ap/env)o(elope/)o(")0 651 y
(xmlns:ZSI="http://www.zolera.com/schema)o(s/ZSI/)o(")0
743 y(xmlns:xsd="http://www.w3.org/2001/XMLSc)o(hema")0
834 y(xmlns:xsi="http://www.w3.org/2001/XMLSc)o(hema-i)o(nstanc)o(e")0
925 y(SOAP-ENV:encodingStyle="http://schemas.)o(xmlsoa)o(p.org/)o
(soap/e)o(ncodin)o(g/">)0 1017 y(<SOAP-ENV:Header></SOAP-ENV:Header>)0
1108 y(<SOAP-ENV:Body>)0 1199 y(<savePerson)h(xmlns:ns1="urn:MyApp">)0
1290 y(<ns1:Person><name)f(xsi:type="xsd:string">christopher</name)o(>)
0 1382 y(<age)i(xsi:type="xsd:nonNegativeInteger">26</ag)o(e>)0
1473 y(</ns1:Person>)0 1564 y(</savePerson>)0 1656 y(</SOAP-ENV:Body>)0
1747 y(</SOAP-ENV:Envelope>)0 1930 y(_________________________________)
39 b(Wed)45 b(Oct)f(11)g(13:10:05)g(2006)g(RESPONSE:)0
2021 y(Server:)g(Apache/2.0.53-dev)e(\(Unix\))h(mod_ruby/1.2.4)g
(Ruby/1.8.2\(2004-12-25\))0 2112 y(mod_python/3.1.4)f(Python/2.4.1)0
2204 y(Transfer-Encoding:)g(chunked)0 2295 y(Content-Type:)h(text/xml)0
2478 y(<SOAP-ENV:Envelope)f(xmlns:SOAP-ENC="http://schemas.xmlsoap)o
(.org/s)o(oap/en)o(coding)o(/")0 2569 y
(xmlns:SOAP-ENV="http://schemas.xmlsoap.)o(org/so)o(ap/env)o(elope/)o
(")0 2660 y(xmlns:ZSI="http://www.zolera.com/schema)o(s/ZSI/)o(")0
2752 y(xmlns:xsd="http://www.w3.org/2001/XMLSc)o(hema")0
2843 y(xmlns:xsi="http://www.w3.org/2001/XMLSc)o(hema-i)o(nstanc)o(e">)
0 2934 y(<SOAP-ENV:Header></SOAP-ENV:Header>)0 3026 y(<SOAP-ENV:Body>)0
3117 y(<savePersonResponse></savePersonRespons)o(e>)0
3208 y(</SOAP-ENV:Body>)0 3300 y(</SOAP-ENV:Envelope>)p
0 5549 3901 4 v 0 5649 a Fi(D)-6 b(.2.)52 b(code)3430
b(63)p eop end
%%Page: 64 70
TeXDict begin 64 69 bop 0 83 a Ff(D)-7 b(.2.4)100 b(client:)34
b(in)n(v)n(ok)n(e)28 b(getP)-5 b(erson)30 b(3)e(diff)m(erent)h(w)o(a)m
(ys)0 286 y Fi(scr)q(ipt)0 580 y Fe(import)44 b(sys)0
671 y(import)g(MyComplexTypes)0 763 y(from)g(ZSI.client)f(import)h
(NamedParamBinding)e(as)j(NPBinding,)e(Binding)0 854
y(from)h(ZSI)g(import)g(TC)0 1037 y(kw)g(=)h
({'url':'http://localhost/test3/pickler.p)o(y',)39 b
('tracefile':sys.stdout})0 1128 y(b)45 b(=)f(NPBinding\()629
1141 y(**)719 1128 y(kw\))0 1219 y(rsp)g(=)h
(b.getPerson\(name='christopher'\))0 1311 y(assert)f(type\(rsp\))f(is)i
(dict,)f('expecting)f(a)h(dict')0 1402 y(assert)g
(rsp['Person']['name'])d(==)k('christopher',)d('wrong)i(person')0
1585 y(b)h(=)f(NPBinding\(typesmodule=MyComplexTypes,)1883
1598 y(**)1973 1585 y(kw\))0 1676 y(rsp)g(=)h
(b.getPerson\(name='christopher'\))0 1767 y(assert)f
(isinstance\(rsp['Person'],)c(MyComplexTypes.Person\),)h(\()179
1859 y('expecting)i(instance)h(of)g(\045s')h
(\045MyComplexTypes.Person\))0 2041 y(b)g(=)f
(Binding\(typesmodule=MyComplexTypes,)1793 2054 y(**)1883
2041 y(kw\))0 2133 y(class)g(Name\(str\):)179 2224 y(typecode)g(=)g
(TC.String\("name"\))0 2407 y(rsp)g(=)h
(b.getPerson\(Name\('christopher'\)\))0 2498 y(assert)f
(isinstance\(rsp['Person'],)c(MyComplexTypes.Person\),)h(\()179
2589 y('expecting)i(instance)h(of)g(\045s')h
(\045MyComplexTypes.Person\))0 3002 y Fi(SO)n(AP)24 b(T)-10
b(r)o(ace)0 3205 y Fn(All)23 b(responses)f(are)g(e)o(xactly)f(the)i
(same,)g(for)e(comparison)g(the)h(three)g(requests)g(are)g(presented)f
(\002rst)i(and)f(only)g(the)g(last)h(response)f(is)0
3304 y(included.)p 0 5549 3901 4 v 0 5649 a Fi(64)2743
b(Appendix)24 b(D)-6 b(.)46 b(pic)n(kler)24 b(e)n(xample)p
eop end
%%Page: 65 71
TeXDict begin 65 70 bop 236 174 a Fe(_________________________________)
40 b(Wed)k(Oct)g(11)h(13:19:00)e(2006)h(REQUEST:)236
266 y(<SOAP-ENV:Envelope)e(xmlns:SOAP-ENC="http://schemas.xmlsoap.)o
(org/so)o(ap/enc)o(oding/)o(")236 357 y
(xmlns:SOAP-ENV="http://schemas.xmlsoap.o)o(rg/soa)o(p/enve)o(lope/")
236 448 y(xmlns:ZSI="http://www.zolera.com/schemas)o(/ZSI/")236
540 y(xmlns:xsd="http://www.w3.org/2001/XMLSch)o(ema")236
631 y(xmlns:xsi="http://www.w3.org/2001/XMLSch)o(ema-in)o(stance)o(")
236 722 y(SOAP-ENV:encodingStyle="http://schemas.x)o(mlsoap)o(.org/s)o
(oap/en)o(coding)o(/">)236 814 y(<SOAP-ENV:Header></SOAP-ENV:Header>)
236 905 y(<SOAP-ENV:Body>)236 996 y(<getPerson>)236 1088
y(<name)i(id="o6c2a0")f(xsi:type="xsd:string">christopher</name>)236
1179 y(</getPerson>)236 1270 y(</SOAP-ENV:Body>)236 1362
y(</SOAP-ENV:Envelope>)236 1557 y(**)371 1544 y(OMIT)h(RESPONSE)998
1557 y(**)236 1727 y(_________________________________)c(Wed)k(Oct)g
(11)h(13:19:00)e(2006)h(REQUEST:)236 1818 y(<SOAP-ENV:Envelope)e
(xmlns:SOAP-ENC="http://schemas.xmlsoap.)o(org/so)o(ap/enc)o(oding/)o
(")236 1910 y(xmlns:SOAP-ENV="http://schemas.xmlsoap.o)o(rg/soa)o
(p/enve)o(lope/")236 2001 y(xmlns:ZSI="http://www.zolera.com/schemas)o
(/ZSI/")236 2092 y(xmlns:xsd="http://www.w3.org/2001/XMLSch)o(ema")236
2183 y(xmlns:xsi="http://www.w3.org/2001/XMLSch)o(ema-in)o(stance)o(")
236 2275 y(SOAP-ENV:encodingStyle="http://schemas.x)o(mlsoap)o(.org/s)o
(oap/en)o(coding)o(/">)236 2366 y(<SOAP-ENV:Header></SOAP-ENV:Header>)
236 2457 y(<SOAP-ENV:Body>)236 2549 y(<getPerson>)236
2640 y(<name)i(id="o6c2a0")f(xsi:type="xsd:string">christopher</name>)
236 2731 y(</getPerson>)236 2823 y(</SOAP-ENV:Body>)236
2914 y(</SOAP-ENV:Envelope>)236 3110 y(**)371 3097 y(OMIT)h(RESPONSE)
998 3110 y(**)236 3279 y(_________________________________)c(Wed)k(Oct)
g(11)h(13:19:00)e(2006)h(REQUEST:)236 3371 y(<SOAP-ENV:Envelope)e
(xmlns:SOAP-ENC="http://schemas.xmlsoap.)o(org/so)o(ap/enc)o(oding/)o
(")236 3462 y(xmlns:SOAP-ENV="http://schemas.xmlsoap.o)o(rg/soa)o
(p/enve)o(lope/")236 3553 y(xmlns:ZSI="http://www.zolera.com/schemas)o
(/ZSI/")236 3645 y(xmlns:xsd="http://www.w3.org/2001/XMLSch)o(ema")236
3736 y(xmlns:xsi="http://www.w3.org/2001/XMLSch)o(ema-in)o(stance)o(")
236 3827 y(SOAP-ENV:encodingStyle="http://schemas.x)o(mlsoap)o(.org/s)o
(oap/en)o(coding)o(/">)236 3919 y(<SOAP-ENV:Header></SOAP-ENV:Header>)
236 4010 y(<SOAP-ENV:Body>)236 4101 y(<getPerson>)236
4193 y(<name)i(xsi:type="xsd:string">christopher</name>)236
4284 y(</getPerson>)236 4375 y(</SOAP-ENV:Body>)236 4467
y(</SOAP-ENV:Envelope>)236 4649 y(_________________________________)c
(Wed)k(Oct)g(11)h(13:19:00)e(2006)h(RESPONSE:)236 4741
y(Server:)g(Apache/2.0.53-dev)e(\(Unix\))i(mod_ruby/1.2.4)e
(Ruby/1.8.2\(2004-12-25\))236 4832 y(mod_python/3.1.4)g(Python/2.4.1)
236 4923 y(Transfer-Encoding:)g(chunked)236 5015 y(Content-Type:)h
(text/xml)236 5197 y(<SOAP-ENV:Envelope)f
(xmlns:SOAP-ENC="http://schemas.xmlsoap.)o(org/so)o(ap/enc)o(oding/)o
(")236 5289 y(xmlns:SOAP-ENV="http://schemas.xmlsoap.o)o(rg/soa)o
(p/enve)o(lope/")236 5380 y(xmlns:ZSI="http://www.zolera.com/schemas)o
(/ZSI/")236 5471 y(xmlns:xsd="http://www.w3.org/2001/XMLSch)o(ema")236
5562 y(xmlns:xsi="http://www.w3.org/2001/XMLSch)o(ema-in)o(stance)o(">)
236 5654 y(<SOAP-ENV:Header></SOAP-ENV:Header>)236 5745
y(<SOAP-ENV:Body>)236 5836 y(<getPersonResponse)g
(xmlns:ns1="urn:MyApp">)236 5928 y(<ns1:Person>)236 6019
y(<name)i(xsi:type="xsd:string">christopher</name>)236
6110 y(<age)g(xsi:type="xsd:nonNegativeInteger">26</age)o(>)236
6202 y(</ns1:Person>)236 6293 y(</getPersonResponse>)236
6384 y(</SOAP-ENV:Body>)236 6476 y(</SOAP-ENV:Envelope>)p
0 5549 3901 4 v 0 5649 a Fi(D)-6 b(.2.)52 b(code)3430
b(65)p eop end
%%Trailer

userdict /end-hook known{end-hook}if
%%EOF
