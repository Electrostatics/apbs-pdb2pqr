language: cpp

os:
    - osx
    - linux

compiler:
    - gcc
    - clang

branches:
    only:
        - master

before_script:
    - cd apbs
    - mkdir travis
    - cd travis
    - cmake -DBUILD_DOC=OFF ..

script:
    - make

after_success:
    - cd ../tests
    - ls ../travis/bin
    - echo $TRAVIS_BUILD_DIR
    - PATH=$PATH:$TRAVIS_BUILD_DIR/travis/bin python apbs_tester.py

notifications:
  slack: electrostatics:U4cSeRAFGXl9vUqdg4WOubnc
